"use strict";(self.webpackChunkafd_experience_builder_doc=self.webpackChunkafd_experience_builder_doc||[]).push([[7050],{50068:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var a=n(28453),l=n(96540);function r(e){const t=Object.assign({h2:"h2",a:"a",span:"span",p:"p",ol:"ol",li:"li",code:"code",pre:"pre",ul:"ul"},(0,a.RP)(),e.components),{Note:n,Steps:r}=t;return n||o("Note",!0),r||o("Steps",!0),l.createElement(l.Fragment,null,l.createElement(t.h2,{id:"introduction",className:"group relative s:flex s:flex-nowrap"},"Introduction",l.createElement(t.a,{href:"#introduction","aria-label":"introduction permalink",className:"anchor-link"},l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<calcite-icon scale="s" icon="link"></calcite-icon>'}}))),"\n",l.createElement(t.p,null,"ArcGIS Experience Builder is different from Web AppBuilder in a variety of ways. Because of these differences, directly converting custom widgets and themes from Web AppBuilder to Experience Builder is not possible. Even though it is a manual process, here are some tips, techniques, and recommended practices to consider as you are re-building your widget or theme for Experience Builder."),"\n",l.createElement(n,{type:"tip"},l.createElement(t.p,null,"This is not meant to be an exhaustive list, and the process is still a manual re-write process for the developer. These steps are provided to help with preparation and planning when re-building a widget within Experience Builder.\nFor built-in capabilities, please check out this ",l.createElement(t.a,{href:"https://doc.arcgis.com/en/web-appbuilder/latest/create-apps/wab-exb-widget-functionality-matrix.htm"},"funtionality matrix")," to identify the Experience Builder equivalent of every Web AppBuilder functions.")),"\n",l.createElement(t.h2,{id:"getting-started",className:"group relative s:flex s:flex-nowrap"},"Getting Started",l.createElement(t.a,{href:"#getting-started","aria-label":"getting started permalink",className:"anchor-link"},l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<calcite-icon scale="s" icon="link"></calcite-icon>'}}))),"\n",l.createElement(t.p,null,"First, review the Experience Builder documentation, and learn TypeScript, React, JSX, and Jimu per the ",l.createElement(t.a,{href:"/experience-builder/guide/getting-started-widget/"},"Getting Started documentation"),"."),"\n",l.createElement(t.h2,{id:"create-a-new-widget",className:"group relative s:flex s:flex-nowrap"},"Create a New Widget",l.createElement(t.a,{href:"#create-a-new-widget","aria-label":"create a new widget permalink",className:"anchor-link"},l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<calcite-icon scale="s" icon="link"></calcite-icon>'}}))),"\n",l.createElement(t.p,null,"Once you are familiar with the core technology concepts, create a blank/starter Experience Builder widget and make sure you have the build environment setup correctly. Then start moving code over from your Web AppBuilder custom widget into your new Experience Builder custom widget, taking note of the following:"),"\n",l.createElement(r,null,l.createElement(t.ol,null,"\n",l.createElement(t.li,null,"\n",l.createElement(t.p,null,"Both widgets have a ",l.createElement(t.code,null,"manifest.json"),", but Experience Builder's is slightly different, review the ",l.createElement(t.a,{href:"/experience-builder/guide/widget-manifest/"},"new format of manifest.json")," and update as appropriate."),"\n"),"\n",l.createElement(t.li,null,"\n",l.createElement(t.p,null,"Any dojo-specific modules must be replaced - for example, if using ",l.createElement(t.code,null,"dojo/domClass")," module's ",l.createElement(t.code,null,"domClass")," function like this:"),"\n",l.createElement(t.pre,null,l.createElement(t.code,{className:"language-js"},'domClass.contains(domNode, "myClassName");\n')),"\n",l.createElement(t.p,null,"... you should now re-write that with non-dojo alternatives, in this case:"),"\n",l.createElement(t.pre,null,l.createElement(t.code,{className:"language-js"},'domNode.classList.contains("myClassName");\n')),"\n",l.createElement(n,{type:"tip"},l.createElement(t.p,null,"Dojo handles standardizing browser support for you, but using native JavaScript functionality does not, so you should check browser support for features you're using with sites like ",l.createElement(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API"},"MDN")," or ",l.createElement(t.a,{href:"https://caniuse.com/"},"CanIUse"),". In this case, for example, CanIUse says that ",l.createElement(t.a,{href:"https://caniuse.com/?search=classList"},l.createElement(t.code,null,"classList")," is supported in all major browsers"),".")),"\n"),"\n",l.createElement(t.li,null,"\n",l.createElement(t.p,null,l.createElement(t.a,{href:"https://developers.arcgis.com/web-appbuilder/guide/widget-life-cycle.htm"},"Widget life cycle methods")," do not work the same. In general, widget life cycle methods that happen at the widget startup (",l.createElement(t.code,null,"constructor"),", ",l.createElement(t.code,null,"postMixinProperties"),", ",l.createElement(t.code,null,"buildRendering"),", ",l.createElement(t.code,null,"postCreate"),") can probably moved into the ",l.createElement(t.a,{href:"https://reactjs.org/docs/react-component.html#componentdidmount"},"componentDidMount()")," function (or equivalent ",l.createElement(t.code,null,"useEffect()")," if using hooks)."),"\n"),"\n",l.createElement(t.li,null,"\n",l.createElement(t.p,null,"The ",l.createElement(t.a,{href:"https://developers.arcgis.com/web-appbuilder/guide/define-the-template.htm"},"template that used to be in ",l.createElement(t.code,null,"widget.html"))," will now be converted to ",l.createElement(t.a,{href:"https://reactjs.org/docs/introducing-jsx.html"},"JSX")," in the ",l.createElement(t.code,null,"render()")," function of your custom Experience Builder widget (React component)."),"\n",l.createElement(t.ul,null,"\n",l.createElement(t.li,null,"If you are naming DOM nodes with ",l.createElement(t.code,null,"data-dojo-attach-point"),", an equivalent in React is ",l.createElement(t.a,{href:"https://reactjs.org/docs/refs-and-the-dom.html"},"Refs"),"."),"\n",l.createElement(t.li,null,"If you are using NLS for internationalization/translation, in your template (Example: ",l.createElement(t.code,null,"<div>${nls.label1}.</div>"),") you'll now use the ",l.createElement(t.a,{href:"/experience-builder/guide/extend-base-widget/#i18n-support"},'"translations folder" pattern'),")."),"\n"),"\n"),"\n",l.createElement(t.li,null,"\n",l.createElement(t.p,null,"Accessing a Map/Scene object - If you are using ",l.createElement(t.code,null,"this.map"),", this pattern does not work exactly the same in Experience Builder since you can now have multiple maps or scenes in a single experience (where you could only have one map per Web AppBuilder app). See ",l.createElement(t.a,{href:"/experience-builder/storybook/?path=/story/components-jimu-ui-advanced-setting-components-mapwidgetselector--has-selected-map"},l.createElement(t.code,null,"MapWidgetSelector"))," and ",l.createElement(t.a,{href:"/experience-builder/api-reference/jimu-arcgis/JimuMapViewComponent/"},l.createElement(t.code,null,"JimuMapViewComponent")),"."),"\n"),"\n",l.createElement(t.li,null,"\n",l.createElement(t.p,null,"If you have a custom Setting panel (in the ",l.createElement(t.code,null,"/setting")," folder), the equivalent of that is in ",l.createElement(t.code,null,"src/setting")," in your custom Experience Builder widget. ",l.createElement(t.a,{href:"/experience-builder/guide/extend-base-widget/#creating-a-setting-ui-for-the-widget"},"More info on creating a setting UI"),"."),"\n"),"\n")))}var i=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,a.RP)(),e.components);return t?l.createElement(t,e,l.createElement(r,e)):r(e)};function o(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}var c=n(69507),s=n(46427);const u=function(e){const{data:{topicNavigation:t}}=e;return l.createElement(c.A,null,l.createElement(s.S,Object.assign({},e,{topicNavigation:t,wrapInLayout:!1})))};function d(e){return l.createElement(u,e,l.createElement(i,e))}}}]);