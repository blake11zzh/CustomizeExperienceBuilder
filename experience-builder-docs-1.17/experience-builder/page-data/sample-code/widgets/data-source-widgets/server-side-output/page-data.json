{"componentChunkName":"component---src-components-sample-code-layout-tsx","path":"/sample-code/widgets/data-source-widgets/server-side-output/","result":{"data":{"page":{"id":"79478d89-34ef-5c66-9463-58430f823661","title":"Server-side output data source","slug":"readme","url":"sample-code/widgets/data-source-widgets/server-side-output/","uids":[],"tags":[],"firstHeader":"Server-side output data source","keywords":[],"context":{"product":"experience-builder"},"redirects":[],"childMarkdownRemark":{"html":"<p>An output data source may not save data in data source instance, but uses remote database, this is called a server-side output data source.</p>\n<h2 id=\"how-to-use-the-sample\" class=\"group relative s:flex s:flex-nowrap\">How to use the sample<a href=\"#how-to-use-the-sample\" aria-label=\"how to use the sample permalink\" class=\"anchor-link\"><calcite-icon scale=\"s\" icon=\"link\"></calcite-icon></a></h2>\n<p>Clone the <a href=\"https://github.com/esri/arcgis-experience-builder-sdk-resources\">sample repo</a> and copy this widget's folder (within <code>widgets</code>) to the <code>client/your-extensions/widgets</code> folder of your Experience Builder installation.</p>\n<h2 id=\"how-it-works\" class=\"group relative s:flex s:flex-nowrap\">How it works<a href=\"#how-it-works\" aria-label=\"how it works permalink\" class=\"anchor-link\"><calcite-icon scale=\"s\" icon=\"link\"></calcite-icon></a></h2>\n<p>In <code>setting.tsx</code>, use <code>DataSourceSelector</code> to allow the user to select an origin data source. Declare the output data source inside <code>onChange</code> callback of <code>DataSourceSelector</code>.</p>\n<pre><code class=\"hljs not-afd-flow-content language-ts\"><span class=\"hljs-comment\">// Let framework know which data source current widget is using and which data source current widget is the  output.</span>\n<span class=\"hljs-built_in\">this</span>.props.onSettingChange({\n  <span class=\"hljs-attr\">id</span>: <span class=\"hljs-built_in\">this</span>.props.id,\n  <span class=\"hljs-attr\">useDataSources</span>: useDataSources\n}, outputDsJsons)</code></pre>\n<p>Select a filter and save it in widget config.</p>\n<pre><code class=\"hljs not-afd-flow-content language-tsx\">&#x3C;SqlExpressionBuilderPopup\n  dataSource={ds}\n  mode={SqlExpressionMode.Simple}\n  expression={<span class=\"hljs-built_in\">this</span>.props.config.sqlExpression}\n  <span class=\"hljs-comment\">// use this.props.onSettingChange to save filter to config inside this callback</span>\n  onChange={<span class=\"hljs-built_in\">this</span>.onSqlExpressionChange}\n  isOpen={<span class=\"hljs-built_in\">this</span>.state.isSqlBuilderOpen}\n  toggle={<span class=\"hljs-built_in\">this</span>.toggleSqlBuilder}\n/></code></pre>\n<p>In <code>widget.tsx</code>, use <code>DataSourceComponent</code> to create origin data source instance. Update the output data source's query parameters every time the user clicks the <code>update output data source</code> button.</p>\n<pre><code class=\"hljs not-afd-flow-content language-tsx\">&#x3C;Button onClick={<span class=\"hljs-built_in\">this</span>.updateOutputDsQueryParams}>\n  Update output data source\n&#x3C;/Button></code></pre>\n<p>Please note this widget only generates an output data source. If you want to use the output data source, please add another widget (such as the List widget) and select the output data source for it. This sample widget does not listen to the origin data source change, you can use <code>onDataSourceInfoChange</code> callback of the <code>DataSourceComponent</code> to listen to the origin data source change.</p>","tocData":{"items":[{"url":"#server-side-output-data-source","title":"Server-side output data source","items":[{"url":"#how-to-use-the-sample","title":"How to use the sample"},{"url":"#how-it-works","title":"How it works"}]}]}}},"topicNavigation":{"nav":{"title":"Sample Code","children":[{"title":"Themes","children":[{"title":"Sample theme","url":"/sample-code/themes/demo-theme/","type":"page","id":"NavigationYaml-cm8da8oki008o7fm38fyj5za4"}],"type":"folder","id":"NavigationYaml-cm8da8oki008n7fm37aonca6z"},{"title":"Widgets","children":[{"title":"Get started","children":[{"title":"Demo class widget","url":"/sample-code/widgets/demo/","type":"page","id":"NavigationYaml-cm8da8oki008r7fm3bsujb9cw"},{"title":"Demo function widget","url":"/sample-code/widgets/demo-function/","type":"page","id":"NavigationYaml-cm8da8oki008s7fm3gilp1a6z"}],"type":"folder","id":"NavigationYaml-cm8da8oki008q7fm342qw7275"},{"title":"Working with maps","children":[{"title":"Add layers","url":"/sample-code/widgets/add-layers/","type":"page","id":"NavigationYaml-cm8da8oki008u7fm3fuge4u2e"},{"title":"Create a map view","url":"/sample-code/widgets/map-view/","type":"page","id":"NavigationYaml-cm8da8oki008v7fm35crydz7q"},{"title":"Editor widget","url":"/sample-code/widgets/editor/","type":"page","id":"NavigationYaml-cm8da8oki008w7fm30qy902r0"},{"title":"Filter feature layer","url":"/sample-code/widgets/filter-feature-layer/","type":"page","id":"NavigationYaml-cm8da8oki008x7fm366j00pje"},{"title":"Get map coordinates (class)","url":"/sample-code/widgets/get-map-coordinates-class/","type":"page","id":"NavigationYaml-cm8da8oki008y7fm3bdjn8ixx"},{"title":"Get map coordinates (function)","url":"/sample-code/widgets/get-map-coordinates-function/","type":"page","id":"NavigationYaml-cm8da8oki008z7fm3hof1ag1g"},{"title":"Legend widget","url":"/sample-code/widgets/js-api-widget/","type":"page","id":"NavigationYaml-cm8da8oki00907fm3ftpu4nrv"},{"title":"Point clustering","url":"/sample-code/widgets/clustering/","type":"page","id":"NavigationYaml-cm8da8oki00917fm38k75cf8d"},{"title":"Show extent","url":"/sample-code/widgets/showextent/","type":"page","id":"NavigationYaml-cm8da8oki00927fm327mbd0pk"},{"title":"Use map components","url":"/sample-code/widgets/use-map-components/","type":"page","id":"NavigationYaml-cm8da8oki00937fm3fdnf9cne"},{"title":"View layers toggle","url":"/sample-code/widgets/view-layers-toggle/","type":"page","id":"NavigationYaml-cm8da8oki00947fm30o9n4yrh"}],"type":"folder","id":"NavigationYaml-cm8da8oki008t7fm3f72hh6no"},{"title":"Data sources","children":[{"title":"Client-side output data source","url":"/sample-code/widgets/data-source-widgets/client-side-output/","type":"page","id":"NavigationYaml-cm8da8oki00967fm3eugufwfw"},{"title":"Server-side output data source","url":"/sample-code/widgets/data-source-widgets/server-side-output/","type":"page","id":"NavigationYaml-cm8da8oki00977fm30u0i19zl"},{"title":"Statistics with output data source","url":"/sample-code/widgets/data-source-widgets/statistic-client-side-output/","type":"page","id":"NavigationYaml-cm8da8oki00987fm35bq6bc7l"},{"title":"How to use fields","url":"/sample-code/widgets/data-source-widgets/how-to-use-fields/","type":"page","id":"NavigationYaml-cm8da8oki00997fm351r032zf"},{"title":"Output data source without original data sources","url":"/sample-code/widgets/data-source-widgets/output-data-source-without-original-data-sources/","type":"page","id":"NavigationYaml-cm8da8oki009a7fm311kecn0j"},{"title":"Runtime data source without saving to config","url":"/sample-code/widgets/data-source-widgets/runtime-data-source-without-saving-to-config/","type":"page","id":"NavigationYaml-cm8da8oki009b7fm3277a66qv"},{"title":"Use a feature layer (class)","url":"/sample-code/widgets/feature-layer-class/","type":"page","id":"NavigationYaml-cm8da8oki009c7fm33t8wej7d"},{"title":"Use a feature layer (function)","url":"/sample-code/widgets/feature-layer-function/","type":"page","id":"NavigationYaml-cm8da8oki009d7fm38l7mbzib"},{"title":"Use expression","url":"/sample-code/widgets/use-expression/","type":"page","id":"NavigationYaml-cm8da8oki009e7fm3addr28yx"}],"type":"folder","id":"NavigationYaml-cm8da8oki00957fm356lwallb"},{"title":"Widget communication","children":[{"title":"Control the widget state","url":"/sample-code/widgets/control-the-widget-state/","type":"page","id":"NavigationYaml-cm8da8oki009g7fm33qko18a8"},{"title":"Create Redux store","url":"/sample-code/widgets/redux/","type":"page","id":"NavigationYaml-cm8da8oki009h7fm39m8sh8q2"},{"title":"Message subscriber","url":"/sample-code/widgets/message-subscriber/","type":"page","id":"NavigationYaml-cm8da8oki009i7fm36t2867xs"},{"title":"Share code between widgets","url":"/sample-code/widgets/share-code-widgets/","children":[{"title":"Dynamic loading","url":"/sample-code/widgets/share-code-chunk/","type":"page","id":"NavigationYaml-cm8da8oki009k7fm3b4qmhy99"},{"title":"Shared entry","url":"/sample-code/widgets/share-code-entry/","type":"page","id":"NavigationYaml-cm8da8okj009l7fm34c1qcjrb"},{"title":"share code dynamically","url":"/sample-code/widgets/share-code-entry-dynamic/","type":"page","id":"NavigationYaml-cm8da8okj009m7fm35elbgivv"}],"type":"section","id":"NavigationYaml-cm8da8oki009j7fm31epcbqzt"},{"title":"Show record id","url":"/sample-code/widgets/data-action-widgets/show-record-id/","type":"page","id":"NavigationYaml-cm8da8okj009n7fm3279mfwkq"},{"title":"Listen selection change","url":"/sample-code/widgets/listen-selection-change/","type":"page","id":"NavigationYaml-cm8da8okj009o7fm32fr7dzk6"}],"type":"folder","id":"NavigationYaml-cm8da8oki009f7fm3bzzzfm73"},{"title":"Other","children":[{"title":"Translation","url":"/sample-code/widgets/translation/","type":"page","id":"NavigationYaml-cm8da8okj009q7fm3hko892ky"},{"title":"Unit Testing","url":"/sample-code/widgets/show-unit-tests/","type":"page","id":"NavigationYaml-cm8da8okj009r7fm30pc7gl27"},{"title":"Use a third-party library: D3","url":"/sample-code/widgets/d3/","type":"page","id":"NavigationYaml-cm8da8okj009s7fm3gpolc7pz"},{"title":"Use a third-party library: jQuery","url":"/sample-code/widgets/jquery/","type":"page","id":"NavigationYaml-cm8da8okj009t7fm3fkob7zbj"},{"title":"Use a third-party library: react-data-grid","url":"/sample-code/widgets/react-data-grid/","type":"page","id":"NavigationYaml-cm8da8okj009u7fm30bwo9kp0"},{"title":"Use assets","url":"/sample-code/widgets/use-assets/","type":"page","id":"NavigationYaml-cm8da8okj009v7fm3glyhhev8"},{"title":"Use calcite components","url":"/sample-code/widgets/use-calcite-components/","type":"page","id":"NavigationYaml-cm8da8okj009w7fm31ihmhee6"},{"title":"Use coding components","url":"/sample-code/widgets/use-coding-components/","type":"page","id":"NavigationYaml-cm8da8okj009x7fm38d4c5wih"},{"title":"Web component","url":"/sample-code/widgets/web-component/","type":"page","id":"NavigationYaml-cm8da8okj009y7fm3c44n86gb"},{"title":"Web worker","url":"/sample-code/widgets/web-worker/","type":"page","id":"NavigationYaml-cm8da8okj009z7fm37bvo37ec"}],"type":"folder","id":"NavigationYaml-cm8da8okj009p7fm3e96l9wtk"}],"type":"folder","id":"NavigationYaml-cm8da8oki008p7fm3d350hcwa"}],"type":"root","id":"NavigationYaml-cm8da8oki008m7fm34dr1c47h","publicPaginationURL":"/experience-builder/static/3d81cdccd4bea794999fa7b7d5001a82.pagination.json"},"error":null}},"pageContext":{"product":"experience-builder","id":"79478d89-34ef-5c66-9463-58430f823661","slug":"readme","url":"sample-code/widgets/data-source-widgets/server-side-output/"}},"staticQueryHashes":["1124934240","1767297776","1796195804","614850884","780576150"],"slicesMap":{}}