"use strict";(self.webpackChunkafd_experience_builder_doc=self.webpackChunkafd_experience_builder_doc||[]).push([[2061],{95426:function(e,n,t){t.r(n),t.d(n,{default:function(){return p}});var l=t(28453),r=t(96540);function a(e){const n=Object.assign({p:"p",a:"a",h3:"h3",span:"span",code:"code",ol:"ol",li:"li",pre:"pre",ul:"ul"},(0,l.RP)(),e.components),{Note:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Note",!0),r.createElement(r.Fragment,null,r.createElement(n.p,null,"The experiences you create with developer edition of ArcGIS Experience Builder can be downloaded and hosted on a web server. Any experience that is using private content must be registered on ArcGIS Online or ArcGIS Enterprise. In order to provide the best user experience for your end-users, please see the ",r.createElement(n.a,{href:"/experience-builder/guide/requirements/"},"system requirements")," prior to deploying your experience."),"\n",r.createElement(n.h3,{id:"download-the-experience",className:"group relative s:flex s:flex-nowrap"},"Download the experience",r.createElement(n.a,{href:"#download-the-experience","aria-label":"download the experience permalink",className:"anchor-link"},r.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<calcite-icon scale="s" icon="link"></calcite-icon>'}}))),"\n",r.createElement(n.p,null,"To download the experience, on the experience gallery home page click on the ",r.createElement(n.code,null,"ellipsis (three dots)")," and click ",r.createElement(n.code,null,"Download")," (make sure there is no error in your client terminal when the app includes custom widgets). A ZIP file is created and downloaded to your local drive. It is located in the download directory defined for your browser."),"\n",r.createElement(t,{type:"Note"},r.createElement(n.p,null,"You must publish the application before you are able to download it.\nThe downloaded experience comes with a ",r.createElement(n.code,null,"web.config")," file that configures some default settings for the web server, and it now includes ",r.createElement(n.a,{href:"https://developers.arcgis.com/javascript/latest/install-and-set-up/#web-server-hosting-configuration"},"ArcGIS Maps SDK for JavaScript settings")," into this default ",r.createElement(n.code,null,"web.config")," for experiences."),r.createElement(n.p,null,"If the download failed, please check if any anti-virus software in your machine is on. Turn off the anti-virus software and try again.")),"\n",r.createElement(n.h3,{id:"deploy-the-experience",className:"group relative s:flex s:flex-nowrap"},"Deploy the experience",r.createElement(n.a,{href:"#deploy-the-experience","aria-label":"deploy the experience permalink",className:"anchor-link"},r.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<calcite-icon scale="s" icon="link"></calcite-icon>'}}))),"\n",r.createElement(n.p,null,"To deploy the experience on your web server, complete the following steps:"),"\n",r.createElement(n.ol,null,"\n",r.createElement(n.li,null,"\n",r.createElement(n.p,null,"Unzip the downloaded experience and copy the folder to your web server."),"\n"),"\n",r.createElement(n.li,null,"\n",r.createElement(n.p,null,"If your app has private content, complete steps 3-6, otherwise your experience is deployed."),"\n"),"\n",r.createElement(n.li,null,"\n",r.createElement(n.p,null,"Add and register the app. See ",r.createElement(n.a,{href:"/experience-builder/guide/install-guide/#create-client-id-using-arcgis-online-or-arcgis-enterprise"},"Create Client ID using ArcGIS Online or ArcGIS Enterprise")," for details."),"\n"),"\n",r.createElement(n.li,null,"\n",r.createElement(n.p,null,"Copy the ",r.createElement(n.code,null,"AppID")," and open the app ",r.createElement(n.code,null,"config.json")," file located in the root app folder (e.g. <.zip file root>\\cdn\\0\\config.json)."),"\n"),"\n",r.createElement(n.li,null,"\n",r.createElement(n.p,null,"Create a ",r.createElement(n.code,null,"clientId")," property under the ",r.createElement(n.code,null,"attributes")," object."),"\n"),"\n",r.createElement(n.li,null,"\n",r.createElement(n.p,null,"Paste the ",r.createElement(n.code,null,"AppID")," in the ",r.createElement(n.code,null,"clientId")," property in the app config.json file. Save the file."),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-json"},'"attributes": {\n    "portalUrl": "https://exb.maps.arcgis.com",\n    "clientId": "EXBAPPsag0XSRtpj"\n  },\n')),"\n",r.createElement(n.p,null,"The app is now available by browsing to your server/app name/index.html."),"\n"),"\n"),"\n",r.createElement(n.h3,{id:"automated-deployments",className:"group relative s:flex s:flex-nowrap"},"Automated deployments",r.createElement(n.a,{href:"#automated-deployments","aria-label":"automated deployments permalink",className:"anchor-link"},r.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<calcite-icon scale="s" icon="link"></calcite-icon>'}}))),"\n",r.createElement(n.p,null,"To generate the app ZIP export automatically from a terminal without having the Experience Builder server running, use the ",r.createElement(n.code,null,"zipApp")," command. This is often used in DevOps workflows for automated deployments."),"\n",r.createElement(n.p,null,"In the terminal, browse to the extracted root directory of your Experience Builder developer edition install (the directory that contains the “client” and “server” folders) and run the following command:"),"\n",r.createElement(n.pre,null,r.createElement(n.code,null,"node -e \"require('./server/src/middlewares/dev/apps/app-download.js').zipApp('0', 'app.zip', 'my_client_id');\"\n")),"\n",r.createElement(n.ul,null,"\n",r.createElement(n.li,null,"Replace the ‘0’ with the ID of the app that you’d like to export."),"\n",r.createElement(n.li,null,"Replace the ‘app.zip’ with the name of the ZIP file you’d like it to generate."),"\n",r.createElement(n.li,null,"Replace the ",r.createElement(n.code,null,"my_client_id")," with a valid ",r.createElement(n.code,null,"AppID")," from ArcGIS Online or ArcGIS Enterprise. See ",r.createElement(n.a,{href:"/experience-builder/guide/install-guide/#create-client-id-using-arcgis-online-or-arcgis-enterprise"},"Create Client ID using ArcGIS Online or ArcGIS Enterprise")," for details. This third parameter is optional."),"\n",r.createElement(n.li,null,"Ensure the ",r.createElement(n.code,null,"NODE_ENV")," environmental variable is set to ",r.createElement(n.code,null,"production")," in order to create the production build that generates minified (smaller) files."),"\n"),"\n",r.createElement(n.p,null,"Starting at version 1.15, the ",r.createElement(n.code,null,"zipApp")," function supports an optional fourth parameter which is an object that can have properties of ",r.createElement(n.code,null,"locales")," or ",r.createElement(n.code,null,"configModifier"),"."),"\n",r.createElement(n.ul,null,"\n",r.createElement(n.li,null,"The ",r.createElement(n.code,null,"locales")," property can be used to specify the locales to export. If this is not set, all locales will be exported."),"\n",r.createElement(n.li,null,"The ",r.createElement(n.code,null,"configModifier")," property can be used to modify the ",r.createElement(n.code,null,"config.json")," file before exporting the app. It can be a function or an object.","\n",r.createElement(n.ul,null,"\n",r.createElement(n.li,null,"If it is a function, it will be called with the ",r.createElement(n.code,null,"config")," object and should return the modified ",r.createElement(n.code,null,"config")," object."),"\n",r.createElement(n.li,null,"If it is an object, you can specify the update value like the below example."),"\n"),"\n"),"\n"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-js"},"{\n  configModifier: {\n    'attributes.portalUrl': 'new-portal-url'\n  }\n}\n\n")),"\n",r.createElement(n.p,null,"There are more examples in the ",r.createElement(n.code,null,"download-app.js")," file."),"\n",r.createElement(n.h3,{id:"service-worker-cache",className:"group relative s:flex s:flex-nowrap"},"Service worker cache",r.createElement(n.a,{href:"#service-worker-cache","aria-label":"service worker cache permalink",className:"anchor-link"},r.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<calcite-icon scale="s" icon="link"></calcite-icon>'}}))),"\n",r.createElement(n.p,null,"Experience Builder uses ",r.createElement(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API"},"service workers")," to proactively control the caching of assets to improve the load times of your application. If a deployed application requires an update to its source code, config.json, or any other changes, you can do the update in the Developer edition, then re-download and deploy the app. However, if you need to do the update in the download package directly, you must complete the following steps to update the service worker cache."),"\n",r.createElement(n.ol,null,"\n",r.createElement(n.li,null,"In your app directory, rename ",r.createElement(n.code,null,"cdn/0")," to ",r.createElement(n.code,null,"cdn/1"),"."),"\n",r.createElement(n.li,null,"Modify any source code or changes you need to make in the app."),"\n",r.createElement(n.li,null,"Open ",r.createElement(n.code,null,"index.html")," on your application's root folder.","\n",r.createElement(n.ul,null,"\n",r.createElement(n.li,null,"Change ",r.createElement(n.code,null,'<base href="./cdn/0/"/>')," to ",r.createElement(n.code,null,'<base href="./cdn/1/"/> '),"."),"\n",r.createElement(n.li,null,"Change the ",r.createElement(n.code,null,"buildNumber = '0'")," to ",r.createElement(n.code,null,"buildNumber = '1'"),"."),"\n"),"\n"),"\n"),"\n",r.createElement(n.p,null,"To get better performance, here are some recommended settings for the cache header:"),"\n",r.createElement(n.ul,null,"\n",r.createElement(n.li,null,"Cache ",r.createElement(n.code,null,"index.html")," for a very short period such as one minute or no cache."),"\n",r.createElement(n.li,null,"Cache the ",r.createElement(n.code,null,"cdn")," folder for a long period such as one year."),"\n"))}var o=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,l.RP)(),e.components);return n?r.createElement(n,e,r.createElement(a,e)):a(e)};var c=t(69507),i=t(46427);const s=function(e){const{data:{topicNavigation:n}}=e;return r.createElement(c.A,null,r.createElement(i.S,Object.assign({},e,{topicNavigation:n,wrapInLayout:!1})))};function p(e){return r.createElement(s,e,r.createElement(o,e))}}}]);