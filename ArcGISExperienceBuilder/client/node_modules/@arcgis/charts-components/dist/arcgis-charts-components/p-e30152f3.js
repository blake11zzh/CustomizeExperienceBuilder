/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See LICENSE.md for details.
 * v4.32.1
 */
import{r as t,c as i,g as e,h as s,H as a,a as o}from"./p-ccd1c88c.js";import{M as l,A as n,u as h,I as r,C as c}from"./p-33adbadb.js";import{U as d,g as p,i as g}from"./p-13fd0548.js";import{b as C}from"./p-e3e7b132.js";const f=class{constructor(e){t(this,e),this.arcgisChartsConfigScatterPlotLineStyleChange=i(this,"arcgisChartsConfigScatterPlotLineStyleChange",7),this.arcgisChartsConfigScatterPlotFillColorChange=i(this,"arcgisChartsConfigScatterPlotFillColorChange",7),this.arcgisChartsConfigScatterPlotXYFieldChange=i(this,"arcgisChartsConfigScatterPlotXYFieldChange",7),this.arcgisChartsConfigScatterPlotSizeVariableFieldChange=i(this,"arcgisChartsConfigScatterPlotSizeVariableFieldChange",7),this.arcgisChartsConfigPopoverClose=i(this,"arcgisChartsConfigPopoverClose",7),this.arcgisChartsConfigPopoverOpenChange=i(this,"arcgisChartsConfigPopoverOpenChange",7),this.seriesPopoverClose=()=>{this.open=!1,this.arcgisChartsConfigPopoverClose.emit()},this.closePopover=()=>{this.open=!1,this.arcgisChartsConfigPopoverClose.emit()},this.updateSymbolProperties=t=>{this.selectedContent=t.target.lineStyle,this.arcgisChartsConfigScatterPlotLineStyleChange.emit(t.detail)},this.updateColorProperties=t=>{this.selectedContent=t.detail,this.arcgisChartsConfigScatterPlotFillColorChange.emit(this.selectedContent)},this.onFieldSelectionChange=t=>{const i=t.target.selectedItems;this.contentKind===C.sizeVariable?this.arcgisChartsConfigScatterPlotSizeVariableFieldChange.emit(i.map((t=>t.value))[0]):this.arcgisChartsConfigScatterPlotXYFieldChange.emit(i.map((t=>t.value))[0]),this.open=!1},this.headingTitle=void 0,this.contentKind=void 0,this.selectedContent=void 0,this.referenceElement=void 0,this.placement=void 0,this.open=void 0,this.layerFieldsInfo=void 0}openChange(){this.arcgisChartsConfigPopoverOpenChange.emit({open:this.open})}async reposition(){await(this.popoverElement?.reposition())}async componentWillLoad(){({strings:this.strings}=await l(this.hostElement,e(".")))}componentDidLoad(){this.openChange()}componentDidRender(){setTimeout((async()=>{await(this.picklist?.setFocus())}),d.PopoverTimer),n(this.popoverElement,this.open)}componentDidUpdate(){setTimeout((()=>{this.popoverElement?.reposition()}),d.PopoverTimer)}render(){const t=this.selectedContent,i=this.selectedContent;return s(a,{key:"01fd08c9dd14d05594bfb9e610e470fe34a0a477",class:"js-app-flyout"},s("calcite-popover",{key:"b8f47e9cb21ee292140e95fd8e3283ce9c76e88a",class:"scatter-plot-popover",referenceElement:this.referenceElement,placement:this.placement,offsetDistance:p(this.placement),onCalcitePopoverClose:this.closePopover,open:this.open,ref:t=>{this.popoverElement=t},label:""},Array.isArray(t)?s("arcgis-charts-config-color-style",{header:this.strings.fillColor,class:"fill-color",enableClose:!0,open:this.open,selectedColor:t,onArcgisChartsConfigColorStyleClose:this.seriesPopoverClose,onArcgisChartsConfigColorStyleChange:this.updateColorProperties}):null,i?.type===h.SLS?s("arcgis-charts-config-line-style",{header:this.strings.lineStyle,open:this.open,enableClose:!0,lineStyle:i,onArcgisChartsConfigLineStyleClose:this.seriesPopoverClose,onArcgisChartsConfigLineStyleChange:this.updateSymbolProperties}):null,Array.isArray(t)||i?.type===h.SLS?null:this.renderVariablePickList()))}renderVariablePickList(){const t=this.layerFieldsInfo?.length??0,i=[];this.contentKind===C.sizeVariable&&i.push(s("calcite-list-item",{label:" ",key:" ",value:" ",selected:g("",this.selectedContent)}));for(let e=0;e<t;e+=1){const t=this.layerFieldsInfo?.[e]??void 0;if(void 0!==t&&r(t)){const e=c(this.layerFieldsInfo,t.name);i.push(s("calcite-list-item",{label:e,key:t.name,value:t.name,selected:g(t.name,this.selectedContent)}))}}return s("calcite-panel",{class:"pick-list-panel",closable:!0,closed:!this.open,onCalcitePanelClose:this.closePopover},s("div",{slot:"header-content",class:"header"},this.headingTitle??""),s("calcite-list",{label:"",class:"pick-list-item-label",selectionMode:"single",selectionAppearance:"border",filterEnabled:!0,onCalciteListChange:this.onFieldSelectionChange,ref:t=>{this.picklist=t}},i))}static get assetsDirs(){return["assets"]}get hostElement(){return o(this)}static get watchers(){return{open:["openChange"]}}};f.style=".hide{display:none}.am5-modal{width:100%;height:100%;position:absolute;z-index:100000;top:0px;left:0px}.am5-modal-curtain{top:0px;left:0px;width:100%;height:100%;position:absolute;background:rgba(255, 255, 255, 0.5);z-index:100}.am5-modal-wrapper{top:0px;left:0px;width:100%;height:100%;position:absolute;display:flex;align-items:center;justify-content:center;white-space:nowrap;background:rgba(255, 255, 255, 0.5);z-index:101}.am5-modal-content{display:inline-block;padding:1.2em;vertical-align:middle;text-align:left;white-space:normal;background:rgb(255, 255, 255);border-radius:4px;box-shadow:rgba(0, 0, 0, 0.45) 0px 0px 36px 0px;color:rgb(0, 0, 0)}.arcgis-charts-modal{box-shadow:none !important}.arcgis-charts-modal-header{background-color:rgba(0, 0, 0, 0.05);font-weight:bold;padding:4px 4px 4px 4px}.show{display:block}.notifyPanel{flex:0 1 auto}.disable-interactions{pointer-events:none}.dim-text{color:var(--arcgis-charts-dim-text)}:host{width:100%}.pick-list-panel{max-height:60vh}";export{f as A}