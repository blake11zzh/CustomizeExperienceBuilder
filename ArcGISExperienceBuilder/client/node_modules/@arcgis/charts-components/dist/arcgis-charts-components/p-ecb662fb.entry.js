/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See LICENSE.md for details.
 * v4.32.1
 */
import{r as t,g as i,h as s,H as e,a,c as h}from"./p-ccd1c88c.js";import{M as n,u as c,a9 as o,a8 as r,a7 as l,$ as d,ai as b,aj as g,a5 as u,Z as p,r as m,B as f,ak as x,al as v,am as y,an as w,ao as k,A as C}from"./p-33adbadb.js";import{f as M,m as D,b as E,s as j,U as N,n as I,c as _,d as B,o as P,k as L}from"./p-13fd0548.js";import{g as F,s as A}from"./p-0a7e5e35.js";import{A as z}from"./p-258dc913.js";import{f as T}from"./p-93c0b1f3.js";import{d as S}from"./p-1da73821.js";import{W as O,h as G}from"./p-5a099bb2.js";import{o as V,i as $,L as W,D as q,M as R,B as U,U as X,T as K,a as Z,O as H,n as J,R as Q,N as Y}from"./p-247471b0.js";import{i as tt}from"./p-ff76a05d.js";import{c as it}from"./p-bb01c887.js";import{i as st}from"./p-76417cef.js";import{c as et,b as at}from"./p-967b8d88.js";import{a as ht}from"./p-d49d148b.js";import{d as nt}from"./p-af520d58.js";import"./p-e3e7b132.js";import"./p-1383309b.js";import"./p-a2f87a76.js";import"./p-0f852d31.js";import"./p-9333f322.js";import"./p-2d6b2c24.js";const ct=et((function(t,i,s,e){at(t,i,s,e)})),ot=class{constructor(i){t(this,i),this.model=void 0,this.calculatedDataMinMaxBounds=void 0,this.open=!1,this.showMinXBoundOption=!0,this.showMaxXBoundOption=!0,this.showMinYBoundOption=!0,this.showMaxYBoundOption=!0,this.showEnableXLogOption=!0,this.showEnableYLogOption=!0,this.calculatedMinMaxBounds=void 0}async componentWillLoad(){({strings:this.strings}=await n(this.hostElement,i(".")))}getMinFromCalculatedDataBounds(t){return this.calculatedDataMinMaxBounds?.find((i=>i.isXAxis===t))?.minimum??Number.NaN}getMaxFromCalculatedDataBounds(t){return this.calculatedDataMinMaxBounds?.find((i=>i.isXAxis===t))?.maximum??Number.NaN}render(){const t=this.calculatedMinMaxBounds?.find((t=>t.isXAxis)),i=this.calculatedMinMaxBounds?.find((t=>!t.isXAxis));return s(e,{key:"001e1c475d054c28f319928ef29f7cd73aabaa31"},s("arcgis-charts-config-axis",{key:"fbd8b1f0ee87d8a03fd976865933f3813fcd9d9b",model:this.model,isXAxis:!0,axisTitle:this.strings.xAxis,showMinBoundOption:this.showMinXBoundOption,showMaxBoundOption:this.showMaxXBoundOption,showEnableLogOption:this.showEnableXLogOption,dataMinValue:this.getMinFromCalculatedDataBounds(!0),dataMaxValue:this.getMaxFromCalculatedDataBounds(!0),initialMaxBound:t?.maximum,initialMinBound:t?.minimum}),s("arcgis-charts-config-axis",{key:"0711b7f0b85d58b3796ab3a51640b855681c9a78",model:this.model,isXAxis:!1,axisTitle:this.strings.yAxis,showMinBoundOption:this.showMinYBoundOption,showMaxBoundOption:this.showMaxYBoundOption,showEnableLogOption:this.showEnableYLogOption,dataMinValue:this.getMinFromCalculatedDataBounds(!1),dataMaxValue:this.getMaxFromCalculatedDataBounds(!1),initialMaxBound:i?.maximum,initialMinBound:i?.minimum}))}static get assetsDirs(){return["assets"]}get hostElement(){return a(this)}};ot.style=":host{display:flex;flex-direction:column;width:var(--arcgis-charts-config-calcite-block-default-width)}";const rt="link-container",lt="label",dt="mb-2",bt="arcgis-charts-rtl",gt=class{constructor(i){t(this,i),this.getAxisBoundsFromStateStore=()=>{let t;const i=A.chartAxesBoundDataMap,s=this.model.getChartId();if(s){const e=F({chartId:s,isXAxis:this.isXAxis,isLogarithmic:this.axisModel.getLogarithmic()});t=i[s]?.[e]}return t},this.onShowLogScaleMouseEnter=async()=>{if(this.showLogScaleTooltip?.remove(),this.showLogScaleSwitch?.disabled){const t=await T(this.hostElement);this.showLogScaleTooltip=document.createElement("calcite-tooltip"),this.showLogScaleTooltip.textContent=t.tooltips.logDisabled,this.showLogScaleTooltip.open=!0,this.showLogScaleTooltip.referenceElement=this.showLogScaleSwitch,document.body.appendChild(this.showLogScaleTooltip)}},this.onShowLogScaleMouseLeave=()=>{this.showLogScaleTooltip?.remove()},this.onCategoryFormatChange=async t=>{await this.axisModel.setValueFormat(t.target.categoryFormat)},this.onMaxBoundsChange=async()=>{const{value:t}=this.maxBoundInputElement;let{status:i}=this.maxBoundInputElement;if(void 0!==t&&""!==t){const s=void 0===this.maxBoundInputElement.min?this.axisModel.getMinBound():Math.max(this.maxBoundInputElement.min,this.axisModel.getMinBound()),e=Number.parseFloat(t);if(e!==this.axisModel.getMinBound()&&M(e,s,this.maxBoundInputElement.max)){if(e!==this.axisModel.getMaxBound()){await this.axisModel.setMaxBound(e);const t=this.getAxisBoundsFromStateStore();t&&(t.currMaxBound=e)}i=E.IDLE}else i=E.INVALID}else i=E.IDLE;D({inputElement:this.maxBoundInputElement,status:i}),i!==E.INVALID&&this.minBoundInputElement?.status===E.INVALID&&await this.onMinBoundsChange(),this.updatesOccurred=this.updatesOccurred+1},this.onMaxBoundsChangeDebounced=S(this.onMaxBoundsChange,N.DebounceTimer),this.onMinBoundsChange=async()=>{const{value:t}=this.minBoundInputElement;let{status:i}=this.minBoundInputElement;if(void 0!==t&&""!==t){const s=void 0===this.minBoundInputElement.max?this.axisModel.getMaxBound():Math.min(this.minBoundInputElement.max,this.axisModel.getMaxBound()),e=Number.parseFloat(t);if(e!==this.axisModel.getMaxBound()&&M(e,this.minBoundInputElement.min,s)){if(e!==this.axisModel.getMinBound()){await this.axisModel.setMinBound(e);const t=this.getAxisBoundsFromStateStore();t&&(t.currMinBound=e)}i=E.IDLE}else i=E.INVALID}else i=E.IDLE;D({inputElement:this.minBoundInputElement,status:i}),i!==E.INVALID&&this.maxBoundInputElement?.status===E.INVALID&&await this.onMaxBoundsChange(),await this.updateEnableLogarithmic(this.axisModel.getLogarithmic()&&(this.dataMinValue??Number.NaN)>0),this.updatesOccurred=this.updatesOccurred+1},this.onMinBoundsChangeDebounced=S(this.onMinBoundsChange,N.DebounceTimer),this.onNumberFormatChange=async t=>{await this.axisModel.setValueFormat({type:O.NumberAxisFormat,intlOptions:t.detail}),this.updatesOccurred=this.updatesOccurred+1},this.onRevertMaxBoundsToDefault=async()=>{if(this.maxBoundInputElement?.status===E.INVALID||this.axisModel.getMaxBound()!==this.defaultMaxBound){const t=this.getAxisBoundsFromStateStore();this.axisModel.getMinBound()>this.defaultMaxBound&&await this.axisModel.setMinBound(t?.defaultMinBound??Number.NaN),await this.axisModel.setMaxBound(t?.defaultMaxBound??Number.NaN),this.updatesOccurred=this.updatesOccurred+1}},this.onRevertMinBoundsToDefault=async()=>{this.minBoundInputElement?.status!==E.INVALID&&this.axisModel.getMinBound()===this.defaultMinBound||(this.axisModel.getMaxBound()<this.defaultMinBound&&await this.axisModel.setMaxBound(Number.NaN),await this.axisModel.setMinBound(Number.NaN),this.updatesOccurred=this.updatesOccurred+1)},this.enableLogScale=async t=>{const{checked:i}=t.target;await this.axisModel.setLogarithmic(i&&(this.dataMinValue??Number.NaN)>0),this.updatesOccurred=this.updatesOccurred+1},this.onModelConfigChange=()=>{this.updatesOccurred=this.updatesOccurred+1},this.model=void 0,this.isXAxis=void 0,this.axisTitle=void 0,this.maxBoundMaxLimit=void 0,this.maxBoundMinLimit=void 0,this.minBoundMinLimit=void 0,this.minBoundMaxLimit=void 0,this.showMaxBoundOption=void 0,this.showMinBoundOption=void 0,this.showEnableLogOption=void 0,this.dataMaxValue=void 0,this.dataMinValue=void 0,this.initialMaxBound=void 0,this.initialMinBound=void 0,this.disableMaxBoundResetBtn=!0,this.disableMinBoundResetBtn=!0,this.updatesOccurred=0}modelChange(t,i){this.axisModel=new z(this.model,this.isXAxis),i?.removeEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange),t?.addEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange)}dataMinValueChange(t,i){Number.isNaN(i)&&!Number.isNaN(t)&&(this.defaultMinBound=t)}dataMaxValueChange(t,i){Number.isNaN(i)&&!Number.isNaN(t)&&(this.defaultMaxBound=t)}initialMaxBoundChange(){Number.isNaN(this.axisModel.getMaxBound())||this.axisModel.setMaxBound(this.axisModel.getMaxBound())}initialMinBoundChange(){Number.isNaN(this.axisModel.getMinBound())||this.axisModel.setMinBound(this.axisModel.getMinBound())}async componentWillLoad(){({strings:this.strings,direction:this.direction}=await n(this.hostElement,i("."))),this.modelChange(this.model),void 0!==this.dataMinValue&&this.dataMinValueChange(this.dataMinValue,Number.NaN),void 0!==this.dataMaxValue&&this.dataMaxValueChange(this.dataMaxValue,Number.NaN)}disableResetButtons(){const t=this.getAxisBoundsFromStateStore();t&&(this.disableMaxBoundResetBtn=t.defaultMaxBound===t.currMaxBound,this.disableMinBoundResetBtn=t.defaultMinBound===t.currMinBound)}componentDidRender(){this.disableResetButtons()}render(){return s(e,{key:"59dc6c6435a4feb78cfab0eaf0044a89555843f4",class:{[bt]:"rtl"===this.direction}},s("calcite-block",{key:"551e14f0dc649f652350a51c9e009d80deac4417",hidden:this.axisModel.getValueFormat()?.type===O.DateAxisFormat,collapsible:!1,open:!0,heading:this.axisTitle},this.renderAxis()))}disconnectedCallback(){this.model.removeEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange)}renderAxis(){let t;const i={...this.axisModel.getValueFormat()};switch(this.axisModel.getValueFormat()?.type){case O.CategoryAxisFormat:t=s("arcgis-charts-config-category-format",{categoryFormat:i,onArcgisChartsConfigCategoryFormatChange:this.onCategoryFormatChange});break;case O.NumberAxisFormat:t=s("div",null,this.renderShowLogScale(),this.renderMinBound(),this.renderMaxBound(),s("arcgis-charts-config-number-format",{numberFormat:{...i.intlOptions},onArcgisChartsConfigNumberFormatChange:this.onNumberFormatChange}));break;case O.DateAxisFormat:t=null}return t}renderMaxBound(){let t;if(this.showMaxBoundOption){const i=j(this.axisModel.getMaxBound(),this.initialMaxBound);t=s("div",null,s("calcite-label",{class:lt},this.strings.maxBounds,s("calcite-input",{type:"number",numberButtonType:"none",min:this.maxBoundMinLimit??Number.MIN_SAFE_INTEGER,max:this.maxBoundMaxLimit??Number.MAX_SAFE_INTEGER,step:"any",value:i,onCalciteInputInput:this.onMaxBoundsChangeDebounced,ref:t=>{this.maxBoundInputElement=t}})),s("div",{class:rt},s("calcite-button",{disabled:this.disableMaxBoundResetBtn,onClick:this.onRevertMaxBoundsToDefault,appearance:"transparent",iconEnd:"reset"},this.strings.revertToDefault)))}else t=null;return t}renderMinBound(){let t;if(this.showMinBoundOption){const i=j(this.axisModel.getMinBound(),this.initialMinBound??void 0);t=s("div",null,s("calcite-label",{class:lt},this.strings.minBounds,s("calcite-input",{type:"number",numberButtonType:"none",min:this.minBoundMinLimit??Number.MIN_SAFE_INTEGER,max:this.minBoundMaxLimit??Number.MAX_SAFE_INTEGER,step:"any",value:i,onCalciteInputInput:this.onMinBoundsChangeDebounced,ref:t=>{this.minBoundInputElement=t}})),s("div",{class:rt},s("calcite-button",{disabled:this.disableMinBoundResetBtn,appearance:"transparent",iconEnd:"reset",onClick:this.onRevertMinBoundsToDefault},this.strings.revertToDefault)))}else t=null;return t}renderShowLogScale(){let t;return this.showEnableLogOption&&(t=s("calcite-label",{layout:"inline-space-between",class:{[lt]:!0,[dt]:!0}},this.strings.logScale,s("div",{onMouseEnter:this.onShowLogScaleMouseEnter,onMouseLeave:this.onShowLogScaleMouseLeave},s("calcite-switch",{checked:this.axisModel.getLogarithmic()&&(this.dataMinValue??Number.NaN)>0,disabled:(this.dataMinValue??Number.NaN)<=0,onCalciteSwitchChange:this.enableLogScale,ref:t=>{this.showLogScaleSwitch=t}})))),t}async updateEnableLogarithmic(t){t!==this.axisModel.getLogarithmic()&&(await this.axisModel.setLogarithmic(t),this.updatesOccurred=this.updatesOccurred+1)}static get assetsDirs(){return["assets"]}get hostElement(){return a(this)}static get watchers(){return{model:["modelChange"],dataMinValue:["dataMinValueChange"],dataMaxValue:["dataMaxValueChange"],initialMaxBound:["initialMaxBoundChange"],initialMinBound:["initialMinBoundChange"]}}};gt.style=".hide{display:none}.am5-modal{width:100%;height:100%;position:absolute;z-index:100000;top:0px;left:0px}.am5-modal-curtain{top:0px;left:0px;width:100%;height:100%;position:absolute;background:rgba(255, 255, 255, 0.5);z-index:100}.am5-modal-wrapper{top:0px;left:0px;width:100%;height:100%;position:absolute;display:flex;align-items:center;justify-content:center;white-space:nowrap;background:rgba(255, 255, 255, 0.5);z-index:101}.am5-modal-content{display:inline-block;padding:1.2em;vertical-align:middle;text-align:left;white-space:normal;background:rgb(255, 255, 255);border-radius:4px;box-shadow:rgba(0, 0, 0, 0.45) 0px 0px 36px 0px;color:rgb(0, 0, 0)}.arcgis-charts-modal{box-shadow:none !important}.arcgis-charts-modal-header{background-color:rgba(0, 0, 0, 0.05);font-weight:bold;padding:4px 4px 4px 4px}.show{display:block}.notifyPanel{flex:0 1 auto}.disable-interactions{pointer-events:none}.dim-text{color:var(--arcgis-charts-dim-text)}calcite-block{width:var(--arcgis-charts-config-calcite-block-width, var(--arcgis-charts-config-calcite-block-default-width));height:var(--arcgis-charts-config-calcite-block-height, var(--arcgis-charts-config-calcite-block-default-height));border:0px;box-shadow:0 0 0 0}:host{display:flex;flex-direction:row}.text{display:flex;margin-left:var(--arcgis-charts-config-margin-minor);width:calc(100% - 1.5rem);height:2rem;margin-bottom:var(--arcgis-charts-config-margin-minor)}.label{display:flex;justify-content:space-between}.mb-2{margin-bottom:var(--arcgis-charts-config-margin-minor)}.link-container{display:flex;justify-content:flex-end;margin-top:-0.75rem}:host(.arcgis-charts-rtl) .text{margin-left:0rem;margin-right:var(--arcgis-charts-config-margin-minor)}";const ut="arcgis-charts-rtl",pt=class{constructor(i){t(this,i),this.arcgisChartsConfigCategoryFormatChange=h(this,"arcgisChartsConfigCategoryFormatChange",7),this.onCharacterLimitChange=()=>{const{value:t}=this.characterLimitInputElement,i=Math.floor(Number(t)),s=i===Number(t)&&i>=0;if(void 0!==t&&s&&M(t,this.characterLimitInputElement.min,this.characterLimitInputElement.max)){const i=Number.parseInt(t);this.updateCategoryFormat({type:this.categoryFormat.type,characterLimit:i}),this.arcgisChartsConfigCategoryFormatChange.emit(),D({inputElement:this.characterLimitInputElement,status:E.IDLE})}else D({inputElement:this.characterLimitInputElement,status:E.INVALID})},this.categoryFormat=void 0}async componentWillLoad(){({strings:this.strings,direction:this.direction}=await n(this.hostElement,i(".")))}render(){return s(e,{key:"5d4c040febc2b35949603f5fda023a366038d3a7",class:{[ut]:"rtl"===this.direction}},s("div",{key:"85ce8ba09fd5a24e5975bd87ea7274fa9a5b0a55",class:"container"},s("calcite-label",{key:"03aa5145d58226e7f180b71bd48c445ee5ff660d",class:"label"},this.strings.labelCharacterLmt,s("calcite-input",{key:"47f4405443e49c89a11bf0286ea10999ea83ea98",type:"number",class:"number-input",min:1,max:100,step:1,value:j(this.categoryFormat?.characterLimit,11),onCalciteInputInput:this.onCharacterLimitChange,ref:t=>{this.characterLimitInputElement=t}}))))}updateCategoryFormat(t){this.categoryFormat={...this.categoryFormat,...t}}static get assetsDirs(){return["assets"]}get hostElement(){return a(this)}};pt.style=".hide{display:none}.am5-modal{width:100%;height:100%;position:absolute;z-index:100000;top:0px;left:0px}.am5-modal-curtain{top:0px;left:0px;width:100%;height:100%;position:absolute;background:rgba(255, 255, 255, 0.5);z-index:100}.am5-modal-wrapper{top:0px;left:0px;width:100%;height:100%;position:absolute;display:flex;align-items:center;justify-content:center;white-space:nowrap;background:rgba(255, 255, 255, 0.5);z-index:101}.am5-modal-content{display:inline-block;padding:1.2em;vertical-align:middle;text-align:left;white-space:normal;background:rgb(255, 255, 255);border-radius:4px;box-shadow:rgba(0, 0, 0, 0.45) 0px 0px 36px 0px;color:rgb(0, 0, 0)}.arcgis-charts-modal{box-shadow:none !important}.arcgis-charts-modal-header{background-color:rgba(0, 0, 0, 0.05);font-weight:bold;padding:4px 4px 4px 4px}.show{display:block}.notifyPanel{flex:0 1 auto}.disable-interactions{pointer-events:none}.dim-text{color:var(--arcgis-charts-dim-text)}.container{width:var(--arcgis-charts-config-calcite-block-width, var(--arcgis-charts-config-calcite-block-default-width));height:var(--arcgis-charts-config-calcite-block-height, var(--arcgis-charts-config-calcite-block-default-height))}.container>.number-input{margin-bottom:0.5rem;display:flex}.container>.number-input>div{width:100%}:host{display:flex;flex-direction:row}.label{display:flex;margin-bottom:0.5rem}";const mt={type:c.TS,color:[1,1,1,255],font:{family:"Tahoma",size:12,decoration:o.None,style:r.Normal,weight:l.Normal}},ft={type:c.SLS,color:[1,1,1,255],style:d.Solid,width:2},xt="element-list",vt="section-label",yt=class{constructor(i){t(this,i),this.arcgisChartsConfigFormatPopoverChange=h(this,"arcgisChartsConfigFormatPopoverChange",7),this.arcgisChartsConfigPopoverOpenChange=h(this,"arcgisChartsConfigPopoverOpenChange",7),this.formatPopover=null,this.selectableElements=[],this.textProperties=[],this.symbolProperties=[],this.renderTextElement=(t,i)=>{const e=I(t),a=this.getFormatValue(t),h="string"==typeof a?a:"",n=this.selectedTexts.includes(t)||this.selectedSymbols.includes(t)||this.selectedBackground.includes(t);return s("calcite-list-item",{class:"chart-element",label:this.strings[t],description:h,value:t,selected:n,onClick:i,ref:t=>{const i=t;this.selectableElements.includes(i)||this.selectableElements.push(i)}},void 0!==e?s("calcite-icon",{slot:"content-start",scale:"s",icon:e}):null)},this.correctTextElementSelection=()=>{for(const t of this.selectableElements){const i=this.selectedTexts.includes(t.value)||this.selectedSymbols.includes(t.value)||this.selectedBackground.includes(t.value);t.selected=i}},this.symbolPropertyChange=t=>{let i;if(i="calcite-list-item"===t.target?.localName?t.target?.value:t.target?.parentNode?.value,this.selectedTexts=[],this.selectedBackground=[],this.selectedSymbols.includes(i))this.selectedSymbols=[],this.updateSelectedElement(this.selectedSymbols);else{const t=this.getFormatValue(i);this.selectedSymbols=[i],this.initSelectedSymbols(b(t)?t:ft)}this.setupFormatPopover()},this.textPropertyChange=t=>{let i;if(i="calcite-list-item"===t.target?.localName?t.target?.value:t.target?.parentNode?.value,this.selectedSymbols=[],this.selectedBackground=[],t.shiftKey){this.selectedTexts=[];const t=this.textProperties.indexOf(this.lastSelectedText),s=this.textProperties.indexOf(i);this.textProperties.forEach(((i,e)=>{e>=Math.min(t,s)&&e<=Math.max(t,s)&&this.selectedTexts.push(i)})),this.updateSelectedElement(this.selectedTexts),this.setupFormatPopover()}else if(t.ctrlKey)this.selectedTexts.includes(i)?(this.selectedTexts=this.selectedTexts.filter((t=>t!==i)),this.updateSelectedElement(this.selectedTexts)):(this.selectedTexts=[...this.selectedTexts,i],this.updateSelectedElement(this.selectedTexts)),this.setupFormatPopover();else if(this.selectedTexts.includes(i))this.selectedTexts=[],this.updateSelectedElement(this.selectedTexts),this.setupFormatPopover();else{const t=this.getFormatValue(i);this.selectedTexts=[i],this.initSelectedTexts(g(t)?t:mt),this.setupFormatPopover()}this.lastSelectedText=i},this.backgroundChange=t=>{let i;i="calcite-list-item"===t.target?.localName?t.target?.value:t.target?.parentNode?.value,this.selectedSymbols=[],this.selectedTexts=[],this.selectedBackground.includes(i)?(this.selectedBackground=[],this.selectedElement={}):(this.selectedBackground=[i],this.selectedElement=tt(this.getFormatValue(i))?void 0:this.getFormatValue(i)),this.setupFormatPopover()},this.updateSymbolProps=t=>{const i=t.detail;this.selectedSymbols.forEach((t=>{this.setFormatValue(t,i)})),this.selectedElement=it(t.target.selectedElement)},this.updateBackground=t=>{this.setFormatValue(V.Background,t.detail),this.selectedElement=t.detail},this.updateTextProps=t=>{const{font:i,color:s}=t.detail;this.selectedTexts.forEach((t=>{const e=this.getFormatValue(t),a=g(e)?e:void 0;this.setFormatValue(t,{...a,type:c.TS,font:{...a?.font,...i},color:s??a?.color})})),this.selectedElement=it(t.target.selectedElement)},this.onModelConfigChange=()=>{this.updatesOccurred=this.updatesOccurred+1},this.formatPopoverClose=t=>{this.formatPopover===t?.target&&(this.selectedTexts=[],this.selectedSymbols=[],this.selectedBackground=[],this.selectedElement={},this.removeFormatPopover())},this.mergeFormatValues=(t,i)=>{let s=!1;return s=!(!st(t)||!st(i))||!(!ht(t)||!ht(i))||t===i,s?void 0:"number"==typeof t||"number"==typeof i?Number.NaN:""},this.openChange=t=>{this.arcgisChartsConfigPopoverOpenChange.emit(t.detail)},this.model=void 0,this.selectedSymbols=[],this.selectedTexts=[],this.selectedBackground=[],this.selectedElement=void 0,this.updatesOccurred=0}modelChange(t,i){i?.removeEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange),t?.addEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange)}async componentWillLoad(){({strings:this.strings}=await n(this.hostElement,i("."))),this.modelChange(this.model)}disconnectedCallback(){this.removeFormatPopover(),this.model.removeEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange)}renderFormatElements(){return this.textProperties=[$.Title,...W(this.model)?[$.XAxisTitle]:[],...q(this.model)?[$.YAxisTitle]:[],...R(this.model)?[$.LegendTitle]:[],$.Description,...R(this.model)?[$.LegendText]:[],...W(this.model)?[$.AxisLabels]:[],...U(this.model)?[$.GuideLabels]:[],...X(this.model)?[$.DataLabels]:[]],K(this.model)&&(this.textProperties=this.textProperties.filter((t=>t!==$.DataLabels))),this.symbolProperties=[$.Background,...W(this.model)?[Z.AxisLines]:[],...q(this.model)?[Z.GridLines]:[],...H(this.model)?[Z.LeaderLines]:[]],{textElements:this.textProperties.map((t=>this.renderTextElement(t,this.textPropertyChange))),symbolElements:this.symbolProperties.map((t=>this.renderTextElement(t,t===$.Background?this.backgroundChange:this.symbolPropertyChange)))}}render(){const{textElements:t,symbolElements:i}=this.renderFormatElements();return s(e,{key:"523a0c782757f1694dc7017fa56e93fe22cbe295"},s("div",{key:"baf66725033a7be92829d53938f1049fc6825297",class:vt},this.strings.textElements),s("calcite-list",{key:"4414c67b550748c4cd85e1c32635bbc1ec8a7d7c",label:"",class:xt,selectionMode:"multiple",selectionAppearance:"border",onCalciteListChange:this.correctTextElementSelection},t),s("div",{key:"b779db76e4266dcc9db878698a17a32ecf3124c4",class:vt},this.strings.symbolElements),s("calcite-list",{key:"5ca5aaf463f6506566e67c85aee7a87b80d99944",label:"",class:xt,selectionMode:"single",selectionAppearance:"border"},i))}formatPopoverChange(t){this.arcgisChartsConfigFormatPopoverChange.emit({open:t,element:this.formatPopover}),this.arcgisChartsConfigPopoverOpenChange.emit({open:t})}updateSelectedElement(t,i){if(this.selectedElement=void 0,void 0===i){const i=it(this.getFormatValue(t[0]));this.selectedElement=t?.reduce(((t,i)=>{const s=this.getFormatValue(i);return ct(t,s,this.mergeFormatValues)}),i)}else{let t=it(i);tt(i)&&(this.selectedSymbols?.length>0&&(t=it(ft)),this.selectedTexts?.length>0&&(t=it(mt))),this.selectedElement=t}}initSelectedTexts(t){let i=it(t);tt(t)&&(i=it(mt)),this.selectedElement=i}initSelectedSymbols(t){let i=it(t);tt(t)&&(i=it(ft)),this.selectedElement=i}setupFormatPopover(){this.formatPopover=u(this.formatPopover);const t=this.selectedElement;this.formatPopover=p(m.FormatPopover,{selectedElement:this.selectedElement,referenceElement:this.hostElement,updateSymbolProps:this.updateSymbolProps,updateTextProps:this.updateTextProps,updateBackground:this.updateBackground,openChange:this.openChange,hostElement:this.hostElement,placement:"auto",popoverClose:this.formatPopoverClose}),t?.type===c.TS||t?.type===c.SLS||Array.isArray(this.selectedElement)?(this.formatPopover.open=!0,this.addFormatPopover()):(this.formatPopover.open=!1,this.removeFormatPopover())}removeFormatPopover(){null!==this.formatPopover&&(this.formatPopover.open=!1,this.formatPopover=u(this.formatPopover)),this.formatPopoverChange(!1)}addFormatPopover(){null===this.formatPopover||document.body.contains(this.formatPopover)||document.body.appendChild(this.formatPopover),this.formatPopoverChange(!0)}getFormatValue(t){switch(t){case $.Title:return this.model.getTitleSymbol();case $.Description:return this.model.getDescriptionSymbol();case $.XAxisTitle:return W(this.model)?this.model.getXAxisTitleSymbol():void 0;case $.YAxisTitle:return q(this.model)?this.model.getYAxisTitleSymbol():void 0;case $.AxisLabels:return W(this.model)?this.model.getAxisLabelsSymbol():void 0;case $.GuideLabels:return U(this.model)?this.model.getGuideLabelsSymbol():void 0;case $.LegendText:return R(this.model)?this.model.getLegendTextSymbol():void 0;case $.LegendTitle:return R(this.model)?this.model.getLegendTitleSymbol():void 0;case $.DataLabels:return X(this.model)?this.model.getDataLabelsSymbol():void 0;case Z.AxisLines:return W(this.model)?this.model.getAxisLinesSymbol():void 0;case Z.GridLines:return q(this.model)?this.model.getGridLinesSymbol():void 0;case Z.LeaderLines:return H(this.model)?this.model.getLeaderLinesSymbol():void 0;case $.Background:return this.model.getBackgroundColor();default:return}}setFormatValue(t,i){switch(t){case $.Title:g(i)&&this.model.setTitleSymbol(i);break;case $.Description:g(i)&&this.model.setDescriptionSymbol(i);break;case $.XAxisTitle:W(this.model)&&g(i)&&this.model.setXAxisTitleSymbol(i);break;case $.YAxisTitle:q(this.model)&&g(i)&&this.model.setYAxisTitleSymbol(i);break;case $.AxisLabels:W(this.model)&&g(i)&&this.model.setAxisLabelsSymbol(i);break;case $.GuideLabels:U(this.model)&&g(i)&&this.model.setGuideLabelsSymbol(i);break;case $.LegendText:R(this.model)&&g(i)&&this.model.setLegendTextSymbol(i);break;case $.LegendTitle:R(this.model)&&g(i)&&this.model.setLegendTitleSymbol(i);break;case $.DataLabels:X(this.model)&&g(i)&&this.model.setDataLabelsSymbol(i);break;case Z.AxisLines:W(this.model)&&b(i)&&this.model.setAxisLinesSymbol(i);break;case Z.GridLines:q(this.model)&&b(i)&&this.model.setGridLinesSymbol(i);break;case Z.LeaderLines:H(this.model)&&b(i)&&this.model.setLeaderLinesSymbol(i);break;case $.Background:Array.isArray(i)&&this.model.setBackgroundColor(i)}}static get assetsDirs(){return["assets"]}get hostElement(){return a(this)}static get watchers(){return{model:["modelChange"]}}};yt.style=":host{width:var(--arcgis-charts-config-calcite-block-default-width);margin:var(--arcgis-charts-config-calcite-block-default-margin)}.section-label{display:flex;margin:var(--arcgis-charts-config-margin-major) var(--arcgis-charts-config-margin-minor);justify-content:space-between;align-items:center;font-weight:var(--calcite-font-weight-medium);font-size:var(--calcite-font-size-0)}.element-list{margin:var(--arcgis-charts-config-margin-minor)}.element{-webkit-user-select:none;-moz-user-select:none;user-select:none}";const wt="text-input",kt="label",Ct="label-container",Mt=class{constructor(i){t(this,i),this.setChartTitle=t=>{const{value:i}=t.target;this.isChartTitleInvalid=tt(i.trim()),D({inputElement:this.characterLimitInputElement,status:this.isChartTitleInvalid?E.INVALID:E.IDLE}),this.isChartTitleInvalid||this.model.setTitleText(i)},this.setChartLegendTitle=t=>{const{value:i}=t.target;void 0!==i&&R(this.model)&&this.model.setLegendTitleText(i)},this.setChartXAxisTitle=t=>{const{value:i}=t.target;void 0!==i&&W(this.model)&&this.model.setXAxisTitleText(i)},this.setChartYAxisTitle=t=>{const{value:i}=t.target;void 0!==i&&q(this.model)&&this.model.setYAxisTitleText(i)},this.setChartDescription=t=>{const{value:i}=t.target;void 0!==i&&this.model.setDescriptionText(i)},this.enableChartTitle=t=>{this.model.setChartTitleVisibility(t.target.checked)},this.enableXAxisTitle=t=>{const i=t.target.checked;W(this.model)&&this.model.setXAxisTitleVisibility(i)},this.enableYAxisTitle=t=>{const i=t.target.checked;q(this.model)&&this.model.setYAxisTitleVisibility(i)},this.enableLegendTitle=t=>{const i=t.target.checked;R(this.model)&&this.model.setLegendTitleVisibility(i)},this.enableDescription=t=>{this.model.setDescriptionVisibility(t.target.checked)},this.legendPositionChange=t=>{const i=t.target?.selectedItems[0],s=i?.value;R(this.model)&&this.model.setLegendPosition(s)},this.onModelConfigChange=()=>{this.updatesOccurred=this.updatesOccurred+1},this.model=void 0,this.open=!1,this.isChartTitleInvalid=!1,this.updatesOccurred=0}modelChange(t,i){i?.removeEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange),t?.addEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange)}async componentWillLoad(){({strings:this.strings}=await n(this.hostElement,i("."))),this.modelChange(this.model)}disconnectedCallback(){this.model.removeEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange)}renderLegendPositions(){return R(this.model)?[s("calcite-combobox-item",{value:G.Right,textLabel:this.strings.legendRightPosition,selected:this.model.getLegendPosition()===G.Right,icon:"right-edge"}),s("calcite-combobox-item",{value:G.Left,textLabel:this.strings.legendLeftPosition,selected:this.model.getLegendPosition()===G.Left,icon:"left-edge"}),s("calcite-combobox-item",{value:G.Top,textLabel:this.strings.legendTopPosition,selected:this.model.getLegendPosition()===G.Top,icon:"upload-to"}),s("calcite-combobox-item",{value:G.Bottom,textLabel:this.strings.legendBottomPosition,selected:this.model.getLegendPosition()===G.Bottom,icon:"download-to"})]:[]}render(){return s(e,{key:"8620e8fa7bb1ac7d7ec1a3bc8c4a43af2367c4b3"},s("div",{key:"1f3972cabb8e1fdfe97e8f579b56219e61f5c063",class:Ct},s("calcite-label",{key:"76e3786bac4b09177f3a86f3a114d8991707ff12",layout:"inline-space-between",class:kt},this.strings.chartTitle,s("calcite-switch",{key:"82e83d84250f8ebbf8e7053ed4354eb170a9110d",checked:this.model.getChartTitleVisibility(),onCalciteSwitchChange:this.enableChartTitle})),s("calcite-input",{key:"0185f7c4a559287ffb0d25547d788a5fce2021e3",class:wt,type:"text",disabled:!this.model.getChartTitleVisibility(),value:this.model.getTitleText(),onCalciteInputInput:this.setChartTitle,ref:t=>{this.characterLimitInputElement=t}}),s("arcgis-charts-config-invalid-input-message",{key:"9b6b9b5ccc83d9f02231ef2ed526dc62a03e1c00",invalidInputMessage:this.strings.emptyChartTitle,isInvalid:this.isChartTitleInvalid})),W(this.model)?[s("div",{class:Ct},s("calcite-label",{layout:"inline-space-between",class:kt},this.strings.xAxisTitle,s("calcite-switch",{checked:this.model.getXAxisTitleVisibility(),onCalciteSwitchChange:this.enableXAxisTitle})),s("calcite-input",{class:wt,type:"text",disabled:!this.model.getXAxisTitleVisibility(),value:this.model.getXAxisTitleText(),onCalciteInputInput:this.setChartXAxisTitle})),q(this.model)?s("div",{class:Ct},s("calcite-label",{layout:"inline-space-between",class:kt},this.strings.yAxisTitle,s("calcite-switch",{checked:this.model.getYAxisTitleVisibility(),onCalciteSwitchChange:this.enableYAxisTitle})),s("calcite-input",{class:wt,tabindex:"1",type:"text",disabled:!this.model.getYAxisTitleVisibility(),value:this.model.getYAxisTitleText(),onCalciteInputInput:this.setChartYAxisTitle})):null]:null,R(this.model)?s("div",{class:Ct},s("calcite-label",{layout:"inline-space-between",class:kt},this.strings.legendTitle,s("calcite-switch",{checked:this.model.getLegendTitleVisibility(),onCalciteSwitchChange:this.enableLegendTitle})),s("calcite-input",{class:wt,type:"text",disabled:!this.model.getLegendTitleVisibility(),value:this.model.getLegendTitleText(),onCalciteInputInput:this.setChartLegendTitle})):null,s("div",{key:"104bf24dd4fff16d40d71356104518687f7e53f2",class:Ct},s("calcite-label",{key:"88742246b76c54dc2d31b01f8b80500c95a162a9",layout:"inline-space-between",class:kt},this.strings.legendPosition),s("calcite-combobox",{key:"7491128f64be6ce5a624098da71c43f744f909eb",clearDisabled:!0,label:"",class:"select",onCalciteComboboxChange:this.legendPositionChange,"selection-mode":"single"},this.renderLegendPositions())),s("div",{key:"808bd77c5bc9dfa32b8b9e4d7a09740791c1931c",class:Ct},s("calcite-label",{key:"c288b1b80312b866c765dea7e0b54beb4dea2fdc",layout:"inline-space-between",class:kt},this.strings.description,s("calcite-switch",{key:"5c709f597c9e05b6b02d72296b7cbfb6c23e3bf1",checked:this.model.getDescriptionVisibility(),onCalciteSwitchChange:this.enableDescription})),s("calcite-text-area",{key:"8ebf5b74430ec33c07c739330d1549d05d03a58c",disabled:!this.model.getDescriptionVisibility(),value:this.model.getDescriptionText(),onCalciteTextAreaInput:this.setChartDescription})))}static get assetsDirs(){return["assets"]}get hostElement(){return a(this)}static get watchers(){return{model:["modelChange"]}}};Mt.style=".hide{display:none}.am5-modal{width:100%;height:100%;position:absolute;z-index:100000;top:0px;left:0px}.am5-modal-curtain{top:0px;left:0px;width:100%;height:100%;position:absolute;background:rgba(255, 255, 255, 0.5);z-index:100}.am5-modal-wrapper{top:0px;left:0px;width:100%;height:100%;position:absolute;display:flex;align-items:center;justify-content:center;white-space:nowrap;background:rgba(255, 255, 255, 0.5);z-index:101}.am5-modal-content{display:inline-block;padding:1.2em;vertical-align:middle;text-align:left;white-space:normal;background:rgb(255, 255, 255);border-radius:4px;box-shadow:rgba(0, 0, 0, 0.45) 0px 0px 36px 0px;color:rgb(0, 0, 0)}.arcgis-charts-modal{box-shadow:none !important}.arcgis-charts-modal-header{background-color:rgba(0, 0, 0, 0.05);font-weight:bold;padding:4px 4px 4px 4px}.show{display:block}.notifyPanel{flex:0 1 auto}.disable-interactions{pointer-events:none}.dim-text{color:var(--arcgis-charts-dim-text)}:host{display:flex;flex-direction:column;margin-top:var(--arcgis-charts-top-section-margin)}.text-input{margin-bottom:var(--arcgis-charts-inter-section-margin)}.select{margin-bottom:var(--arcgis-charts-inter-section-margin)}.label{display:flex;justify-content:space-between}.label-container{display:flex;flex-direction:column;margin-left:var(--arcgis-charts-config-margin-minor);margin-right:var(--arcgis-charts-config-margin-minor);margin-bottom:var(--arcgis-charts-config-margin-minor);justify-content:space-between}";const Dt="row",Et="column";function jt(t,i,s){const e=Q(s)?s.getXGuidesLength()??0:0;return i===J.X?t:e+t}const Nt=class{constructor(i){t(this,i),this.arcgisChartsConfigGuideChange=h(this,"arcgisChartsConfigGuideChange",7),this.arcgisChartsConfigGuidePopoverChange=h(this,"arcgisChartsConfigGuidePopoverChange",7),this.arcgisChartsConfigPopoverOpenChange=h(this,"arcgisChartsConfigPopoverOpenChange",7),this.onColorElementSelect=()=>{!0===this.guidePopover?.open?this.removeGuidePopover():this.setupGuidePopover()},this.setGuideStart=t=>{const{value:i}=t.target;void 0!==this.startCalciteInput&&(""===i?D({inputElement:this.startCalciteInput,status:E.INVALID}):(this.model.setGuideStart(i,this.index,this.orientation),this.symbolChange(),this.arcgisChartsConfigGuideChange.emit({index:this.index,orientation:this.orientation,isDelete:!1}),D({inputElement:this.startCalciteInput,status:E.IDLE}))),!0===this.guidePopover?.open&&this.removeGuidePopover()},this.setGuideEnd=t=>{const{value:i}=t.target;void 0!==this.endCalciteInput&&(this.model.setGuideEnd(""===i?null:i,this.index,this.orientation),this.symbolChange(),this.arcgisChartsConfigGuideChange.emit({index:this.index,orientation:this.orientation,isDelete:!1}),D({inputElement:this.endCalciteInput,status:E.IDLE})),!0===this.guidePopover?.open&&this.removeGuidePopover()},this.setGuideDateTimeRange=()=>{const t=this.calculatedMinMaxBounds?.find((t=>t.isXAxis))?.minimum,i=this.calculatedMinMaxBounds?.find((t=>t.isXAxis))?.maximum,s="number"==typeof t?new Date(t):new Date,e="number"==typeof i?new Date(i):new Date,a=(new window.Intl.DateTimeFormat).resolvedOptions().timeZone,h=f(this.timeZone)??a,n=x(s,h),c=v(s,h),o=x(e,h),r=v(e,h),l=this.startDateCalciteInput?.value??"",d=""===l?n:l,b=this.startTimeCalciteInput?.value??"",g=""===b?c:b,u=this.endDateCalciteInput?.value??"",p=""===u?o:u,m=this.endTimeCalciteInput?.value??"",y=""===m?r:m;let w=!1;Array.isArray(d)||void 0===d||void 0===g||(this.model.setGuideStart(`${d}T${g}`,this.index,this.orientation),w=!0),Array.isArray(p)||void 0===p||void 0===y||(this.model.setGuideEnd(""===u?void 0:`${p}T${y}`,this.index,this.orientation),w=!0),w&&(this.symbolChange(),this.arcgisChartsConfigGuideChange.emit({index:this.index,orientation:this.orientation,isDelete:!1}),!0===this.guidePopover?.open&&this.removeGuidePopover())},this.colorChange=t=>{const i=t.detail,s=this.model.getGuideStart(this.index,this.orientation),e=this.model.getGuideEnd(this.index,this.orientation);if(y(s,e)===c.SLS){const t=it(nt.style),s=this.model.getGuideStyle(this.index,this.orientation),e={...t,...b(s)?s:{},color:i};this.lineStyleChange({detail:e})}else this.setColor(i)},this.symbolChange=t=>{const i=t?.detail,s=this.model.getGuideStart(this.index,this.orientation),e=this.model.getGuideEnd(this.index,this.orientation);if(y(s,e)===c.SLS){const t=it(nt.style),s=this.model.getGuideStyle(this.index,this.orientation),e={...t,...b(s)?s:{},...b(i)?i:{}};this.lineStyleChange({detail:e})}else void 0!==i?.color&&this.setColor(i.color)},this.setGuideName=t=>{this.model.setGuideName(t.target.value,this.index,this.orientation),this.arcgisChartsConfigGuideChange.emit({index:this.index,orientation:this.orientation,isDelete:!1})},this.setGuideLabel=t=>{this.model.setGuideLabelText(t.target.value,this.index,this.orientation),this.arcgisChartsConfigGuideChange.emit({index:this.index,orientation:this.orientation,isDelete:!1})},this.setGuideRendered=t=>{const i=t.target?.selectedItem?.value;void 0!==i&&(this.model.setGuideAbove(i===this.strings.inFront,this.index,this.orientation),this.arcgisChartsConfigGuideChange.emit({index:this.index,orientation:this.orientation,isDelete:!1}))},this.lineStyleChange=t=>{this.model.setGuideStyle(t.detail,this.index,this.orientation),this.arcgisChartsConfigGuideChange.emit({index:this.index,orientation:this.orientation,isDelete:!1})},this.createTooltip=t=>{const i=t.target;switch(this.tooltip=_(i),i.icon){case"view-visible":this.tooltip.innerHTML=this.strings.hideGuide;break;case"view-hide":this.tooltip.innerHTML=this.strings.showGuide;break;default:this.tooltip.innerHTML=this.strings.deleteGuide}document.body.appendChild(this.tooltip)},this.toggleGuide=()=>{const t=this.model.getGuideVisibility(this.index,this.orientation);this.model.setGuideVisibility(!t,this.index,this.orientation)},this.destroyTooltip=()=>{B(this.tooltip)},this.deleteGuide=()=>{this.destroyTooltip(),this.orientation===J.X&&Q(this.model)?this.model.deleteXAxisGuide(this.index):this.orientation===J.Y&&Y(this.model)&&this.model.deleteYAxisGuide(this.index),this.arcgisChartsConfigGuideChange.emit({index:this.index,orientation:this.orientation,isDelete:!0})},this.onModelConfigChange=()=>{this.updatesOccurred=this.updatesOccurred+1},this.model=void 0,this.timeZone=void 0,this.calculatedMinMaxBounds=void 0,this.index=void 0,this.orientation=void 0,this.latestGuidePosition=0,this.guidePopover=void 0,this.updatesOccurred=0}modelChange(t,i){i?.removeEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange),t?.addEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange)}async componentWillLoad(){({strings:this.strings}=await n(this.hostElement,i("."))),this.modelChange(this.model)}disconnectedCallback(){this.model.removeEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange)}renderColorElement(){const t=this.model.getGuideStyle(this.index,this.orientation),[i,e,a,h]=[...t?.color??[1,1,1,255]],n=this.model.getGuideStart(this.index,this.orientation),o=this.model.getGuideEnd(this.index,this.orientation),r=b(t)?L(t.style):d.Solid,l=y(n,o)===c.SLS?`line-${r}`:"square-f";return s("calcite-list",{label:"",selectionMode:"single",selectionAppearance:"border"},s("calcite-list-item",{value:this.strings.style,class:"color-picker",label:this.strings.style,selected:this.guidePopover?.open,onClick:this.onColorElementSelect,ref:t=>{this.colorElement=t}},s("calcite-icon",{slot:"content-end",icon:l,style:{color:`rgba(${i},${e},${a},${h/255})`}})))}get isXAxisDateField(){return this.orientation===J.X&&q(this.model)&&this.model.getXAxisValueFormat()?.type===O.DateAxisFormat}render(){const t=this.model.getGuideStart(this.index,this.orientation),i=this.model.getGuideEnd(this.index,this.orientation),a=this.model.getGuideName(this.index,this.orientation),h=this.model.getGuideLabelText(this.index,this.orientation),n=this.model.getGuideAbove(this.index,this.orientation),c=this.model.getGuideVisibility(this.index,this.orientation),o=this.isXAxisDateField;return s(e,{key:"8c817eeb752ad9b070e4d6dd883fd72629bbd6cc"},s("calcite-block",{key:"f93e4030a29f72881d4c83832d3f100fc80a2fa5",heading:a??"",open:this.latestGuidePosition===jt(this.index,this.orientation,this.model),collapsible:!0,messageOverrides:{expand:this.strings.expand,collapse:this.strings.collapse}},s("calcite-action",{key:"8f99980a235427e5304a37684a6206491074f3d8",slot:"control",text:"",icon:c?"view-visible":"view-hide",onClick:this.toggleGuide,onMouseOver:this.createTooltip,onMouseOut:this.destroyTooltip}),s("calcite-action",{key:"03cab56e010731d07d4aebe5a6cb49d194194cd1",slot:"control",text:"",icon:"trash",onClick:this.deleteGuide,onMouseOver:this.createTooltip,onMouseOut:this.destroyTooltip}),s("div",{key:"f74039a1d4d8ca7f1858688e3b4674a2f96ebb7b",class:Dt},s("calcite-label",{key:"8b924bedf8f4e5f012c972b0da0cb34847fa855e",class:Et},this.strings.start,o?s("calcite-input-date-picker",{value:this.getDateStringFromBound(t),required:!0,scale:"s",placement:"bottom-end",onCalciteInputDatePickerChange:this.setGuideDateTimeRange,ref:t=>{this.startDateCalciteInput=t}}):s("calcite-input",{type:"number",required:!0,onCalciteInputInput:this.setGuideStart,onKeyDown:P,numberButtonType:"none",value:t?.toString(),ref:t=>{this.startCalciteInput=t}})),s("calcite-label",{key:"26b1f9e3b4d569297e03cf6968b865ffcfc36bec",class:Et},this.strings.end,o?s("calcite-input-date-picker",{value:this.getDateStringFromBound(i),scale:"s",placement:"bottom-end",onCalciteInputDatePickerChange:this.setGuideDateTimeRange,ref:t=>{this.endDateCalciteInput=t}}):s("calcite-input",{type:"number",onCalciteInputInput:this.setGuideEnd,onKeyDown:P,numberButtonType:"none",value:i?.toString(),ref:t=>{this.endCalciteInput=t}}))),o?s("div",{key:"time-picker-row",class:Dt},null!=t?s("calcite-label",{class:Et},s("calcite-input-time-picker",{value:this.getTimeStringFromBound(t),scale:"s",onCalciteInputTimePickerChange:this.setGuideDateTimeRange,ref:t=>{this.startTimeCalciteInput=t}})):null,null!=i?s("calcite-label",{class:Et},s("calcite-input-time-picker",{value:this.getTimeStringFromBound(i),scale:"s",onCalciteInputTimePickerChange:this.setGuideDateTimeRange,ref:t=>{this.endTimeCalciteInput=t}})):null):null,s("div",{key:"904ad5c5337e020effc9a20758a30973757cda1f",class:Dt},s("div",{key:"19598c5782c32c77e9717c0d658163971cf1286a",class:Et},this.renderColorElement())),s("div",{key:"82f0ef20f9572c9b5726ac25e2aef8f6102c692b",class:Dt},s("calcite-label",{key:"ebf579dcebf2569d3da5291a270bdb38ced9d5e2",class:Et},this.strings.guideName,s("calcite-input",{key:"0d5f0b13f83348201acddea06647952befa120ba",type:"text",value:a,onCalciteInputInput:this.setGuideName}))),s("div",{key:"976a0a1d3ba08738b791bc442d8a4f6a640301c0",class:Dt},s("calcite-label",{key:"b05e8ed9ba5d38cdb6eb3088b1dbf888e6a620ca",class:Et},this.strings.guideLabel,s("calcite-input",{key:"0ec3d3fdb8e1f6eedefa7a0d48172fb6f9f9c29a",type:"text",value:h,onCalciteInputInput:this.setGuideLabel}))),s("div",{key:"5c35220f7c9e12328deec72b26b804b5fd0f5132",class:Dt},s("calcite-label",{key:"9df5baefa3123ffb10eed331504a4682eb1e1d05",class:Et},this.strings.display,s("calcite-segmented-control",{key:"731fb5d3dd5d6f4ff334e88c2142b1c8deb7bab4",onCalciteSegmentedControlChange:this.setGuideRendered,scale:"s"},s("calcite-segmented-control-item",{key:"58815926a592769fb1707e25d6ecb2b3560337f0",checked:n,value:this.strings.inFront},this.strings.inFront),s("calcite-segmented-control-item",{key:"8b0056b2a87b1a767d382d7fa0055a7fc64c93ae",checked:!n,value:this.strings.inBack},this.strings.inBack))))))}componentDidLoad(){this.isXAxisDateField&&this.setGuideDateTimeRange()}guidePopoverChange(t){this.arcgisChartsConfigGuidePopoverChange.emit({open:t,element:this.guidePopover}),this.arcgisChartsConfigPopoverOpenChange.emit({open:t})}setupGuidePopover(){void 0===this.guidePopover&&(this.guidePopover=p(m.GuidePopover,{colorChange:this.colorChange,symbolChange:this.symbolChange,popoverDismiss:t=>{this.arcgisChartsConfigPopoverOpenChange.emit(t.detail)},popoverClose:()=>{this.guidePopoverChange(!1),this.removeGuidePopover()}}));const t=this.model.getGuideStyle(this.index,this.orientation),i=this.model.getGuideStart(this.index,this.orientation),s=this.model.getGuideEnd(this.index,this.orientation);this.guidePopover.selectedElement=y(i,s)===c.SLS?b(t)?t:void 0:t?.color,this.guidePopover.referenceElement=this.colorElement,Array.isArray(t?.color)?(this.guidePopover.open=!0,this.addGuidePopover()):(this.guidePopover.open=!1,this.removeGuidePopover())}removeGuidePopover(){this.guidePopover?.remove(),this.guidePopoverChange(!1),this.guidePopover=void 0}addGuidePopover(){void 0===this.guidePopover||document.body.contains(this.guidePopover)||document.body.appendChild(this.guidePopover),this.guidePopoverChange(!0)}setColor(t){const i=w({opacity:0}),s=this.model.getGuideStyle(this.index,this.orientation),e={...k(s)?s:{},type:c.SFS,color:t,outline:i};this.model.setGuideStyle(e,this.index,this.orientation),this.arcgisChartsConfigGuideChange.emit({index:this.index,orientation:this.orientation,isDelete:!1})}getDateStringFromBound(t){return"string"==typeof t?t.split("T")[0]:""}getTimeStringFromBound(t){return"string"==typeof t?t.split("T")[1]:""}static get assetsDirs(){return["assets"]}get hostElement(){return a(this)}static get watchers(){return{model:["modelChange"]}}};Nt.style=".hide{display:none}.am5-modal{width:100%;height:100%;position:absolute;z-index:100000;top:0px;left:0px}.am5-modal-curtain{top:0px;left:0px;width:100%;height:100%;position:absolute;background:rgba(255, 255, 255, 0.5);z-index:100}.am5-modal-wrapper{top:0px;left:0px;width:100%;height:100%;position:absolute;display:flex;align-items:center;justify-content:center;white-space:nowrap;background:rgba(255, 255, 255, 0.5);z-index:101}.am5-modal-content{display:inline-block;padding:1.2em;vertical-align:middle;text-align:left;white-space:normal;background:rgb(255, 255, 255);border-radius:4px;box-shadow:rgba(0, 0, 0, 0.45) 0px 0px 36px 0px;color:rgb(0, 0, 0)}.arcgis-charts-modal{box-shadow:none !important}.arcgis-charts-modal-header{background-color:rgba(0, 0, 0, 0.05);font-weight:bold;padding:4px 4px 4px 4px}.show{display:block}.notifyPanel{flex:0 1 auto}.disable-interactions{pointer-events:none}.dim-text{color:var(--arcgis-charts-dim-text)}:host{display:flex;flex-direction:column}.row{display:flex;flex-direction:row;-moz-column-gap:var(--arcgis-charts-inter-section-margin);column-gap:var(--arcgis-charts-inter-section-margin)}.column{display:flex;flex-direction:column;flex-wrap:wrap;flex-grow:1}.column>calcite-input{margin-bottom:0.5rem;flex-grow:2}.column>calcite-input[type=number]{margin-bottom:0.5rem}input{padding:0.5rem}.label{display:flex;flex-direction:row;justify-content:space-between;margin-bottom:var(--arcgis-charts-intra-section-margin);flex-grow:1}.color-picker{border:1px solid var(--calcite-color-border-2);box-shadow:none;margin-bottom:var(--arcgis-charts-inter-section-margin)}.delete-guide{display:flex;flex-direction:row-reverse;height:2rem;margin:0 1rem;font-weight:550}:host([dir=rtl]) .delete-guide{flex-direction:row}";const It=class{constructor(i){t(this,i),this.arcgisChartsConfigGuidePopoverChange=h(this,"arcgisChartsConfigGuidePopoverChange",7),this.addXGuide=()=>{if(Q(this.model)){const t=this.getUniqueName(this.strings.xAxisGuide),i=this.model.getXGuidesLength()??0;this.model.addXAxisGuide(t,i),this.model.setGuideStyle(it(nt.style),i,J.X),this.latestGuidePosition=jt(i,J.X,this.model),this.togglePopOver(),(this.hostElement.shadowRoot?.querySelectorAll("calcite-block")??[]).forEach(((t,i)=>{i!==this.latestGuidePosition&&(t.open=!1)}))}},this.addYGuide=()=>{if(Y(this.model)){const t=this.getUniqueName(this.strings.yAxisGuide),i=this.model.getYGuidesLength()??0;this.model.addYAxisGuide(t,i),this.model.setGuideStyle(it(nt.style),i,J.Y),this.latestGuidePosition=jt(i,J.Y,this.model),this.togglePopOver();for(const t of this.hostElement.shadowRoot?.querySelectorAll("calcite-block")??[])t.open=!1}},this.closeAddPopOver=()=>{this.showAddButton=!0},this.togglePopOver=()=>{this.enableXAxisGuide&&this.enableYAxisGuide&&(this.showAddButton=!this.showAddButton)},this.setChangedGuide=t=>{const{index:i,orientation:s,isDelete:e}=t.detail,a=jt(i,s,this.model);e&&void 0!==a&&a<=this.latestGuidePosition&&this.latestGuidePosition>0&&(this.latestGuidePosition-=1)},this.onModelConfigChange=()=>{this.updatesOccurred=this.updatesOccurred+1},this.model=void 0,this.timeZone=void 0,this.calculatedMinMaxBounds=void 0,this.enableXAxisGuide=!0,this.enableYAxisGuide=!0,this.open=!1,this.showAddButton=!0,this.latestGuidePosition=0,this.updatesOccurred=0}modelChange(t,i){i?.removeEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange),t?.addEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange)}async componentWillLoad(){({strings:this.strings}=await n(this.hostElement,i("."))),this.modelChange(this.model)}disconnectedCallback(){this.model.removeEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange)}getAllGuidesLength(){return(Q(this.model)?this.model.getXGuidesLength()??0:0)+(Y(this.model)?this.model.getYGuidesLength()??0:0)}renderGuide(t,i){let e;return(this.enableXAxisGuide&&i===J.X||this.enableYAxisGuide&&i===J.Y)&&(e=s("arcgis-charts-config-guide",{model:this.model,timeZone:this.timeZone,calculatedMinMaxBounds:this.calculatedMinMaxBounds,index:t,orientation:i,latestGuidePosition:this.latestGuidePosition,onArcgisChartsConfigGuideChange:this.setChangedGuide})),e}renderGuides(){const t=[];if(Q(this.model)){const i=this.model.getXGuidesLength()??0;for(let s=0;s<i;s+=1)t.push(this.renderGuide(s,J.X))}if(Y(this.model)){const i=this.model.getYGuidesLength()??0;for(let s=0;s<i;s+=1)t.push(this.renderGuide(s,J.Y))}return t}renderAddGuideButton(t){return s("calcite-fab",{slot:"fab",appearance:"outline-fill",kind:"neutral",hidden:!1,textEnabled:!0,text:this.strings.addGuide,label:this.strings.addGuide,onClick:t,scale:"s"})}render(){const t=this.getAllGuidesLength(),i=t>0,a=this.showAddButton&&this.enableXAxisGuide&&this.enableYAxisGuide,h=this.enableXAxisGuide&&!this.enableYAxisGuide,n=!this.enableXAxisGuide&&this.enableYAxisGuide;return s(e,{key:"3044b147d444eb3c4cba0b73fbab3bcea53f3367"},s("calcite-popover",{key:"968d5535eda83cdf9db30eb208f8db9e46bfee80",open:!this.showAddButton,referenceElement:this.addGuideButton,flipDisabled:!0,pointerDisabled:!0,offsetDistance:-18,onCalcitePopoverClose:this.closeAddPopOver,placement:0===t?"bottom":"top",ref:t=>{this.popoverElement=t},label:""},s("calcite-panel",{key:"b7339ced53c59530569fc0a4ce9814eaf169ef94",heading:this.strings.guideType},s("calcite-action",{key:"fd123c6df0859541956b7f0cb6985c9cc93cad4e",text:"",slot:"header-actions-end",icon:"x",onClick:this.closeAddPopOver}),this.enableXAxisGuide?s("calcite-action",{label:this.strings.addXAxisGuide,text:this.strings.addXAxisGuide,onClick:this.addXGuide,icon:"x-axis-guide",textEnabled:!0}):null,this.enableYAxisGuide?s("calcite-action",{label:this.strings.addYAxisGuide,text:this.strings.addYAxisGuide,onClick:this.addYGuide,icon:"y-axis-guide",textEnabled:!0}):null)),i?this.renderGuides():s("div",{class:"no-messages"},this.strings.noGuidesMsg),s("div",{key:"72a79ff0a7aa89fa13e7c46697d1ef4bb19764b5",class:"add-guide",ref:t=>{this.addGuideButton=t}},a&&this.renderAddGuideButton(this.togglePopOver),h&&this.renderAddGuideButton(this.addXGuide),n&&this.renderAddGuideButton(this.addYGuide)))}componentDidRender(){C(this.popoverElement,!this.showAddButton)}getUniqueName(t,i=1){const s=`${t} ${i}`;let e=!1;if(Q(this.model)){const t=this.model.getXGuidesLength()??0;for(let i=0;i<t&&!e;i+=1)this.model.getGuideName(i,J.X)===s&&(e=!0)}if(Y(this.model)){const t=this.model.getYGuidesLength()??0;for(let i=0;i<t&&!e;i+=1)this.model.getGuideName(i,J.Y)===s&&(e=!0)}return e?this.getUniqueName(t,i+1):s}static get assetsDirs(){return["assets"]}get hostElement(){return a(this)}static get watchers(){return{model:["modelChange"]}}};It.style=":host{display:flex;flex-direction:column;width:var(--arcgis-charts-config-calcite-block-default-width);margin:var(--arcgis-charts-config-calcite-block-default-margin)}.add-guide{display:flex;justify-content:center;padding:0.5rem}.add-guide-btn{width:100%}.no-guides{border-radius:2rem}.no-messages{text-align:center}.guide-icon{padding-left:0.5rem;padding-top:0.5rem;width:1.5rem;height:1.5rem}";const _t=class{constructor(i){t(this,i),this.invalidInputMessage=void 0,this.isInvalid=!1}render(){return s(e,{key:"a39c1b1904aefe902a875b75dbbdff19f230dad3"},this.isInvalid?s("calcite-input-message",{status:E.INVALID,icon:"exclamationMarkTriangle",hidden:!this.isInvalid,class:"invalid-message-color"},this.invalidInputMessage):null)}get hostElement(){return a(this)}};_t.style=":host{display:block}.invalid-message-color{color:red}";const Bt="label",Pt="arcgis-charts-rtl",Lt=class{constructor(i){t(this,i),this.arcgisChartsConfigNumberFormatChange=h(this,"arcgisChartsConfigNumberFormatChange",7),this.onDecimalPlacesChange=()=>{const{value:t}=this.decimalPlacesInputElement,i=Math.floor(Number(t)),s=i===Number(t)&&i>=0;if(void 0!==t&&s&&M(t,this.decimalPlacesInputElement.min,this.decimalPlacesInputElement.max)){const i=Number.parseInt(t),s={minimumFractionDigits:this.numberFormat.minimumFractionDigits,maximumFractionDigits:i};void 0!==s.maximumFractionDigits&&void 0!==s.minimumFractionDigits&&s.minimumFractionDigits>s.maximumFractionDigits&&(s.minimumFractionDigits=s.maximumFractionDigits);const e=this.getUpdatedNumberFormat(s);this.arcgisChartsConfigNumberFormatChange.emit(e),D({inputElement:this.decimalPlacesInputElement,status:E.IDLE})}else D({inputElement:this.decimalPlacesInputElement,status:E.INVALID})},this.onShowThousandsSeparatorChange=t=>{const i=this.getUpdatedNumberFormat({useGrouping:t.target.checked});this.arcgisChartsConfigNumberFormatChange.emit(i)},this.numberFormat=void 0}async componentWillLoad(){({strings:this.strings,direction:this.direction}=await n(this.hostElement,i(".")))}render(){return s(e,{key:"01a68dc41515f1ab1ef989c9609c6107950f5c61",class:{[Pt]:"rtl"===this.direction}},s("div",{key:"5529f7f0fcaba32ac905a810289acdc6f1978952",class:"container"},s("calcite-label",{key:"3b0e8772506ca611fede807fcb532f50e45e6a38",class:Bt},this.strings.decimalPlaces,s("calcite-input",{key:"ed1c257a0f7b1e68ae5b685b1e6df01da0b3344a",type:"number",class:"number-input",min:0,max:20,step:1,value:j(this.numberFormat.maximumFractionDigits,2),onCalciteInputInput:this.onDecimalPlacesChange,ref:t=>{this.decimalPlacesInputElement=t}})),s("calcite-label",{key:"b1a20806ba33b7d49cca3041baa74013c1165677",layout:"inline-space-between",class:Bt},this.strings.showThousandSeparators,s("calcite-switch",{key:"431583cb00f7e409f75844ea2d2202bd2d1e1cbc",name:"useGrouping",checked:this.numberFormat.useGrouping??!0,onCalciteSwitchChange:this.onShowThousandsSeparatorChange}))))}getUpdatedNumberFormat(t){return{...this.numberFormat,...t}}static get assetsDirs(){return["assets"]}get hostElement(){return a(this)}};Lt.style=".hide{display:none}.am5-modal{width:100%;height:100%;position:absolute;z-index:100000;top:0px;left:0px}.am5-modal-curtain{top:0px;left:0px;width:100%;height:100%;position:absolute;background:rgba(255, 255, 255, 0.5);z-index:100}.am5-modal-wrapper{top:0px;left:0px;width:100%;height:100%;position:absolute;display:flex;align-items:center;justify-content:center;white-space:nowrap;background:rgba(255, 255, 255, 0.5);z-index:101}.am5-modal-content{display:inline-block;padding:1.2em;vertical-align:middle;text-align:left;white-space:normal;background:rgb(255, 255, 255);border-radius:4px;box-shadow:rgba(0, 0, 0, 0.45) 0px 0px 36px 0px;color:rgb(0, 0, 0)}.arcgis-charts-modal{box-shadow:none !important}.arcgis-charts-modal-header{background-color:rgba(0, 0, 0, 0.05);font-weight:bold;padding:4px 4px 4px 4px}.show{display:block}.notifyPanel{flex:0 1 auto}.disable-interactions{pointer-events:none}.dim-text{color:var(--arcgis-charts-dim-text)}.container{width:var(--arcgis-charts-config-calcite-block-width, var(--arcgis-charts-config-calcite-block-default-width));height:var(--arcgis-charts-config-calcite-block-height, var(--arcgis-charts-config-calcite-block-default-height));margin-top:0.5rem}.container>.number-input{margin-bottom:0.5rem;display:flex}.container>.number-input>div{width:100%}:host{display:flex;flex-direction:row}.label{display:flex;margin-bottom:0.5rem;justify-content:space-between}";export{ot as arcgis_charts_config_axes,gt as arcgis_charts_config_axis,pt as arcgis_charts_config_category_format,yt as arcgis_charts_config_format,Mt as arcgis_charts_config_general,Nt as arcgis_charts_config_guide,It as arcgis_charts_config_guides,_t as arcgis_charts_config_invalid_input_message,Lt as arcgis_charts_config_number_format}