/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See LICENSE.md for details.
 * v4.32.1
 */
import{r as i,c as e,h as s,H as t,a}from"./p-ccd1c88c.js";import{s as o,S as h,T as c,t as n,u as d,I as r}from"./p-33adbadb.js";import{C as l}from"./p-e3e7b132.js";import{i as f}from"./p-7f5c1ec3.js";import{c as g}from"./p-bb01c887.js";const b=class{constructor(s){i(this,s),this.arcgisChartsNoSeriesUpdate=e(this,"arcgisChartsConfigNoSeriesUpdate",7),this.popoverElement=null,this.popoverOpen=i=>{const{open:e=!1,element:s=null}={...i.detail};!0===e&&this.popoverElement!==s?(null!==this.popoverElement&&(this.popoverElement.open=!1),this.popoverElement=s):!1===e&&this.popoverElement===s&&(this.popoverElement=null)},this.onModelConfigChange=async i=>{const e=i?.detail.config??this.model.getConfig();void 0===this.layer&&await this.updateFetchLayerFieldsInfo(e)},this.model=void 0,this.timeZone=void 0,this.popoverPlacement="leading",this.seriesColor=void 0,this.calculatedMinMaxBounds=void 0,this.page=void 0,this.layer=void 0,this.usePopupTemplateFieldsInfo=void 0,this.layerFieldsInfo=void 0,this.activeColorMatch=!1}modelChange(i,e){e?.removeEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange),i?.addEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange)}async layerChange(i,e){void 0===i||f(e,i)||await this.updateFetchLayerFieldsInfo()}async usePopupTemplateFieldsInfoChange(i,e){void 0!==i&&i!==e&&await this.updateFetchLayerFieldsInfo()}seriesColorChange(i){this.activeColorMatch=void 0===i?.get(0),this.model.getColorMatch()&&i?.forEach(((e,s)=>{void 0===i?.get(0)||void 0===e?.color||f(this.model.getSeriesColor(s),e?.color)||this.model.setSeriesColor(e?.color,s)}))}async updateDataFilters(){const i=this.model.getDataFilter(),e=i?.where,s=this.layer?.definitionExpression??void 0;f(e,s)||await this.model.setDataFilter({...i,where:s})}async componentWillLoad(){void 0!==this.layer&&await this.layerChange(this.layer,void 0),void 0!==this.seriesColor&&this.seriesColorChange(this.seriesColor),void 0!==this.usePopupTemplateFieldsInfo&&await this.usePopupTemplateFieldsInfoChange(this.usePopupTemplateFieldsInfo,void 0),this.modelChange(this.model),this.onModelConfigChange(),this.updateDataFilters()}async componentWillRender(){void 0===this.layerFieldsInfo&&await this.updateFetchLayerFieldsInfo()}render(){const i=this.layerFieldsInfo.find((i=>i.name===this.model.getXAxisField())),e=void 0!==i&&c(i);let a;switch(this.page){case l.Data:a=s(t,{key:"38f81554721a81aea0f101162f6067fef002479a"},s("arcgis-charts-config-bar-chart-data",{key:"9b9d4ee22a2e8527c1d1504f5f16352f49012166",model:this.model,layerFieldsInfo:this.layerFieldsInfo}));break;case l.Series:a=s(t,{key:"adae67c5e8f9cc05bb64912c326ed2a7e2480234"},s("arcgis-charts-config-bar-chart-series",{key:"cfbc4ae6a8d265ee504d24569604f2155cabf339",model:this.model,activeColorMatch:this.activeColorMatch,onArcgisChartsConfigBarChartSeriesPopoverChange:this.popoverOpen,popoverPlacement:this.popoverPlacement}));break;case l.Axes:a=s(t,{key:"7d60be19d23299c5bca7dc1969f4bc2c79cc48f6"},s("arcgis-charts-config-axes",{key:"38a6a0224ea7479109813d51f5a3f4b0b44cbf42",model:this.model,showMinXBoundOption:!1,showMaxXBoundOption:!1,showMinYBoundOption:!1,showMaxYBoundOption:!0,showEnableXLogOption:!1,showEnableYLogOption:!1,calculatedMinMaxBounds:this.calculatedMinMaxBounds}));break;case l.Guides:a=s(t,{key:"90c15c898e0c3e097d4f3d99d1948b2d1111d4a9"},s("arcgis-charts-config-guides",{key:"7ca16420980680735352bc6303a67c16559f43df",model:this.model,timeZone:this.timeZone,enableXAxisGuide:e,enableYAxisGuide:!0,calculatedMinMaxBounds:this.calculatedMinMaxBounds,onArcgisChartsConfigGuidePopoverChange:this.popoverOpen}));break;case l.Format:a=s(t,{key:"b78ddf8c5e70f338e465a701b4e320b5b4b3317b"},s("arcgis-charts-config-format",{key:"06c9bf969430192bf56620fe250b6dc6fcf4be58",model:this.model,onArcgisChartsConfigFormatPopoverChange:this.popoverOpen}));break;case l.General:a=s(t,{key:"485101f708f3adf85199d955bf2c91e3242707e2"},s("arcgis-charts-config-general",{key:"d90af83fb5cb597331a369f8b486ffe7d27c84aa",model:this.model}));break;default:a=s(t,{key:"d5e7aa173cd16ed363ce2af2d7ce92f635874344"})}return a}disconnectedCallback(){this.model.removeEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange)}async updateFetchLayerFieldsInfo(i){const e=i??this.model.getConfig();let s=this.layer;if(!s){const i=n(e)?e.iLayer:void 0;i&&(s=await o(i))}s&&(this.layerFieldsInfo=await h(s,this.usePopupTemplateFieldsInfo))}get hostElement(){return a(this)}static get watchers(){return{model:["modelChange"],layer:["layerChange"],usePopupTemplateFieldsInfo:["usePopupTemplateFieldsInfoChange"],seriesColor:["seriesColorChange"]}}};b.style=":host{overflow-y:auto;overflow-x:hidden;margin-bottom:var(--arcgis-charts-intra-section-margin);margin-top:var(--arcgis-charts-intra-section-margin);height:100%}";const C=class{constructor(e){i(this,e),this.popoverElement=null,this.popoverOpen=i=>{const{open:e=!1,element:s=null}={...i.detail};!0===e&&this.popoverElement!==s?(null!==this.popoverElement&&(this.popoverElement.open=!1),this.popoverElement=s):!1===e&&this.popoverElement===s&&(this.popoverElement=null)},this.onModelConfigChange=async i=>{const e=i?.detail.config??this.model.getConfig();void 0===this.layer&&await this.updateFetchLayerFieldsInfo(e)},this.model=void 0,this.popoverPlacement="leading",this.seriesColor=void 0,this.page=void 0,this.calculatedMinMaxBounds=void 0,this.layer=void 0,this.usePopupTemplateFieldsInfo=void 0,this.layerFieldsInfo=void 0,this.activeColorMatch=!1}modelChange(i,e){e?.removeEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange),i.addEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange)}async layerChange(i,e){void 0===i||f(e,i)||await this.updateFetchLayerFieldsInfo()}async usePopupTemplateFieldsInfoChange(i,e){void 0!==i&&i!==e&&await this.updateFetchLayerFieldsInfo()}seriesColorChange(i){this.activeColorMatch=void 0===i?.get(0),this.model.getColorMatch()&&i?.forEach(((e,s)=>{let t;e&&("fillSymbol"in e?t=e.fillSymbol?.color:"lineSymbol"in e&&(t=e.lineSymbol.color)),void 0===i?.get(0)||void 0===t||f(this.model.getSeriesColor(s),t)||this.model.setSeriesColor(t,s)}))}async updateDataFilters(){const i=this.model.getDataFilter(),e=i?.where,s=this.layer?.definitionExpression??void 0;f(e,s)||await this.model.setDataFilter({...i,where:s??void 0})}async componentWillLoad(){void 0!==this.layer&&await this.layerChange(this.layer,void 0),void 0!==this.seriesColor&&this.seriesColorChange(this.seriesColor),void 0!==this.usePopupTemplateFieldsInfo&&await this.usePopupTemplateFieldsInfoChange(this.usePopupTemplateFieldsInfo,void 0),this.modelChange(this.model),this.onModelConfigChange(),this.updateDataFilters()}async componentWillRender(){void 0===this.layerFieldsInfo&&await this.updateFetchLayerFieldsInfo()}render(){let i;switch(this.page){case l.Data:i=s(t,{key:"090070d91c46b9690e2badef9cc9d3939dac7415"},s("arcgis-charts-config-box-plot-data",{key:"0976cdba92052e3af8a9609463952a9544ec7b0e",model:this.model,layerFieldsInfo:this.layerFieldsInfo}));break;case l.Series:i=s(t,{key:"30f05ea39a30ada3ef720076d8833896c0099a38"},s("arcgis-charts-config-box-plot-series",{key:"130e32d85130a94c213fc8e39a863e71a030799c",model:this.model,activeColorMatch:this.activeColorMatch,onArcgisChartsConfigBoxPlotSeriesPopoverChange:this.popoverOpen,popoverPlacement:this.popoverPlacement}));break;case l.Axes:i=s(t,{key:"84221ef0c0a3e0cb2f8f6fe983f96b061ce6ff8d"},s("arcgis-charts-config-axes",{key:"1be58bd9e245ba2a3c087cfbc21f1efd78915276",model:this.model,showMinXBoundOption:!1,showMaxXBoundOption:!1,showMinYBoundOption:!0,showMaxYBoundOption:!0,showEnableXLogOption:!1,showEnableYLogOption:!1,calculatedMinMaxBounds:this.calculatedMinMaxBounds}));break;case l.Guides:i=s(t,{key:"a752195850fdce70ee2be71d0ee5dc2b51bcb47a"},s("arcgis-charts-config-guides",{key:"6acaf21fd03f09f17cb4722570b9f18b1cca0768",model:this.model,enableXAxisGuide:!1,enableYAxisGuide:!0,onArcgisChartsConfigGuidePopoverChange:this.popoverOpen}));break;case l.Format:i=s(t,{key:"16afe70fa2535a68e6f6e96b91b4e28e6661fc71"},s("arcgis-charts-config-format",{key:"7ba59c9cdb58e981bc0c75a1a6b3cd39296f8ee9",model:this.model,onArcgisChartsConfigFormatPopoverChange:this.popoverOpen}));break;case l.General:i=s(t,{key:"943b6248b9e9845717de2a513aa233c5e27cdf1b"},s("arcgis-charts-config-general",{key:"e2948c75a57d1dc9915d3f51631cf5f59e414f2f",model:this.model}));break;default:i=s(t,{key:"5807d4f9f5ff47d827c2fa2edc1ab4403b9d7247"})}return i}disconnectedCallback(){this.model.removeEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange)}async updateFetchLayerFieldsInfo(i){const e=i??this.model.getConfig();let s=this.layer;if(!s){const i=n(e)?e.iLayer:void 0;i&&(s=await o(i))}s&&(this.layerFieldsInfo=await h(s,this.usePopupTemplateFieldsInfo))}get hostElement(){return a(this)}static get watchers(){return{model:["modelChange"],layer:["layerChange"],usePopupTemplateFieldsInfo:["usePopupTemplateFieldsInfoChange"],seriesColor:["seriesColorChange"]}}};C.style=":host{overflow-y:auto;overflow-x:hidden;margin-bottom:var(--arcgis-charts-intra-section-margin);margin-top:var(--arcgis-charts-intra-section-margin);height:100%}";const v=class{constructor(e){i(this,e),this.popoverElement=null,this.popoverOpen=i=>{const{open:e=!1,element:s=null}={...i.detail};!0===e&&this.popoverElement!==s?(null!==this.popoverElement&&(this.popoverElement.open=!1),this.popoverElement=s):!1===e&&this.popoverElement===s&&(this.popoverElement=null)},this.onModelConfigChange=async i=>{const e=i?.detail.config??this.model.getConfig();void 0===this.layer&&await this.updateFetchLayerFieldsInfo(e)},this.model=void 0,this.chartData=void 0,this.seriesColor=void 0,this.calculatedMinMaxBounds=void 0,this.page=void 0,this.layer=void 0,this.usePopupTemplateFieldsInfo=void 0,this.layerFieldsInfo=void 0}modelChange(i,e){e?.removeEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange),i?.addEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange)}async layerChange(i,e){void 0===i||f(e,i)||await this.updateFetchLayerFieldsInfo()}async usePopupTemplateFieldsInfoChange(i,e){void 0!==i&&i!==e&&await this.updateFetchLayerFieldsInfo()}seriesColorChange(i){this.model.getColorMatch()&&i?.forEach((e=>{void 0===i?.get(0)||f(this.model.getBinColor(),e)||this.model.setBinColor(e)}))}async componentWillLoad(){void 0!==this.layer&&await this.layerChange(this.layer,void 0),void 0!==this.seriesColor&&this.seriesColorChange(this.seriesColor),void 0!==this.usePopupTemplateFieldsInfo&&await this.usePopupTemplateFieldsInfoChange(this.usePopupTemplateFieldsInfo,void 0),this.modelChange(this.model),this.onModelConfigChange()}async componentWillRender(){void 0===this.layerFieldsInfo&&await this.updateFetchLayerFieldsInfo()}render(){let i;switch(this.page){case l.Data:i=s(t,{key:"bf69c59cb6d5c70ec671bd91d4d5ee30bc995972"},s("arcgis-charts-config-histogram-data",{key:"de1c5cd480f8e5c5c861940506d50465064e4302",model:this.model,meanValue:this.chartData?.mean,medianValue:this.chartData?.median,standardDevValue:this.chartData?.stddev,minValue:this.chartData?.min,maxValue:this.chartData?.max,sumValue:this.chartData?.sum,nullsValue:this.chartData?.nulls,countValue:this.chartData?.count,layerFieldsInfo:this.layerFieldsInfo,onArcgisChartsConfigHistogramDataPopoverChange:this.popoverOpen}));break;case l.Axes:i=s(t,{key:"8a8d6b4604619c7d7215c0132323fb4c8c843d37"},s("arcgis-charts-config-axes",{key:"100bed9d5efb0dcce256d5044dd98e7ee3e207ce",model:this.model,showMinXBoundOption:!1,showMaxXBoundOption:!1,showMinYBoundOption:!1,showMaxYBoundOption:!0,showEnableXLogOption:!1,showEnableYLogOption:!1,calculatedMinMaxBounds:this.calculatedMinMaxBounds}));break;case l.Guides:i=s(t,{key:"1af8a4323dc02b7db307fe3fdb9637f8e182b453"},s("arcgis-charts-config-guides",{key:"05c7fc0770f54c11476b6f6634f064c4c37317f4",model:this.model,enableXAxisGuide:!1,enableYAxisGuide:!0,onArcgisChartsConfigGuidePopoverChange:this.popoverOpen}));break;case l.Format:i=s(t,{key:"30a6349b1a11a0fa2dc3f2c5422072d8996d82d3"},s("arcgis-charts-config-format",{key:"889e13afbe77303039368100851e4ef885e71908",model:this.model,onArcgisChartsConfigFormatPopoverChange:this.popoverOpen}));break;case l.General:i=s(t,{key:"f8bed9bcf296e8513ca33836156fcd378f4a91ea"},s("arcgis-charts-config-general",{key:"250f049e5cd371c348fc4de7e85b4e438f7ea076",model:this.model}));break;default:i=s(t,{key:"9a20d6de0844e3fc0f13f5e3495c64f80082ddfa"})}return i}disconnectedCallback(){this.model.removeEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange)}async updateFetchLayerFieldsInfo(i){const e=i??this.model.getConfig();let s=this.layer;if(!s){const i=n(e)?e.iLayer:void 0;i&&(s=await o(i))}s&&(this.layerFieldsInfo=await h(s,this.usePopupTemplateFieldsInfo))}get hostElement(){return a(this)}static get watchers(){return{model:["modelChange"],layer:["layerChange"],usePopupTemplateFieldsInfo:["usePopupTemplateFieldsInfoChange"],seriesColor:["seriesColorChange"]}}};v.style=":host{overflow-y:auto;overflow-x:hidden;margin-bottom:var(--arcgis-charts-intra-section-margin);margin-top:var(--arcgis-charts-intra-section-margin);height:100%}";const u=class{constructor(s){i(this,s),this.arcgisChartsConfigWebChartChange=e(this,"arcgisChartsConfigWebChartChange",7),this.popoverElement=null,this.popoverOpen=i=>{const{open:e=!1,element:s=null}={...i.detail};!0===e&&this.popoverElement!==s?(null!==this.popoverElement&&(this.popoverElement.open=!1),this.popoverElement=s):!1===e&&this.popoverElement===s&&(this.popoverElement=null)},this.onModelConfigChange=async i=>{const e=i?.detail.config??this.model.getConfig();void 0===this.layer&&await this.updateFetchLayerFieldsInfo(e)},this.model=void 0,this.popoverPlacement="leading",this.r2=void 0,this.calculatedDataMinMaxBounds=void 0,this.calculatedMinMaxBounds=void 0,this.page=void 0,this.layer=void 0,this.usePopupTemplateFieldsInfo=void 0,this.layerFieldsInfo=void 0}modelChange(i,e){e?.removeEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange),i?.addEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange)}r2Change(i){Number.isFinite(i)||(this.r2=void 0)}async layerChange(i,e){void 0===i||f(e,i)||await this.updateFetchLayerFieldsInfo()}async usePopupTemplateFieldsInfoChange(i,e){void 0!==i&&i!==e&&await this.updateFetchLayerFieldsInfo()}async componentWillLoad(){void 0!==this.layer&&await this.layerChange(this.layer,void 0),void 0!==this.usePopupTemplateFieldsInfo&&await this.usePopupTemplateFieldsInfoChange(this.usePopupTemplateFieldsInfo,void 0),this.modelChange(this.model),this.onModelConfigChange()}async componentWillRender(){void 0===this.layerFieldsInfo&&await this.updateFetchLayerFieldsInfo()}render(){let i;switch(this.page){case l.Data:i=s(t,{key:"1177ff84c3303f2319e3adc276b86965240c51be"},s("arcgis-charts-config-scatter-plot-data",{key:"f3930d0e68a6b109cd788738d773c5b8c7f26b14",model:this.model,r2:this.r2,layerFieldsInfo:this.layerFieldsInfo,onArcgisChartsConfigScatterPlotPopoverChange:this.popoverOpen,isTableLayer:this.layer?.isTable}));break;case l.Axes:i=s(t,{key:"95bf7e6445609c9ba51d15fa85295110ae042c76"},s("arcgis-charts-config-axes",{key:"25d4127c3acd23d77af5b2bf60963e562caa91ac",model:this.model,showMinXBoundOption:!0,showMaxXBoundOption:!0,showMinYBoundOption:!0,showMaxYBoundOption:!0,showEnableXLogOption:!0,showEnableYLogOption:!0,calculatedMinMaxBounds:this.calculatedMinMaxBounds,calculatedDataMinMaxBounds:this.calculatedDataMinMaxBounds}));break;case l.Guides:i=s(t,{key:"c4810613204181fe41197369bbbc75fd5e4d35c7"},s("arcgis-charts-config-guides",{key:"9952083d7346d9d7048f247ffd2e233a8fd12e7d",model:this.model,enableXAxisGuide:!0,enableYAxisGuide:!0,onArcgisChartsConfigGuidePopoverChange:this.popoverOpen}));break;case l.Format:i=s(t,{key:"ca736657d6f9ea7a26cfc5fea667510d6e1a48e8"},s("arcgis-charts-config-format",{key:"4c64f78d799821bf06ffc7790270a9435bcc2aab",model:this.model,onArcgisChartsConfigFormatPopoverChange:this.popoverOpen}));break;case l.General:i=s(t,{key:"a735be8e6da14cf696d812dedc8a9509774fabd7"},s("arcgis-charts-config-general",{key:"025f6c334fb4f9b55231ca326332eed8e2c7223f",model:this.model}));break;default:i=s(t,{key:"011da87670ca4f4eb958825f05072b66725ab430"})}return i}async updateFetchLayerFieldsInfo(i){const e=i??this.model.getConfig();let s=this.layer;if(!s){const i=n(e)?e.iLayer:void 0;i&&(s=await o(i))}s&&(this.layerFieldsInfo=await h(s,this.usePopupTemplateFieldsInfo))}get hostElement(){return a(this)}static get watchers(){return{model:["modelChange"],r2:["r2Change"],layer:["layerChange"],usePopupTemplateFieldsInfo:["usePopupTemplateFieldsInfoChange"]}}};u.style=":host{overflow-y:auto;overflow-x:hidden;margin-bottom:var(--arcgis-charts-intra-section-margin);margin-top:var(--arcgis-charts-intra-section-margin);height:100%}";const p=class{constructor(s){i(this,s),this.arcgisChartsNoSeriesUpdate=e(this,"arcgisChartsConfigNoSeriesUpdate",7),this.arcgisChartsConfigWebChartChange=e(this,"arcgisChartsConfigWebChartChange",7),this.popoverElement=null,this.popoverOpen=i=>{const{open:e=!1,element:s=null}={...i.detail};!0===e&&this.popoverElement!==s?(null!==this.popoverElement&&(this.popoverElement.open=!1),this.popoverElement=s):!1===e&&this.popoverElement===s&&(this.popoverElement=null)},this.onModelConfigChange=async i=>{const e=i?.detail.config??this.model.getConfig();void 0===this.layer&&await this.updateFetchLayerFieldsInfo(e)},this.model=void 0,this.popoverPlacement="leading",this.seriesColor=void 0,this.calculatedMinMaxBounds=void 0,this.page=void 0,this.layer=void 0,this.usePopupTemplateFieldsInfo=void 0,this.filterBySelection=void 0,this.layerFieldsInfo=void 0,this.chartData=void 0}modelChange(i,e){e?.removeEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange),i?.addEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange)}async layerChange(i,e){void 0===i||f(e,i)||await this.updateFetchLayerFieldsInfo()}async usePopupTemplateFieldsInfoChange(i,e){void 0!==i&&i!==e&&await this.updateFetchLayerFieldsInfo()}seriesColorChange(i){const{slices:e,groupedSlices:s,groupOfSlices:t}=i?.get(0)??{};let a=[];a=!0===this.filterBySelection?this.model.getSlices()?.map((i=>e?.find((e=>e.sliceId===i.sliceId))??s?.find((e=>e.sliceId===i.sliceId))??i))??[]:(e??[]).concat(s??[]),a.forEach(((i,e)=>{const s=this.model.getSlices()?.find((i=>i.sliceId===a[e].sliceId));s&&(a[e]={...a[e],...s});const t=a[e].fillSymbol;void 0===t||f(t?.outline?.color,t?.color)||(t.outline={...t.outline??{},type:d.SLS,color:t.color})}));const o=(s??[]).map((i=>i.sliceId));void 0===s||f(o,this.model.getGroupedSliceIds())||this.model.setGroupedSliceIds(g(o)),f(a,this.model.getSlices())||this.model.setSlices(g(a)),void 0===t||f(t,this.model.getSliceGrouping())||this.model.setSliceGrouping(g(t))}async componentWillLoad(){void 0!==this.layer&&await this.layerChange(this.layer,void 0),void 0!==this.seriesColor&&this.seriesColorChange(this.seriesColor),void 0!==this.usePopupTemplateFieldsInfo&&await this.usePopupTemplateFieldsInfoChange(this.usePopupTemplateFieldsInfo,void 0),this.modelChange(this.model),this.onModelConfigChange()}async componentWillRender(){void 0===this.layerFieldsInfo&&await this.updateFetchLayerFieldsInfo()}render(){let i;switch(this.page){case l.Data:i=s(t,{key:"390ed7f37ba62859eaa611e505062552c3d64446"},s("arcgis-charts-config-pie-chart-data",{key:"248f4efd7cc9a80b15f3c85403b10173ba6ab5b7",model:this.model,layerFieldsInfo:this.layerFieldsInfo}));break;case l.Slices:i=s(t,{key:"1b02a7703b8578702c50894f859dbd3bc2554574"},s("arcgis-charts-config-pie-chart-slices",{key:"497627b7ac1c8eeb2ad75eeb018acc166acf9622",model:this.model,chartData:this.chartData,onArcgisChartsConfigPieChartSlicesPopoverChange:this.popoverOpen,popoverPlacement:this.popoverPlacement}));break;case l.Format:i=s(t,{key:"28e64c2f73ba5f180b5b79d757ffac9dd8e7b5b3"},s("arcgis-charts-config-format",{key:"a7d52b470d48e162b52e8c725229f19cc3882cc7",model:this.model,onArcgisChartsConfigFormatPopoverChange:this.popoverOpen}));break;case l.General:i=s(t,{key:"589d6c113a7813c30743903f4ee4bb06e52b3f22"},s("arcgis-charts-config-general",{key:"5fa3998ae7182a2db9f8755a0187a3e18e151afa",model:this.model}));break;default:i=s(t,{key:"606e82253dacc2d36fb0ce9d7665811c6b37e951"})}return i}disconnectedCallback(){this.model.removeEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange)}async updateFetchLayerFieldsInfo(i){const e=i??this.model.getConfig();let s=this.layer;if(!s){const i=n(e)?e.iLayer:void 0;i&&(s=await o(i))}s&&(this.layerFieldsInfo=await h(s,this.usePopupTemplateFieldsInfo))}get hostElement(){return a(this)}static get watchers(){return{model:["modelChange"],layer:["layerChange"],usePopupTemplateFieldsInfo:["usePopupTemplateFieldsInfoChange"],seriesColor:["seriesColorChange"]}}};p.style=":host{overflow-y:auto;overflow-x:hidden;margin-bottom:var(--arcgis-charts-intra-section-margin);margin-top:var(--arcgis-charts-intra-section-margin);height:100%}";const m=class{constructor(s){i(this,s),this.arcgisChartsNoSeriesUpdate=e(this,"arcgisChartsConfigNoSeriesUpdate",7),this.popoverElement=null,this.popoverOpen=i=>{const{open:e=!1,element:s=null}={...i.detail};!0===e&&this.popoverElement!==s?(null!==this.popoverElement&&(this.popoverElement.open=!1),this.popoverElement=s):!1===e&&this.popoverElement===s&&(this.popoverElement=null)},this.onModelConfigChange=async i=>{const e=i?.detail.config??this.model.getConfig();void 0===this.layer&&await this.updateFetchLayerFieldsInfo(e)},this.model=void 0,this.timeZone=void 0,this.popoverPlacement="leading",this.seriesColor=void 0,this.calculatedDataMinMaxBounds=void 0,this.calculatedMinMaxBounds=void 0,this.page=void 0,this.layer=void 0,this.usePopupTemplateFieldsInfo=void 0,this.layerFieldsInfo=void 0,this.activeColorMatch=!1}modelChange(i,e){e?.removeEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange),i?.addEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange)}async layerChange(i,e){i&&!f(e,i)&&await this.updateFetchLayerFieldsInfo()}async usePopupTemplateFieldsInfoChange(i,e){i&&i!==e&&await this.updateFetchLayerFieldsInfo()}seriesColorChange(i){this.activeColorMatch=void 0===i?.get(0)?.markerSymbol,this.model.getColorMatch()&&i?.forEach(((e,s)=>{void 0!==i?.get(0)&&(void 0===e.lineSymbol?.color||f(this.model.getSeriesColor(s),e.lineSymbol.color)||this.model.setSeriesColor(e.lineSymbol.color,s),void 0===e.lineSymbol?.style||f(this.model.getSeriesLineStyle(s),e.lineSymbol.style)||this.model.setSeriesLineStyle(e.lineSymbol.style,s),void 0===e.lineSymbol?.width||f(this.model.getSeriesLineWidth(s),e.lineSymbol.width)||this.model.setSeriesLineWidth(e.lineSymbol.width,s),void 0===e.markerSymbol?.color||f(this.model.getSeriesMarkerColor(s),e.markerSymbol?.color)||this.model.setSeriesMarkerColor(e.markerSymbol?.color,s),void 0===e.markerSymbol?.style||f(this.model.getSeriesMarkerStyle(s),e.markerSymbol?.style)||this.model.setSeriesMarkerStyle(e.markerSymbol?.style,s),void 0!==e.markerSymbol?.size&&this.model.getSeriesMarkerSize(s)!==e.markerSymbol?.size&&this.model.setSeriesMarkerSize(e.markerSymbol?.size,s))}))}async componentWillLoad(){void 0!==this.layer&&await this.layerChange(this.layer,void 0),void 0!==this.seriesColor&&this.seriesColorChange(this.seriesColor),void 0!==this.usePopupTemplateFieldsInfo&&await this.usePopupTemplateFieldsInfoChange(this.usePopupTemplateFieldsInfo,void 0),this.modelChange(this.model),this.onModelConfigChange()}async componentWillRender(){void 0===this.layerFieldsInfo&&await this.updateFetchLayerFieldsInfo()}render(){const i=this.layerFieldsInfo.find((i=>i.name===this.model.getXAxisField())),e=void 0!==i&&(r(i)||c(i));let a;switch(this.page){case l.Data:a=s(t,{key:"51b64dbaa60ab8ae714dc9e19c8bdeff8c21f0c7"},s("arcgis-charts-config-line-chart-data",{key:"e0277e2fd26a9947e89358b82d16ff9bb8ca2fb9",model:this.model,resetTimeInterval:this.model.resetTimeInterval,layerFieldsInfo:this.layerFieldsInfo}));break;case l.Series:a=s(t,{key:"31225c635de03841696cd5325af31b5004b6e12f"},s("arcgis-charts-config-line-chart-series",{key:"c83b93cae1c76b39ad5f75340dfd49197c2182bc",model:this.model,activeColorMatch:this.activeColorMatch,popoverPlacement:this.popoverPlacement,onArcgisChartsConfigLineChartSeriesPopoverChange:this.popoverOpen}));break;case l.Axes:a=s(t,{key:"a6a5c13dc824e21906908c804050fb32b31459db"},s("arcgis-charts-config-axes",{key:"541221d19b9110370bebf5b687ae424d9b4f745a",model:this.model,showMinXBoundOption:!1,showMaxXBoundOption:!1,showMinYBoundOption:!0,showMaxYBoundOption:!0,showEnableXLogOption:!0,showEnableYLogOption:!0,calculatedMinMaxBounds:this.calculatedMinMaxBounds,calculatedDataMinMaxBounds:this.calculatedDataMinMaxBounds}));break;case l.Guides:a=s(t,{key:"680a733ccccd3e737006945956dac628de6c420c"},s("arcgis-charts-config-guides",{key:"c5b3cdb0579591ad16ec3f5167764ce288aa94ce",model:this.model,timeZone:this.timeZone,calculatedMinMaxBounds:this.calculatedMinMaxBounds,enableXAxisGuide:e,enableYAxisGuide:!0,onArcgisChartsConfigGuidePopoverChange:this.popoverOpen}));break;case l.Format:a=s(t,{key:"36bb851fdad38b852cb493e6c8cf9a1b3a9bbac8"},s("arcgis-charts-config-format",{key:"fd55952c7522184413fdd2c12d4e130b5711f015",model:this.model,onArcgisChartsConfigFormatPopoverChange:this.popoverOpen}));break;case l.General:a=s(t,{key:"c643c17d7caab0962c3308781c2a19e58edc6c71"},s("arcgis-charts-config-general",{key:"6951361c4648022d150557c0adadf15c3ea52f87",model:this.model}));break;default:a=s(t,{key:"9f14d9926c84426fa4fb903312515060a582b04f"})}return a}disconnectedCallback(){this.model.removeEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange)}async updateFetchLayerFieldsInfo(i){const e=i??this.model.getConfig();let s=this.layer;if(!s){const i=n(e)?e.iLayer:void 0;i&&(s=await o(i))}s&&(this.layerFieldsInfo=await h(s,this.usePopupTemplateFieldsInfo))}get hostElement(){return a(this)}static get watchers(){return{model:["modelChange"],layer:["layerChange"],usePopupTemplateFieldsInfo:["usePopupTemplateFieldsInfoChange"],seriesColor:["seriesColorChange"]}}};m.style=":host{overflow-y:auto;overflow-x:hidden;margin-bottom:var(--arcgis-charts-intra-section-margin);margin-top:var(--arcgis-charts-intra-section-margin);height:100%}";export{b as A,C as a,v as b,u as c,p as d,m as e}