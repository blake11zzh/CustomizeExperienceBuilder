/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See LICENSE.md for details.
 * v4.32.1
 */
const e="18.1.0",t="esriFieldTypeDouble",r="esriFieldTypeInteger",i="esriFieldTypeSingle",a="esriFieldTypeSmallInteger",n="count",o="sum",s="min",c="max",u="avg",l="var",d="percentile_cont",f="percentile_disc",h="envelope-aggregate",v="no_aggregation",m="esriSLSSolid",p="esriSMSCircle",y="esriSFSSolid",g="center",b="middle",w="esriSLS",x="esriSMS",S="esriSFS",j="chart",F="chartOverlay",k="chartOverlays",E="chartAxis",O="number",T="scatterSeries",I="pieSeries",A="gaugeSeries",D="lineSeries",C="barSeries",_="histogramSeries",L="boxPlotSeries",P="radarSeries",$="comboLineAndBarSeries",N="ASC",M="DESC",B="hide",V="same",z="newer",q="older",R="unrecognized",G="arcgis-charts-y-value",U="arcgis-charts-mean",X="arcgis-charts-median",Y="arcgis-charts-category",H="arcgis_charts_pie_from_fields_name",W="axisLabels",J="guideLabel",K="axisTitle",Z="chartTitle",Q="dataLabels",ee="legendTitle",te="legendText",re="descriptionText",ie={Arabic:"ar",ArabicLatin:"ar-u-nu-latn",Bosnian:"bs",Bulgarian:"bg",Catalan:"ca",Czech:"cs",Danish:"da",German:"de",Greek:"el",English:"en",EnglishUSA:"en-US",Spanish:"es",Estonian:"et",Finnish:"fi",French:"fr",Hebrew:"he",Croatian:"hr",Hungarian:"hu",Indonesian:"id",Italian:"it",Japanese:"ja",Korean:"ko",Lithuanian:"lt",Latvian:"lv",NorwegianBokml:"no",Dutch:"nl",Polish:"pl",PortugueseBrazil:"pt-BR",PortuguesePortugal:"pt-PT",Romanian:"ro",Russian:"ru",Serbian:"sr",Slovenian:"sl",Slovak:"sk",Swedish:"sv",Thai:"th",Turkish:"tr",Ukrainian:"uk",Vietnamese:"vi",ChineseChina:"zh-CN",ChineseHongKong:"zh-HK",ChineseTaiwan:"zh-TW"},ae=[...Object.values(ie),"en-AU","en-GB","es-ES","es-MX","de-CH","de-DE","de-AT","it-CH","it-IT"];var ne="object"==typeof global&&global&&global.Object===Object&&global,oe="object"==typeof self&&self&&self.Object===Object&&self,se=ne||oe||Function("return this")(),ce=se.Symbol,ue=Object.prototype,le=ue.hasOwnProperty,de=ue.toString,fe=ce?ce.toStringTag:void 0,he=Object.prototype.toString,ve=ce?ce.toStringTag:void 0;function me(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ve&&ve in Object(e)?function(e){var t=le.call(e,fe),r=e[fe];try{e[fe]=void 0;var i=!0}catch(e){}var a=de.call(e);return i&&(t?e[fe]=r:delete e[fe]),a}(e):function(e){return he.call(e)}(e)}function pe(e){return null!=e&&"object"==typeof e}function ye(e,t){for(var r=-1,i=null==e?0:e.length,a=Array(i);++r<i;)a[r]=t(e[r],r,e);return a}var ge=Array.isArray,be=ce?ce.prototype:void 0,we=be?be.toString:void 0;function xe(e){if("string"==typeof e)return e;if(ge(e))return ye(e,xe)+"";if(function(e){return"symbol"==typeof e||pe(e)&&"[object Symbol]"==me(e)}(e))return we?we.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Se(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function je(e){return e}function Fe(e){if(!Se(e))return!1;var t=me(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var ke,Ee=se["__core-js_shared__"],Oe=(ke=/[^.]+$/.exec(Ee&&Ee.keys&&Ee.keys.IE_PROTO||""))?"Symbol(src)_1."+ke:"",Te=Function.prototype.toString;function Ie(e){if(null!=e){try{return Te.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var Ae=/^\[object .+?Constructor\]$/,De=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ce(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Se(e)||(t=e,Oe&&Oe in t))&&(Fe(e)?De:Ae).test(Ie(e));var t}(r)?r:void 0}var _e=Ce(se,"WeakMap"),Le=Object.create,Pe=function(){function e(){}return function(t){if(!Se(t))return{};if(Le)return Le(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),$e=Pe;function Ne(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Me,Be,Ve,ze=Date.now,qe=function(){try{var e=Ce(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Re=qe,Ge=Re?function(e,t){return Re(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:je,Ue=(Me=Ge,Be=0,Ve=0,function(){var e=ze(),t=16-(e-Ve);if(Ve=e,t>0){if(++Be>=800)return arguments[0]}else Be=0;return Me.apply(void 0,arguments)}),Xe=/^(?:0|[1-9]\d*)$/;function Ye(e,t){var r=typeof e;return!!(t=t??9007199254740991)&&("number"==r||"symbol"!=r&&Xe.test(e))&&e>-1&&e%1==0&&e<t}function He(e,t,r){"__proto__"==t&&Re?Re(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function We(e,t){return e===t||e!=e&&t!=t}var Je=Object.prototype.hasOwnProperty;function Ke(e,t,r){var i=e[t];Je.call(e,t)&&We(i,r)&&(void 0!==r||t in e)||He(e,t,r)}function Ze(e,t,r,i){var a=!r;r||(r={});for(var n=-1,o=t.length;++n<o;){var s=t[n],c=i?i(r[s],e[s],s,r,e):void 0;void 0===c&&(c=e[s]),a?He(r,s,c):Ke(r,s,c)}return r}var Qe=Math.max;function et(e,t){return Ue(function(e,t,r){return t=Qe(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,n=Qe(i.length-t,0),o=Array(n);++a<n;)o[a]=i[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=i[a];return s[t]=r(o),Ne(e,this,s)}}(e,t,je),e+"")}function tt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function rt(e){return null!=e&&tt(e.length)&&!Fe(e)}var it=Object.prototype;function at(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||it)}function nt(e){return pe(e)&&"[object Arguments]"==me(e)}var ot=Object.prototype,st=ot.hasOwnProperty,ct=ot.propertyIsEnumerable,ut=nt(function(){return arguments}())?nt:function(e){return pe(e)&&st.call(e,"callee")&&!ct.call(e,"callee")},lt="object"==typeof exports&&exports&&!exports.nodeType&&exports,dt=lt&&"object"==typeof module&&module&&!module.nodeType&&module,ft=dt&&dt.exports===lt?se.Buffer:void 0,ht=(ft?ft.isBuffer:void 0)||function(){return!1},vt={};function mt(e){return function(t){return e(t)}}vt["[object Float32Array]"]=vt["[object Float64Array]"]=vt["[object Int8Array]"]=vt["[object Int16Array]"]=vt["[object Int32Array]"]=vt["[object Uint8Array]"]=vt["[object Uint8ClampedArray]"]=vt["[object Uint16Array]"]=vt["[object Uint32Array]"]=!0,vt["[object Arguments]"]=vt["[object Array]"]=vt["[object ArrayBuffer]"]=vt["[object Boolean]"]=vt["[object DataView]"]=vt["[object Date]"]=vt["[object Error]"]=vt["[object Function]"]=vt["[object Map]"]=vt["[object Number]"]=vt["[object Object]"]=vt["[object RegExp]"]=vt["[object Set]"]=vt["[object String]"]=vt["[object WeakMap]"]=!1;var pt="object"==typeof exports&&exports&&!exports.nodeType&&exports,yt=pt&&"object"==typeof module&&module&&!module.nodeType&&module,gt=yt&&yt.exports===pt&&ne.process,bt=function(){try{return yt&&yt.require&&yt.require("util").types||gt&&gt.binding&&gt.binding("util")}catch(e){}}(),wt=bt&&bt.isTypedArray,xt=wt?mt(wt):function(e){return pe(e)&&tt(e.length)&&!!vt[me(e)]},St=Object.prototype.hasOwnProperty;function jt(e,t){var r=ge(e),i=!r&&ut(e),a=!r&&!i&&ht(e),n=!r&&!i&&!a&&xt(e),o=r||i||a||n,s=o?function(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}(e.length,String):[],c=s.length;for(var u in e)!t&&!St.call(e,u)||o&&("length"==u||a&&("offset"==u||"parent"==u)||n&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ye(u,c))||s.push(u);return s}function Ft(e,t){return function(r){return e(t(r))}}var kt=Ft(Object.keys,Object),Et=Object.prototype.hasOwnProperty;function Ot(e){if(!at(e))return kt(e);var t=[];for(var r in Object(e))Et.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Tt(e){return rt(e)?jt(e):Ot(e)}var It=Object.prototype.hasOwnProperty;function At(e){return rt(e)?jt(e,!0):function(e){if(!Se(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=at(e),r=[];for(var i in e)("constructor"!=i||!t&&It.call(e,i))&&r.push(i);return r}(e)}var Dt,Ct=(Dt=function(e,t,r,i){Ze(t,At(t),e,i)},et((function(e,t){var r=-1,i=t.length,a=i>1?t[i-1]:void 0,n=i>2?t[2]:void 0;for(a=Dt.length>3&&"function"==typeof a?(i--,a):void 0,n&&function(e,t,r){if(!Se(r))return!1;var i=typeof t;return!!("number"==i?rt(r)&&Ye(t,r.length):"string"==i&&t in r)&&We(r[t],e)}(t[0],t[1],n)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var o=t[r];o&&Dt(e,o,0,a)}return e}))),_t=Ct,Lt=Ce(Object,"create"),Pt=Object.prototype.hasOwnProperty,$t=Object.prototype.hasOwnProperty;function Nt(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function Mt(e,t){for(var r=e.length;r--;)if(We(e[r][0],t))return r;return-1}Nt.prototype.clear=function(){this.__data__=Lt?Lt(null):{},this.size=0},Nt.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Nt.prototype.get=function(e){var t=this.__data__;if(Lt){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Pt.call(t,e)?t[e]:void 0},Nt.prototype.has=function(e){var t=this.__data__;return Lt?void 0!==t[e]:$t.call(t,e)},Nt.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Lt&&void 0===t?"__lodash_hash_undefined__":t,this};var Bt=Array.prototype.splice;function Vt(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}Vt.prototype.clear=function(){this.__data__=[],this.size=0},Vt.prototype.delete=function(e){var t=this.__data__,r=Mt(t,e);return!(r<0||(r==t.length-1?t.pop():Bt.call(t,r,1),--this.size,0))},Vt.prototype.get=function(e){var t=this.__data__,r=Mt(t,e);return r<0?void 0:t[r][1]},Vt.prototype.has=function(e){return Mt(this.__data__,e)>-1},Vt.prototype.set=function(e,t){var r=this.__data__,i=Mt(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this};var zt=Ce(se,"Map");function qt(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function Rt(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function Gt(e){return null==e?"":xe(e)}function Ut(e,t){for(var r=-1,i=t.length,a=e.length;++r<i;)e[a+r]=t[r];return e}Rt.prototype.clear=function(){this.size=0,this.__data__={hash:new Nt,map:new(zt||Vt),string:new Nt}},Rt.prototype.delete=function(e){var t=qt(this,e).delete(e);return this.size-=t?1:0,t},Rt.prototype.get=function(e){return qt(this,e).get(e)},Rt.prototype.has=function(e){return qt(this,e).has(e)},Rt.prototype.set=function(e,t){var r=qt(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this};var Xt=Ft(Object.getPrototypeOf,Object),Yt=Function.prototype.toString,Ht=Object.prototype.hasOwnProperty,Wt=Yt.call(Object);function Jt(e){if(!pe(e))return!1;var t=me(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!function(e){if(!pe(e)||"[object Object]"!=me(e))return!1;var t=Xt(e);if(null===t)return!0;var r=Ht.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Yt.call(r)==Wt}(e)}var Kt=et((function(e,t){try{return Ne(e,void 0,t)}catch(e){return Jt(e)?e:new Error(e)}})),Zt=Kt;function Qt(e){var t=this.__data__=new Vt(e);this.size=t.size}Qt.prototype.clear=function(){this.__data__=new Vt,this.size=0},Qt.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Qt.prototype.get=function(e){return this.__data__.get(e)},Qt.prototype.has=function(e){return this.__data__.has(e)},Qt.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Vt){var i=r.__data__;if(!zt||i.length<199)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new Rt(i)}return r.set(e,t),this.size=r.size,this};var er="object"==typeof exports&&exports&&!exports.nodeType&&exports,tr=er&&"object"==typeof module&&module&&!module.nodeType&&module,rr=tr&&tr.exports===er?se.Buffer:void 0,ir=rr?rr.allocUnsafe:void 0;function ar(){return[]}var nr=Object.prototype.propertyIsEnumerable,or=Object.getOwnPropertySymbols,sr=or?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,i=null==e?0:e.length,a=0,n=[];++r<i;){var o=e[r];t(o)&&(n[a++]=o)}return n}(or(e),(function(t){return nr.call(e,t)})))}:ar,cr=sr,ur=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Ut(t,cr(e)),e=Xt(e);return t}:ar,lr=ur;function dr(e,t,r){var i=t(e);return ge(e)?i:Ut(i,r(e))}function fr(e){return dr(e,Tt,cr)}function hr(e){return dr(e,At,lr)}var vr=Ce(se,"DataView"),mr=Ce(se,"Promise"),pr=Ce(se,"Set"),yr="[object Map]",gr="[object Promise]",br="[object Set]",wr="[object WeakMap]",xr="[object DataView]",Sr=Ie(vr),jr=Ie(zt),Fr=Ie(mr),kr=Ie(pr),Er=Ie(_e),Or=me;(vr&&Or(new vr(new ArrayBuffer(1)))!=xr||zt&&Or(new zt)!=yr||mr&&Or(mr.resolve())!=gr||pr&&Or(new pr)!=br||_e&&Or(new _e)!=wr)&&(Or=function(e){var t=me(e),r="[object Object]"==t?e.constructor:void 0,i=r?Ie(r):"";if(i)switch(i){case Sr:return xr;case jr:return yr;case Fr:return gr;case kr:return br;case Er:return wr}return t});var Tr=Or,Ir=Object.prototype.hasOwnProperty,Ar=se.Uint8Array;function Dr(e){var t=new e.constructor(e.byteLength);return new Ar(t).set(new Ar(e)),t}var Cr=/\w*$/,_r=ce?ce.prototype:void 0,Lr=_r?_r.valueOf:void 0,Pr=bt&&bt.isMap,$r=Pr?mt(Pr):function(e){return pe(e)&&"[object Map]"==Tr(e)},Nr=bt&&bt.isSet,Mr=Nr?mt(Nr):function(e){return pe(e)&&"[object Set]"==Tr(e)},Br="[object Arguments]",Vr="[object Function]",zr="[object Object]",qr={};function Rr(e,t,r,i,a,n){var o,s=1&t,c=2&t,u=4&t;if(r&&(o=a?r(e,i,a,n):r(e)),void 0!==o)return o;if(!Se(e))return e;var l=ge(e);if(l){if(o=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Ir.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!s)return function(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}(e,o)}else{var d=Tr(e),f=d==Vr||"[object GeneratorFunction]"==d;if(ht(e))return function(e,t){if(t)return e.slice();var r=e.length,i=ir?ir(r):new e.constructor(r);return e.copy(i),i}(e,s);if(d==zr||d==Br||f&&!a){if(o=c||f?{}:function(e){return"function"!=typeof e.constructor||at(e)?{}:$e(Xt(e))}(e),!s)return c?function(e,t){return Ze(e,lr(e),t)}(e,function(e,t){return e&&Ze(t,At(t),e)}(o,e)):function(e,t){return Ze(e,cr(e),t)}(e,function(e,t){return e&&Ze(t,Tt(t),e)}(o,e))}else{if(!qr[d])return a?e:{};o=function(e,t,r){var i,a,n=e.constructor;switch(t){case"[object ArrayBuffer]":return Dr(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return function(e,t){var r=t?Dr(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var r=t?Dr(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return(a=new(i=e).constructor(i.source,Cr.exec(i))).lastIndex=i.lastIndex,a;case"[object Symbol]":return Lr?Object(Lr.call(e)):{}}}(e,d,s)}}n||(n=new Qt);var h=n.get(e);if(h)return h;n.set(e,o),Mr(e)?e.forEach((function(i){o.add(Rr(i,t,r,i,e,n))})):$r(e)&&e.forEach((function(i,a){o.set(a,Rr(i,t,r,a,e,n))}));var v=l?void 0:(u?c?hr:fr:c?At:Tt)(e);return function(e,t){for(var r=-1,i=null==e?0:e.length;++r<i&&!1!==t(e[r],r););}(v||e,(function(i,a){v&&(i=e[a=i]),Ke(o,a,Rr(i,t,r,a,e,n))})),o}function Gr(e){return Rr(e,5)}qr[Br]=qr["[object Array]"]=qr["[object ArrayBuffer]"]=qr["[object DataView]"]=qr["[object Boolean]"]=qr["[object Date]"]=qr["[object Float32Array]"]=qr["[object Float64Array]"]=qr["[object Int8Array]"]=qr["[object Int16Array]"]=qr["[object Int32Array]"]=qr["[object Map]"]=qr["[object Number]"]=qr[zr]=qr["[object RegExp]"]=qr["[object Set]"]=qr["[object String]"]=qr["[object Symbol]"]=qr["[object Uint8Array]"]=qr["[object Uint8ClampedArray]"]=qr["[object Uint16Array]"]=qr["[object Uint32Array]"]=!0,qr["[object Error]"]=qr[Vr]=qr["[object WeakMap]"]=!1;var Ur,Xr=(Ur={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},function(e){return null==Ur?void 0:Ur[e]}),Yr=/[&<>"']/g,Hr=RegExp(Yr.source),Wr=Object.prototype.hasOwnProperty;function Jr(e){if(null==e)return!0;if(rt(e)&&(ge(e)||"string"==typeof e||"function"==typeof e.splice||ht(e)||xt(e)||ut(e)))return!e.length;var t=Tr(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(at(e))return!Ot(e).length;for(var r in e)if(Wr.call(e,r))return!1;return!0}var Kr=Object.prototype,Zr=Kr.hasOwnProperty;function Qr(e,t,r,i){return void 0===e||We(e,Kr[r])&&!Zr.call(i,r)?t:e}var ei={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function ti(e){return"\\"+ei[e]}var ri=/<%=([\s\S]+?)%>/g,ii={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:ri,variable:"",imports:{_:{escape:function(e){return(e=Gt(e))&&Hr.test(e)?e.replace(Yr,Xr):e}}}},ai=/\b__p \+= '';/g,ni=/\b(__p \+=) '' \+/g,oi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,si=/[()=,{}\[\]\/\s]/,ci=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ui=/($^)/,li=/['\n\r\u2028\u2029\\]/g,di=Object.prototype.hasOwnProperty;function fi(e,t){return function(e,t){var r=ii.imports._.templateSettings||ii;e=Gt(e),t=_t({},t,r,Qr);var i,a,n=_t({},t.imports,r.imports,Qr),o=Tt(n),s=function(e,t){return ye(t,(function(t){return e[t]}))}(n,o),c=0,u=t.interpolate||ui,l="__p += '",d=RegExp((t.escape||ui).source+"|"+u.source+"|"+(u===ri?ci:ui).source+"|"+(t.evaluate||ui).source+"|$","g"),f=di.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+"\n":"";e.replace(d,(function(t,r,n,o,s,u){return n||(n=o),l+=e.slice(c,u).replace(li,ti),r&&(i=!0,l+="' +\n__e("+r+") +\n'"),s&&(a=!0,l+="';\n"+s+";\n__p += '"),n&&(l+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),l+="';\n";var h=di.call(t,"variable")&&t.variable;if(h){if(si.test(h))throw new Error("Invalid `variable` option passed into `_.template`")}else l="with (obj) {\n"+l+"\n}\n";l=(a?l.replace(ai,""):l).replace(ni,"$1").replace(oi,"$1;"),l="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var v=Zt((function(){return Function(o,f+"return "+l).apply(void 0,s)}));if(v.source=l,Jt(v))throw v;return v}(e)(t)}function hi(e,t){let r=ie.English;const i=function(e){let t=e;if(void 0!==e&&e.includes("-")){const[r,i]=e.split("-");t=`${r}-${i.toUpperCase()}`}return t}(e);if(void 0!==i)if(t.includes(i))r=i;else{const e=function(e){const t=e?.match(/^([a-z]{2})-([A-Z]{2})$/u);let r=ie.English;return null!=t&&t?.length>1?r=t[1]:2===e?.length&&e.toLowerCase()===e&&(r=e),r}(i);t.includes(e)?r=e:"nb"===e&&(r="no")}return r}function vi(e,t){return function t(r){let i;return i=void 0===r||r===document||r===window?null:r.closest(e)||t(r.getRootNode().host),i}(t)}function mi(e=document.documentElement){const t=vi("[lang]",e),r=t?.lang??window.navigator.language,i=Object.values(ie),a=Object.values(ae),n=hi(r,i);let o=hi(r,a);return o="ar"===o?"ar-u-nu-latn":o,{locale:n,rtl:"rtl"===vi("[dir]",e)?.getAttribute("dir"),formatLocale:o}}async function pi(e=mi().locale){let t=await import("./p-5b2c4813.js");switch(e){case ie.Arabic:t=await import("./p-aee08665.js");break;case ie.Bosnian:t=await import("./p-949fec31.js");break;case ie.Bulgarian:t=await import("./p-c1e96ed2.js");break;case ie.Catalan:t=await import("./p-a6d8127b.js");break;case ie.Czech:t=await import("./p-2a01406a.js");break;case ie.Danish:t=await import("./p-ab14c5eb.js");break;case ie.German:t=await import("./p-3478b58c.js");break;case ie.Greek:t=await import("./p-6deb71ec.js");break;case ie.EnglishUSA:t=await import("./p-cc6bf454.js");break;case ie.Spanish:t=await import("./p-4fd5413b.js");break;case ie.Estonian:t=await import("./p-846343a6.js");break;case ie.Finnish:t=await import("./p-7a96fd2d.js");break;case ie.French:t=await import("./p-c4280c16.js");break;case ie.Hebrew:t=await import("./p-177e1997.js");break;case ie.Croatian:t=await import("./p-03b24432.js");break;case ie.Hungarian:t=await import("./p-7dbf752e.js");break;case ie.Indonesian:t=await import("./p-bd14071c.js");break;case ie.Italian:t=await import("./p-d9ad617f.js");break;case ie.Japanese:t=await import("./p-ec0b2137.js");break;case ie.Korean:t=await import("./p-d704e5c5.js");break;case ie.Lithuanian:t=await import("./p-ce6b7454.js");break;case ie.Latvian:t=await import("./p-2b7351a0.js");break;case ie.NorwegianBokml:t=await import("./p-02e525b5.js");break;case ie.Dutch:t=await import("./p-6528530b.js");break;case ie.Polish:t=await import("./p-fa7d971d.js");break;case ie.PortugueseBrazil:t=await import("./p-2e1220cc.js");break;case ie.PortuguesePortugal:t=await import("./p-258ec084.js");break;case ie.Romanian:t=await import("./p-b7f0d543.js");break;case ie.Russian:t=await import("./p-e2825853.js");break;case ie.Serbian:t=await import("./p-8108d748.js");break;case ie.Slovak:t=await import("./p-c91eb13d.js");break;case ie.Slovenian:t=await import("./p-92b017d6.js");break;case ie.Swedish:t=await import("./p-055c88b9.js");break;case ie.Thai:t=await import("./p-3da74e23.js");break;case ie.Turkish:t=await import("./p-6d3f1cf9.js");break;case ie.Ukrainian:t=await import("./p-6ad31dc6.js");break;case ie.Vietnamese:t=await import("./p-b25d5c8c.js");break;case ie.ChineseChina:t=await import("./p-58a47cc4.js");break;case ie.ChineseHongKong:t=await import("./p-716c5b46.js");break;case ie.ChineseTaiwan:t=await import("./p-fc4e9ac1.js")}return t}const yi=5,gi=4,bi=2e3,wi=.7,xi=[156,156,156,255],Si=[156,156,156,255],ji=m,Fi="arcgis_charts_group_of_slices",ki="arcgis_charts_box_plot_category",Ei=[[31,120,180,255],[166,206,227,255],[51,160,44,255],[178,223,138,255],[227,26,28,255],[251,154,153,255],[255,127,0,255],[253,191,111,255],[106,61,154,255],[202,178,214,255]],Oi=[[104,104,104,255],[51,124,235,255],[132,0,168,255],[156,156,156,255]];function Ti(e){const{colorIndex:t,opacity:r,histogramOverlays:i}=e,a=Math.max(0,t??0),n=[...!0===i?Oi:Ei],[o,s,c,u]=n[a%n.length];return[o,s,c,void 0!==r?255*r:u]}function Ii(e){return[0,0,0,255*(e??wi)]}function Ai(e=1){return[Math.floor(256*Math.random()),Math.floor(256*Math.random()),Math.floor(256*Math.random()),255*e]}function Di(e){const t={family:"Arial, Helvetica, sans-serif",size:10};switch(e){case Z:t.size=18;break;case K:t.size=14;break;case te:t.size=12;break;case ee:t.size=13;break;case re:t.size=11}return t}function Ci(e="",t=Di(),r){let i=g;return r!==Q&&r!==J||(i=void 0),{type:"esriTS",color:Ii(),text:e,font:t,horizontalAlignment:i}}function _i(e){const{text:t,visible:r,font:i,type:a}=e??{text:"",visible:!0,font:Di()};return{type:"chartText",visible:r,content:Ci(t,i,a)}}function Li(e){const t=e?.useRandomColor??!1,r=e?.useRampColor,i=e?.width??1,a=e?.isHistogramOverlay;let n=e?.color??Ii(1);return t?n=Ai():void 0!==r&&(n=Ti(!0===a?{colorIndex:r.colorIndex,histogramOverlays:a}:{colorIndex:r.colorIndex})),void 0!==e?.opacity&&(n[3]=e.opacity),{type:w,style:m,color:n,width:i}}function Pi(){return{type:O,intlOptions:{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:3,useGrouping:!0}}}function $i(e="Category Axis"){const t=_i({text:e,visible:!0,font:Di(K)});t.content.horizontalAlignment=g,t.content.verticalAlignment=b;const r=_i({text:e,visible:!0,font:Di(W)});return{type:E,visible:!0,title:t,labels:r,valueFormat:{type:"category",characterLimit:11},lineSymbol:Li({color:xi})}}function Ni(e="Value Axis"){const t=_i({text:e,visible:!0,font:Di(K)}),r=_i({text:e,visible:!0,font:Di(W)});return t.content.verticalAlignment=b,t.content.horizontalAlignment=g,{type:E,visible:!0,title:t,labels:r,valueFormat:Pi(),lineSymbol:Li({color:xi})}}function Mi(){return{type:"chartLegend",visible:!0,title:_i({text:"",visible:!0,font:Di(ee)}),body:Ci("",Di(te)),position:"right",maxHeight:Number.NaN}}function Bi(e){return{type:F,visible:!0,created:!1,symbol:Li({useRampColor:{colorIndex:e},isHistogramOverlay:!0})}}async function Vi(){return(await pi()).defaultTitle}function zi(){return`Chart ${Date.now()}`}function qi(e,t=!1){return{type:S,style:y,color:t?Ai(wi):Ti({colorIndex:e??0,opacity:wi})}}function Ri(e=0){return{type:x,style:p,color:Ti({colorIndex:e,opacity:wi}),size:4}}function Gi(e){return{type:w,style:m,color:Ti({colorIndex:e,opacity:wi}),width:2}}function Ui(e=!1){return{type:x,style:p,color:e?Ai(wi):Ti({colorIndex:0,opacity:wi}),size:7}}function Xi(e=!1){return{type:k,trendLine:{type:F,created:!1,visible:!0,symbol:{type:w,style:m,color:e?Ai():Ti({colorIndex:1}),width:2}}}}async function Yi(e){const t=await pi(),r=[],i=t.xAxis;let a;const n=Ni(t.statistics.count),o=Li({opacity:25});switch(n.grid=o,e){case C:a=$i(i);break;case T:a=Ni(i),a.grid=o;break;case D:case _:a=Ni(i);break;case L:a=$i("")}return void 0!==a&&r.push(a,n),r}function Hi(){return{type:"gaugeNeedle",symbol:{type:S,color:[0,0,0,200]}}}async function Wi(){const e=[],t=Ni((await pi()).xAxis);return t.needle=Hi(),e.push(t),e}async function Ji(e){const t=e.objectIDField??"ObjectID",r=`${n}_${t}_0`.toUpperCase(),i=(await pi()).countSeries;return{type:D,id:i,name:i,query:{outStatistics:[{statisticType:n,onStatisticField:t,outStatisticFieldName:r}],groupByFieldsForStatistics:[]},x:"",y:r,lineSymbol:Gi(e.seriesIndex),markerSymbol:Ri(e.seriesIndex),dataLabels:_i({text:"",visible:!1,font:Di(Q)}),timeIntervalSize:0,timeIntervalUnits:"esriTimeUnitsDays",timeAggregationType:"equalIntervalsFromStartTime",trimIncompleteTimeInterval:!0,nullPolicy:"interpolate"}}function Ki(e){return{type:S,style:y,color:Ti({colorIndex:e,opacity:wi})}}async function Zi(e){const t=e.objectIDField??"ObjectID",r=`${n}_${t}_0`.toUpperCase(),i=(await pi()).countSeries;return{type:C,id:i,name:i,query:{outStatistics:[{statisticType:n,onStatisticField:t,outStatisticFieldName:r}],groupByFieldsForStatistics:[]},x:"",y:r,fillSymbol:Ki(e.seriesIndex),dataLabels:_i({text:"",visible:!1,font:Di(Q),type:Q})}}async function Qi(e){const t=(await pi()).countSeries;return{name:t,type:L,id:t,fillSymbol:{type:S,style:y,color:Ti({colorIndex:e,opacity:wi})},query:{},x:ki,y:""}}function ea(){return{type:"pieTick",visible:!0,lineSymbol:Li({width:1,color:Si})}}async function ta(e){const t=`${n}_${e}_0`.toUpperCase(),r=(await pi()).countSeries;return{type:I,id:r,name:r,query:{outStatistics:[{statisticType:n,onStatisticField:e??"ObjectID",outStatisticFieldName:t}],groupByFieldsForStatistics:[]},x:"",y:t,fillSymbol:{type:S,style:y},dataLabels:_i({text:"",visible:!1,font:Di(Q),type:Q}),startAngle:-90,endAngle:270,dataLabelsCharacterLimit:11,displayNumericValueOnDataLabel:!1,displayPercentageOnDataLabel:!0,numericValueFormat:{...Pi(),intlOptions:{minimumFractionDigits:1,maximumFractionDigits:1}},percentValueFormat:{...Pi(),intlOptions:{minimumFractionDigits:1,maximumFractionDigits:1}},ticks:ea()}}function ra(e){const t=e.objectIDField??"ObjectID",r=`${n}_${t}_0`.toUpperCase(),i="Series0";return{type:A,id:i,name:i,query:{outStatistics:[{statisticType:n,onStatisticField:t,outStatisticFieldName:r}]},x:""}}async function ia(t=zi()){return{version:e,type:j,id:t,colorMatch:!0,rotated:!1,orderOptions:{data:{orderType:Y,orderBy:N}},title:_i({text:await Vi(),visible:!0,font:Di(Z)}),subTitle:_i(),footer:_i({text:"",visible:!0,font:Di(re)}),background:[255,255,255,255],axes:await Yi(C),series:[],legend:Mi()}}function aa(){return{type:k,mean:Bi(1),median:Bi(2),standardDeviation:Bi(3),comparisonDistribution:Bi(4)}}function na(){return{type:_,id:_,name:_,visible:!0,dataTooltipVisible:!0,dataTooltipReverseColor:!1,assignToSecondValueAxis:!1,x:"",binCount:32,overlays:aa(),dataTransformationType:"none",fillSymbol:{type:S,style:y,color:Ti({colorIndex:0,opacity:wi})},dataLabels:_i({text:"",visible:!1,font:Di(Q)})}}async function oa(e){const t=await pi();let r;switch(e){case u:r=t.statistics.mean;break;case d:r=t.statistics.median;break;case o:r=t.statistics.sum;break;case s:r=t.statistics.minimum;break;case c:r=t.statistics.maximum;break;case l:r=t.statistics.variance;break;case f:r=t.statistics.discretePercentile;break;case v:r=t.statistics.noAggregation;break;default:r=t.statistics.count}return r}const sa=[210,210,210,178.5];var ca={exports:{}},ua={},la={exports:{}},da={},fa=/javascript\s*\:/gim;da.whiteList={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1},da.getDefaultWhiteList=function(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}},da.onAttr=function(){},da.onIgnoreAttr=function(){},da.safeAttrValue=function(e,t){return fa.test(t)?"":t};var ha=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},va=da;function ma(e){return null==e}function pa(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).whiteList=e.whiteList||va.whiteList,e.onAttr=e.onAttr||va.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||va.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||va.safeAttrValue,this.options=e}pa.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,i=t.onAttr,a=t.onIgnoreAttr,n=t.safeAttrValue;return function(e,t){";"!==(e=function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}(e))[e.length-1]&&(e+=";");var r=e.length,i=!1,a=0,n=0,o="";function s(){if(!i){var r=ha(e.slice(a,n)),s=r.indexOf(":");if(-1!==s){var c=ha(r.slice(0,s)),u=ha(r.slice(s+1));if(c){var l=t(a,o.length,c,u,r);l&&(o+=l+"; ")}}}a=n+1}for(;n<r;n++){var c=e[n];if("/"===c&&"*"===e[n+1]){var u=e.indexOf("*/",n+2);if(-1===u)break;a=(n=u+1)+1,i=!1}else"("===c?i=!0:")"===c?i=!1:";"===c?i||s():"\n"===c&&s()}return ha(o)}(e,(function(e,t,o,s,c){var u=r[o],l=!1;if(!0===u?l=u:"function"==typeof u?l=u(s):u instanceof RegExp&&(l=u.test(s)),!0!==l&&(l=!1),s=n(o,s)){var d,f={position:t,sourcePosition:e,source:c,isWhite:l};return l?ma(d=i(o,s,f))?o+":"+s:d:ma(d=a(o,s,f))?void 0:d}}))};var ya=pa;!function(e,t){var r=da,i=ya;for(var a in(t=e.exports=function(e,t){return new i(t).process(e)}).FilterCSS=i,r)t[a]=r[a]}(la,la.exports);var ga=la.exports,ba={indexOf:function(e,t){var r,i;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var i,a;if(Array.prototype.forEach)return e.forEach(t,r);for(i=0,a=e.length;i<a;i++)t.call(r,e[i],i,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}},wa=ga.getDefaultWhiteList,xa=ba,Sa=new(0,ga.FilterCSS);function ja(e){return e.replace(Fa,"&lt;").replace(ka,"&gt;")}var Fa=/</g,ka=/>/g,Ea=/"/g,Oa=/&quot;/g,Ta=/&#([a-zA-Z0-9]*);?/gim,Ia=/&colon;?/gim,Aa=/&newline;?/gim,Da=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,Ca=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,_a=/u\s*r\s*l\s*\(.*/gi;function La(e){return e.replace(Ea,"&quot;")}function Pa(e){return e.replace(Oa,'"')}function $a(e){return e.replace(Ta,(function(e,t){return String.fromCharCode("x"===t[0]||"X"===t[0]?parseInt(t.substr(1),16):parseInt(t,10))}))}function Na(e){return e.replace(Ia,":").replace(Aa," ")}function Ma(e){for(var t="",r=0,i=e.length;r<i;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return xa.trim(t)}function Ba(e){return Ma(e=Na(e=$a(e=Pa(e))))}function Va(e){return ja(e=La(e))}ua.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},ua.getDefaultWhiteList=function(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}},ua.onTag=function(){},ua.onIgnoreTag=function(){},ua.onTagAttr=function(){},ua.onIgnoreTagAttr=function(){},ua.safeAttrValue=function(e,t,r,i){if(r=Ba(r),"href"===t||"src"===t){if("#"===(r=xa.trim(r)))return"#";if("http://"!==r.substr(0,7)&&"https://"!==r.substr(0,8)&&"mailto:"!==r.substr(0,7)&&"tel:"!==r.substr(0,4)&&"data:image/"!==r.substr(0,11)&&"ftp://"!==r.substr(0,6)&&"./"!==r.substr(0,2)&&"../"!==r.substr(0,3)&&"#"!==r[0]&&"/"!==r[0])return""}else if("background"===t){if(Da.lastIndex=0,Da.test(r))return""}else if("style"===t){if(Ca.lastIndex=0,Ca.test(r))return"";if(_a.lastIndex=0,_a.test(r)&&(Da.lastIndex=0,Da.test(r)))return"";!1!==i&&(r=(i=i||Sa).process(r))}return Va(r)},ua.escapeHtml=ja,ua.escapeQuote=La,ua.unescapeQuote=Pa,ua.escapeHtmlEntities=$a,ua.escapeDangerHtml5Entities=Na,ua.clearNonPrintableCharacter=Ma,ua.friendlyAttrValue=Ba,ua.escapeAttrValue=Va,ua.onIgnoreTagStripAll=function(){return""},ua.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var r=!Array.isArray(e),i=[],a=!1;return{onIgnoreTag:function(n,o,s){return function(t){return!!r||-1!==xa.indexOf(e,t)}(n)?s.isClosing?(i.push([!1!==a?a:s.position,s.position+10]),a=!1,"[/removed]"):(a||(a=s.position),"[removed]"):t(n,o,s)},remove:function(e){var t="",r=0;return xa.forEach(i,(function(i){t+=e.slice(r,i[0]),r=i[1]})),t+=e.slice(r)}}},ua.stripCommentTag=function(e){for(var t="",r=0;r<e.length;){var i=e.indexOf("\x3c!--",r);if(-1===i){t+=e.slice(r);break}t+=e.slice(r,i);var a=e.indexOf("--\x3e",i);if(-1===a)break;r=a+3}return t},ua.stripBlankChar=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return!(127===t||t<=31&&10!==t&&13!==t)}))).join("")},ua.cssFilter=Sa,ua.getDefaultCSSWhiteList=wa;var za={},qa=ba;function Ra(e){var t,r=qa.spaceIndex(e);return t=e.slice(1,-1===r?-1:r+1),"/"===(t=qa.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function Ga(e){return"</"===e.slice(0,2)}var Ua=/[^a-zA-Z0-9\\_:.-]/gim;function Xa(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"="===r?t:-1}}function Ya(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"'"===r||'"'===r?t:-1}}function Ha(e,t){for(;t>0;t--){var r=e[t];if(" "!==r)return"="===r?t:-1}}function Wa(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}za.parseTag=function(e,t,r){var i="",a=0,n=!1,o=!1,s=0,c=e.length,u="",l="";e:for(s=0;s<c;s++){var d=e.charAt(s);if(!1===n){if("<"===d){n=s;continue}}else if(!1===o){if("<"===d){i+=r(e.slice(a,s)),n=s,a=s;continue}if(">"===d){i+=r(e.slice(a,n)),u=Ra(l=e.slice(n,s+1)),i+=t(n,i.length,u,l,Ga(l)),a=s+1,n=!1;continue}if('"'===d||"'"===d)for(var f=1,h=e.charAt(s-f);""===h.trim()||"="===h;){if("="===h){o=d;continue e}h=e.charAt(s-++f)}}else if(d===o){o=!1;continue}}return a<e.length&&(i+=r(e.substr(a))),i},za.parseAttr=function(e,t){var r=0,i=0,a=[],n=!1,o=e.length;function s(e,r){if(!((e=(e=qa.trim(e)).replace(Ua,"").toLowerCase()).length<1)){var i=t(e,r||"");i&&a.push(i)}}for(var c=0;c<o;c++){var u,l=e.charAt(c);if(!1!==n||"="!==l)if(!1===n||c!==i){if(/\s|\n|\t/.test(l)){if(e=e.replace(/\s|\n|\t/g," "),!1===n){if(-1===(u=Xa(e,c))){s(qa.trim(e.slice(r,c))),n=!1,r=c+1;continue}c=u-1;continue}if(-1===(u=Ha(e,c-1))){s(n,Wa(qa.trim(e.slice(r,c)))),n=!1,r=c+1;continue}}}else{if(-1===(u=e.indexOf(l,c+1)))break;s(n,qa.trim(e.slice(i+1,u))),n=!1,r=(c=u)+1}else n=e.slice(r,c),i='"'===e.charAt(r=c+1)||"'"===e.charAt(r)?r:Ya(e,c+1)}return r<e.length&&(!1===n?s(e.slice(r)):s(n,Wa(qa.trim(e.slice(r))))),qa.trim(a.join(" "))};var Ja=ga.FilterCSS,Ka=ua,Za=za.parseTag,Qa=za.parseAttr,en=ba;function tn(e){return null==e}function rn(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Ka.onIgnoreTagStripAll),e.whiteList=e.whiteList||e.allowList?function(e){var t={};for(var r in e)Array.isArray(e[r])?t[r.toLowerCase()]=e[r].map((function(e){return e.toLowerCase()})):t[r.toLowerCase()]=e[r];return t}(e.whiteList||e.allowList):Ka.whiteList,e.onTag=e.onTag||Ka.onTag,e.onTagAttr=e.onTagAttr||Ka.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Ka.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Ka.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Ka.safeAttrValue,e.escapeHtml=e.escapeHtml||Ka.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new Ja(e.css))}rn.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,i=t.onTag,a=t.onIgnoreTag,n=t.onTagAttr,o=t.onIgnoreTagAttr,s=t.safeAttrValue,c=t.escapeHtml,u=this.cssFilter;t.stripBlankChar&&(e=Ka.stripBlankChar(e)),t.allowCommentTag||(e=Ka.stripCommentTag(e));var l=!1;t.stripIgnoreTagBody&&(l=Ka.StripTagBody(t.stripIgnoreTagBody,a),a=l.onIgnoreTag);var d=Za(e,(function(e,t,l,d,f){var h={sourcePosition:e,position:t,isClosing:f,isWhite:Object.prototype.hasOwnProperty.call(r,l)},v=i(l,d,h);if(!tn(v))return v;if(h.isWhite){if(h.isClosing)return"</"+l+">";var m=function(e){var t=en.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var r="/"===(e=en.trim(e.slice(t+1,-1)))[e.length-1];return r&&(e=en.trim(e.slice(0,-1))),{html:e,closing:r}}(d),p=r[l],y=Qa(m.html,(function(e,t){var r=-1!==en.indexOf(p,e),i=n(l,e,t,r);return tn(i)?r?(t=s(l,e,t,u))?e+'="'+t+'"':e:tn(i=o(l,e,t,r))?void 0:i:i}));return d="<"+l,y&&(d+=" "+y),m.closing&&(d+=" /"),d+">"}return tn(v=a(l,d,h))?c(d):v}),c);return l&&(d=l.remove(d)),d};var an=rn;!function(e,t){var r=ua,i=za,a=an;function n(e,t){return new a(t).process(e)}(t=e.exports=n).filterXSS=n,t.FilterXSS=a,function(){for(var e in r)t[e]=r[e];for(var a in i)t[a]=i[a]}(),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)}(ca,ca.exports);const nn="nonSpecific",on="barAndLineNoAggregation",sn="barAndLineMonoField",cn="barAndLineMultiFields",un="barAndLineFromFields",ln="barAndLineSplitBy",dn="barAndLineSplitByNoAggregation",fn="pieNoAggregation",hn="pieFromCategory",vn="pieFromFields",mn="boxPlotMonoField",pn="boxPlotMultiFields",yn="boxPlotMonoFieldAndCategory",gn="boxPlotMultiFieldsAndCategory",bn="boxPlotMonoFieldAndSplitBy",wn="boxPlotMultiFieldsAndSplitBy",xn="boxPlotMonoFieldAndCategoryAndSplitBy";function Sn(e,t){let r;if(void 0!==e&&e.length>0)if(void 0!==t&&t>=0&&t<e.length)r=e[t].type;else{const t=new Set(e.map((e=>e.type))),i=function(e){return 2===e.size&&e.has(D)&&e.has(C)}(t),a=function(e){return 2===e.size&&e.has(D)&&e.has(L)||1===e.size&&e.has(L)}(t);r=!0===i?$:a?L:t.size>=2?void 0:e[0].type}return r}function jn(e){let t=!1;if(void 0!==e){const r=Sn(e.series);r!==C&&r!==D&&r!==$&&r!==L||(t=e.rotated??!1)}return t}function Fn(e){const{value:t,keepSurroundingQuotes:r,escape:i}=e;let a=t?.trim();if(!En(a)){let e="";a.startsWith("'")&&a.endsWith("'")&&(a=a.slice(1,-1),r&&(e="'")),!1!==i&&(a=function(e){let t=e;return t=t.replace(/'/gu,"''"),t=t.replace(/[/\\"|[\]\\]/gu,"\\$&"),t}(a)),a=`${e}${a}${e}`}return a}function kn(e=[],t){const r=e.find((e=>e.name===t))?.alias;return""!==r?r??t:t}function En(e){return null==e||"string"==typeof e&&""===e.trim()}function On(e,t){let r={fieldToSort:""};if(!En(e)){const i=e.trim(),a=i.split(" "),n=a.at(-1)?.toUpperCase();n===N||n===M?r={fieldToSort:i.substring(0,i.lastIndexOf(" ")),orderBy:n}:(r={fieldToSort:i},!1!==t&&(r.orderBy=N))}return r}const Tn=["1.0.0","1.0.1","2.0.0","3.0.0","3.1.0","3.2.0","3.3.0","3.4.0","3.5.0","3.6.0","3.7.0","3.8.0","3.9.0","3.9.1","3.9.2","3.10.0","3.11.0","4.0.0","4.0.1","5.0.0","6.0.0","6.1.0","6.2.0","6.2.1","6.3.0","6.4.0","7.0.0","7.1.0","7.1.1","7.2.0","7.2.1","7.3.1","7.4.0","7.4.1","7.5.0","7.5.1","7.6.0","8.0.0","8.0.1","9.0.0","9.1.0","9.2.0","9.3.0","9.4.0","9.5.0","9.6.0","9.6.1","9.7.0","10.0.0","11.0.0","12.0.0","13.0.0","14.0.0","14.0.1","15.0.0","16.0.0","16.1.0","16.1.1","17.0.0","17.1.0","17.2.0","17.2.1","18.0.0","18.1.0"],In="1.0.0",An="unrecognized.version";function Dn(e,t){let r=0;if(e!==t){const i=e.split("."),a=t.split(".");for(let e=0;e<i.length;e+=1){const t=Number.parseInt(i[e],10),n=Number.parseInt(a[e],10);if(t>n||Number.isNaN(n)){r=1;break}if(t<n){r=-1;break}}}return r}function Cn(e){const{series:t}=e;let r=!0===("showMean"in e&&e.showMean)?t.find((e=>e.type===D)):t[0];return r??=t[0],r}function _n(e,t){let r="";return void 0!==e&&e.includes("=")&&(r=!1!==t?Fn({value:e.split("=")[0]}):e.split("=")[0].trim()),r}function Ln(e){const{where:t,normalize:r,keepSurroundingQuotes:i,escape:a}=e;let n="";return void 0!==t&&t.includes("=")&&(n=t.split("=").slice(1).join("=").trim(),"null"===n?n=null:""===n.trim()||Number.isNaN(Number(n))?!1===r?!0===a&&(n=function(e){let t=e,r="";e.startsWith("'")&&e.endsWith("'")&&(t=e.slice(1,-1),r="'"),t=t.replace(/'/gu,"''");let i="";return function(e){let t=!1;return"number"!=typeof e&&(t=[...e].some((e=>e.charCodeAt(0)>255))),t}(t)&&(i="N"),`${i}${r}${t}${r}`}(n)):n=Fn({value:n,keepSurroundingQuotes:i,escape:a}):n=Number(n)),n}function Pn(e){let t=!1;return void 0===e||""===e?t=!0:e.includes("=")&&(t=_n(e,!1)===`${Ln({where:e,normalize:!1})}`),t}function $n(e){let t=nn;if(void 0!==e?.[0])switch(Sn(e)){case I:t=function(e){let t=hn;return void 0===e[0].query?.outStatistics?t=fn:void 0===e[0].query?.groupByFieldsForStatistics&&(t=vn),t}(e);break;case P:case C:case D:case $:t=function(e){let t=sn;const r=e[0].query?.where;return void 0===e[0].query?.groupByFieldsForStatistics&&(e[0].query?.outStatistics??[]).length>0?t=un:void 0===r&&void 0===e[0].query?.outStatistics?t=on:Pn(r)?e.length>1&&(t=cn):t=void 0===e[0].query?.outStatistics?dn:ln,t}(e);break;case L:t=function(e){let t=mn;const r=1===e.length,i=e.find((e=>e.type===D))??e[0],{x:a}=i,n="y"in i?i.y:"",o=i.query?.where;return a===ki?"object"==typeof n&&n.length>1?Pn(o)?r&&(t=pn):t=wn:r?t=mn:Pn(o)||(t=bn):t=r?yn:Pn(o)?gn:xn,t}(e)}return t}var Nn="undefined"!=typeof window&&"$arcgis"in window&&"object"==typeof window.$arcgis&&"import"in window.$arcgis&&!("forceESM"in window.$arcgis);function Mn(e){return void 0!==e.default}async function Bn(){if(Nn)return await window.$arcgis.import("esri/geometry/support/jsonUtils");const e=await import("@arcgis/core/geometry/support/jsonUtils.js");return Mn(e)?e.default:e}function Vn(e){return void 0!==e&&"type"in e&&"subtype-sublayer"===e.type}function zn(e){return Vn(e)?e.parent:e}function qn(e){let t;return t=function(e){return void 0!==e&&"layer"in e}(e)?e.layer:e,t}function Rn(e){const t=zn(e)?.sourceJSON;let r=t?.maxRecordCount??bi;return t?.advancedQueryCapabilities?.supportsMaxRecordCountFactor&&void 0!==t?.maxRecordCount&&(r=t.maxRecordCount*yi),r}function Gn(e,t){let r;const i=Array.from(new Set(e)).filter((e=>null!=e&&""!==e&&!Pn(e)));return i.sort(((e,t)=>t.length-e.length)),1===i.length?[r]=i:i?.forEach((e=>{void 0!==e&&(En(r)?r=`(${e})`:r?.includes(`(${e})`)||(r=`${r} ${t??"AND"} (${e})`))})),r??"1=1"}const Un=new Map,Xn="queryFeaturesError";class Yn extends Error{constructor(e,t,r){super(t),this.name=e,this.details=r}}async function Hn(e){const{queryObject:t,queryConfig:r,returnUniqueIdsOnly:i,abortKey:a}=e;let n=[];const o=qn(t);if(void 0!==t){const s=function(e){return!0===zn(e)?.sourceJSON?.advancedQueryCapabilities?.supportsMaxRecordCountFactor?yi:void 0}(o),c=await async function(e){const{queryObject:t,queryConfig:r,maxRecordCountFactor:i}=e,{where:a,groupByFieldsForStatistics:n,orderByFields:o,outStatistics:s,gdbVersion:c,geometry:u,distance:l,units:d,timeExtent:f,start:v,num:m,returnDistinctValues:p,outFields:y}=r??{},g=await async function(){return new(await async function(){if(Nn)return await window.$arcgis.import("esri/rest/support/Query");const e=await import("@arcgis/core/rest/support/Query.js");return Mn(e)?e.default:e}())({})}();g.returnGeometry=!1;const b=qn(t),w=zn(b);if(g.where=Gn([a,w.definitionExpression]),g.outFields=function(e){return void 0===e?["*"]:Array.from(new Set(e))}(y),g.groupByFieldsForStatistics=n??g.groupByFieldsForStatistics,g.orderByFields=o??[],g.returnDistinctValues=p??!1,void 0!==s){const e=function(e){let t=!1;const r=zn(e).sourceJSON?.advancedQueryCapabilities?.supportedSpatialAggregationStatistics??[],i=e.capabilities?.query.supportedSpatialAggregationStatistics??{};return t=r.includes("EnvelopeAggregate")||"envelope"in i&&null!=i.envelope,t}(b),t=await async function(){if(Nn)return await window.$arcgis.import("esri/rest/support/StatisticDefinition");const e=await import("@arcgis/core/rest/support/StatisticDefinition.js");return Mn(e)?e.default:e}();g.outStatistics=s.filter((t=>t.statisticType!==h||e)).map((e=>t.fromJSON(e)))}void 0!==i&&(g.maxRecordCountFactor=i),void 0!==c&&""!==c?g.gdbVersion=c:void 0!==w.gdbVersion&&""!==w.gdbVersion&&(g.gdbVersion=w.gdbVersion);const x=await async function(e){let t;return void 0!==e&&(t=(await Bn()).fromJSON(e)),t}(u);void 0!==x&&(g.geometry=x,function(e){return e.capabilities?.query?.supportsDistance||!0===zn(e).sourceJSON?.advancedQueryCapabilities?.supportsQueryWithDistance}(b)&&(void 0!==l&&(g.distance=l),void 0!==d&&(g.units=d)));const S=await async function(e){let t;return void 0!==e&&(t=await async function(e){return new(await async function(){if(Nn)return await window.$arcgis.import("esri/time/TimeExtent");const e=await import("@arcgis/core/time/TimeExtent.js");return Mn(e)?e.default:e}())(e)}({start:new Date(e[0]),end:new Date(e[1])})),t}(f);return void 0!==S?g.timeExtent=S:void 0!==w.timeExtent&&(g.timeExtent=w.timeExtent),void 0!==m&&(g.num=m),void 0!==v&&(g.start=v,g.num=g.num??Rn(b)),function(e){const t=!e.geometry,r=(e.where??"").toUpperCase(),i=!r.includes("CURRENT_TIMESTAMP")&&!r.includes("CURRENT_DATE")&&!r.includes("CURRENT_TIME");return t&&i}(g)&&(g.cacheHint=!0),g}({queryObject:t,queryConfig:r,maxRecordCountFactor:s});try{!0===i?"queryObjectIds"in t?n=await t.queryObjectIds(c):(c.outFields=[o.objectIdField],n=(await t.queryFeatures(c,{signal:void 0!==a?Un.get(a)?.signal:void 0})).features.map((e=>e.attributes[o.objectIdField]))):n=(await t.queryFeatures(c,{signal:void 0!==a?Un.get(a)?.signal:void 0})).features}catch(e){if(!(await async function(){if(Nn)return await window.$arcgis.import("esri/core/promiseUtils");const e=await import("@arcgis/core/core/promiseUtils.js");return Mn(e)?e.default:e}()).isAbortError(e)){const t=await async function(e=mi().locale){let t=await import("./p-1da9c49e.js");switch(e){case ie.Arabic:t=await import("./p-34c4930e.js");break;case ie.Bosnian:t=await import("./p-da19744a.js");break;case ie.Bulgarian:t=await import("./p-d35efe7a.js");break;case ie.Catalan:t=await import("./p-cc38fb29.js");break;case ie.Czech:t=await import("./p-5f01225e.js");break;case ie.Danish:t=await import("./p-3ef3e9f6.js");break;case ie.German:t=await import("./p-891697a7.js");break;case ie.Greek:t=await import("./p-cd2cc128.js");break;case ie.EnglishUSA:t=await import("./p-4ba0a743.js");break;case ie.Spanish:t=await import("./p-ec10e7de.js");break;case ie.Estonian:t=await import("./p-9695df4a.js");break;case ie.Finnish:t=await import("./p-43e3d40f.js");break;case ie.French:t=await import("./p-b999f072.js");break;case ie.Hebrew:t=await import("./p-f6f20fbd.js");break;case ie.Croatian:t=await import("./p-2bb4d364.js");break;case ie.Hungarian:t=await import("./p-409312d4.js");break;case ie.Indonesian:t=await import("./p-9bcdd90e.js");break;case ie.Italian:t=await import("./p-7839dcd7.js");break;case ie.Japanese:t=await import("./p-d7462c6f.js");break;case ie.Korean:t=await import("./p-6af94525.js");break;case ie.Lithuanian:t=await import("./p-394a15c8.js");break;case ie.Latvian:t=await import("./p-0900a350.js");break;case ie.NorwegianBokml:t=await import("./p-b43d8e8d.js");break;case ie.Dutch:t=await import("./p-b85ab9d9.js");break;case ie.Polish:t=await import("./p-a29a64fb.js");break;case ie.PortugueseBrazil:t=await import("./p-740c63a4.js");break;case ie.PortuguesePortugal:t=await import("./p-84b5c904.js");break;case ie.Romanian:t=await import("./p-f38db14f.js");break;case ie.Russian:t=await import("./p-5ac16f60.js");break;case ie.Serbian:t=await import("./p-08d848f6.js");break;case ie.Slovak:t=await import("./p-20701643.js");break;case ie.Slovenian:t=await import("./p-398d931b.js");break;case ie.Swedish:t=await import("./p-ef0272bb.js");break;case ie.Thai:t=await import("./p-907bd203.js");break;case ie.Turkish:t=await import("./p-757d2380.js");break;case ie.Ukrainian:t=await import("./p-87db81f6.js");break;case ie.Vietnamese:t=await import("./p-e8a1499c.js");break;case ie.ChineseChina:t=await import("./p-e3968f24.js");break;case ie.ChineseHongKong:t=await import("./p-4abc551e.js");break;case ie.ChineseTaiwan:t=await import("./p-7829d94e.js")}return t}();throw new Yn(Xn,t.queryError,e)}}}return n}async function Wn(e){const t=[],{featureCount:r,maxRecords:i,queryConfig:a}=e;let n=[],o=0,s=a?.start??0;for(;o<gi&&s<r;){const n={...e};n.queryConfig={...a,start:s,num:Math.min(i,r-s)},t.push(Hn(n)),s+=i,o+=1}return n=(await Promise.all(t)).flat(),n}async function Jn(e){const{queryObject:t,queryConfig:r,category:i,splitByField:a,chartLimits:o,abortKey:s}=e,c=void 0!==a,u=i!==ki?[i]:[];c&&u.push(a);const l=qn(t),d={...r,groupByFieldsForStatistics:Array.from(new Set(u)),outStatistics:[{statisticType:n,onStatisticField:l.objectIdField,outStatisticFieldName:`${n}_OBJECTID`}],orderByFields:void 0,num:o?.maxBarThreePlusSeriesCountTotal},f=await async function(e){const{queryObject:t,queryConfig:r,returnUniqueIdsOnly:i,featureCount:a,noBatch:n,abortKey:o}=e;let s=[];const c=qn(t);if(void 0!==t){const e=a??1,u=Rn(c);if(!0!==n&&e>u&&c.capabilities?.query.supportsPagination){let a=0,n=0;const c=Math.ceil(e/u),l=Math.ceil(c/gi),d=[];for(;n<l;){a=n*gi*u;const s=Wn({queryConfig:{...r,start:a},queryObject:t,maxRecords:u,featureCount:e,returnUniqueIdsOnly:i,abortKey:o});d.push(s),n+=1}s=(await Promise.all(d)).flat()}else(Number.isNaN(e)||e>=0)&&(s=await Hn({queryObject:t,queryConfig:r,returnUniqueIdsOnly:i,abortKey:o}))}return s}({queryObject:t,featureCount:1,queryConfig:d,abortKey:s});return Array.from(new Set(f.map((e=>e.attributes[c?a:i])))).sort(((e,t)=>"string"==typeof e&&"string"==typeof t?e.localeCompare(t):Number(e)-Number(t)))}function Kn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zn,Qn,eo,to,ro,io,ao,no,oo,so={exports:{}};function co(){return eo||(eo=1,Qn=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var i,a,n;if(Array.isArray(t)){if((i=t.length)!=r.length)return!1;for(a=i;0!=a--;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((i=(n=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(a=i;0!=a--;)if(!Object.prototype.hasOwnProperty.call(r,n[a]))return!1;for(a=i;0!=a--;){var o=n[a];if(!e(t[o],r[o]))return!1}return!0}return t!=t&&r!=r}),Qn}function uo(){if(ao)return io;function e(e,t,r,i){var a=i?" !== ":" === ",n=i?" || ":" && ",o=i?"!":"",s=i?"":"!";switch(e){case"null":return t+a+"null";case"array":return o+"Array.isArray("+t+")";case"object":return"("+o+t+n+"typeof "+t+a+'"object"'+n+s+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+a+'"number"'+n+s+"("+t+" % 1)"+n+t+a+t+(r?n+o+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+a+'"'+e+'"'+(r?n+o+"isFinite("+t+")":"")+")";default:return"typeof "+t+a+'"'+e+'"'}}ao=1,io={copy:function(e,t){for(var r in t=t||{},e)t[r]=e[r];return t},checkDataType:e,checkDataTypes:function(t,i,a){if(1===t.length)return e(t[0],i,a,!0);var n="",o=r(t);for(var s in o.array&&o.object&&(n=o.null?"(":"(!"+i+" || ",n+="typeof "+i+' !== "object")',delete o.null,delete o.array,delete o.object),o.number&&delete o.integer,o)n+=(n?" && ":"")+e(s,i,a,!0);return n},coerceToTypes:function(e,r){if(Array.isArray(r)){for(var i=[],a=0;a<r.length;a++){var n=r[a];(t[n]||"array"===e&&"array"===n)&&(i[i.length]=n)}if(i.length)return i}else{if(t[r])return[r];if("array"===e&&"array"===r)return["array"]}},toHash:r,getProperty:n,escapeQuotes:o,equal:co(),ucs2length:ro?to:(ro=1,to=function(e){for(var t,r=0,i=e.length,a=0;a<i;)r++,(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<i&&56320==(64512&(t=e.charCodeAt(a)))&&a++;return r}),varOccurences:function(e,t){var r=e.match(new RegExp(t+="[^0-9]","g"));return r?r.length:0},varReplace:function(e,t,r){return t+="([^0-9])",r=r.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),r+"$1")},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var r in e)if(t[r])return!0},schemaHasRulesExcept:function(e,t,r){if("boolean"==typeof e)return!e&&"not"!=r;for(var i in e)if(i!=r&&t[i])return!0},schemaUnknownRules:function(e,t){if("boolean"!=typeof e)for(var r in e)if(!t[r])return r},toQuotedString:s,getPathExpr:function(e,t,r,i){return l(e,r?"'/' + "+t+(i?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):i?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,r){return l(e,s(r?"/"+d(t):n(t)))},getData:function(e,t,r){var i,a,o,s;if(""===e)return"rootData";if("/"==e[0]){if(!c.test(e))throw new Error("Invalid JSON-pointer: "+e);a=e,o="rootData"}else{if(!(s=e.match(u)))throw new Error("Invalid JSON-pointer: "+e);if(i=+s[1],"#"==(a=s[2])){if(i>=t)throw new Error("Cannot access property/index "+i+" levels up, current level is "+t);return r[t-i]}if(i>t)throw new Error("Cannot access data "+i+" levels up, current level is "+t);if(o="data"+(t-i||""),!a)return o}for(var l=o,d=a.split("/"),h=0;h<d.length;h++){var v=d[h];v&&(l+=" && "+(o+=n(f(v))))}return l},unescapeFragment:function(e){return f(decodeURIComponent(e))},unescapeJsonPointer:f,escapeFragment:function(e){return encodeURIComponent(d(e))},escapeJsonPointer:d};var t=r(["string","number","integer","boolean","null"]);function r(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}var i=/^[a-z$_][a-z$_0-9]*$/i,a=/'|\\/g;function n(e){return"number"==typeof e?"["+e+"]":i.test(e)?"."+e:"['"+o(e)+"']"}function o(e){return e.replace(a,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function s(e){return"'"+o(e)+"'"}var c=/^\/(?:[^~]|~0|~1)*$/,u=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function l(e,t){return'""'==e?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function d(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function f(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}return io}function lo(){if(oo)return no;oo=1;var e=uo();return no=function(t){e.copy(t,this)}}var fo,ho,vo,mo,po,yo,go,bo,wo,xo,So,jo={exports:{}};function Fo(){if(vo)return ho;vo=1;var e=(Zn||(Zn=1,function(e){function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var i=t.length-1,a=1;a<i;++a)t[a]=t[a].slice(1,-1);return t[i]=t[i].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function i(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function a(e){return e.toUpperCase()}function n(e){var i="[A-Za-z]",a="[0-9]",n=t(a,"[A-Fa-f]"),o=r(r("%[EFef]"+n+"%"+n+n+"%"+n+n)+"|"+r("%[89A-Fa-f]"+n+"%"+n+n)+"|"+r("%"+n+n)),s="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",c=t("[\\:\\/\\?\\#\\[\\]\\@]",s),u=e?"[\\uE000-\\uF8FF]":"[]",l=t(i,a,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");r(i+t(i,a,"[\\+\\-\\.]")+"*"),r(r(o+"|"+t(l,s,"[\\:]"))+"*");var d=r(r("25[0-5]")+"|"+r("2[0-4]"+a)+"|"+r("1"+a+a)+"|"+r("0?[1-9]"+a)+"|0?0?"+a),f=r(d+"\\."+d+"\\."+d+"\\."+d),h=r(n+"{1,4}"),v=r(r(h+"\\:"+h)+"|"+f),m=r(r(h+"\\:")+"{6}"+v),p=r("\\:\\:"+r(h+"\\:")+"{5}"+v),y=r(r(h)+"?\\:\\:"+r(h+"\\:")+"{4}"+v),g=r(r(r(h+"\\:")+"{0,1}"+h)+"?\\:\\:"+r(h+"\\:")+"{3}"+v),b=r(r(r(h+"\\:")+"{0,2}"+h)+"?\\:\\:"+r(h+"\\:")+"{2}"+v),w=r(r(r(h+"\\:")+"{0,3}"+h)+"?\\:\\:"+h+"\\:"+v),x=r(r(r(h+"\\:")+"{0,4}"+h)+"?\\:\\:"+v),S=r(r(r(h+"\\:")+"{0,5}"+h)+"?\\:\\:"+h),j=r(r(r(h+"\\:")+"{0,6}"+h)+"?\\:\\:"),F=r([m,p,y,g,b,w,x,S,j].join("|")),k=r(r(l+"|"+o)+"+");r("[vV]"+n+"+\\."+t(l,s,"[\\:]")+"+"),r(r(o+"|"+t(l,s))+"*");var E=r(o+"|"+t(l,s,"[\\:\\@]"));return r(r(o+"|"+t(l,s,"[\\@]"))+"+"),r(r(E+"|"+t("[\\/\\?]",u))+"*"),{NOT_SCHEME:new RegExp(t("[^]",i,a,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",l,s),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",l,s),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",l,s),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",l,s),"g"),NOT_QUERY:new RegExp(t("[^\\%]",l,s,"[\\:\\@\\/\\?]",u),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",l,s,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",l,s),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",l,c),"g"),PCT_ENCODED:new RegExp(o,"g"),IPV4ADDRESS:new RegExp("^("+f+")$"),IPV6ADDRESS:new RegExp("^\\[?("+F+")"+r(r("\\%25|\\%(?!"+n+"{2})")+"("+k+")")+"?\\]?$")}}var o=n(!1),s=n(!0),c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],i=!0,a=!1,n=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);i=!0);}catch(e){a=!0,n=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw n}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=2147483647,l=36,d=/^xn--/,f=/[^\0-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,v={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,p=String.fromCharCode;function y(e){throw new RangeError(v[e])}function g(e,t){var r=e.split("@"),i="";return r.length>1&&(i=r[0]+"@",e=r[1]),i+function(e,t){for(var r=[],i=e.length;i--;)r[i]=t(e[i]);return r}((e=e.replace(h,".")).split("."),t).join(".")}var b=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:l},w=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},x=function(e,t,r){var i=0;for(e=r?m(e/700):e>>1,e+=m(e/t);e>455;i+=l)e=m(e/35);return m(i+36*e/(e+38))},S=function(e){return g(e,(function(e){return f.test(e)?"xn--"+function(e){var t=[],r=(e=function(e){for(var t=[],r=0,i=e.length;r<i;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<i){var n=e.charCodeAt(r++);56320==(64512&n)?t.push(((1023&a)<<10)+(1023&n)+65536):(t.push(a),r--)}else t.push(a)}return t}(e)).length,i=128,a=0,n=72,o=!0,s=!1,c=void 0;try{for(var d,f=e[Symbol.iterator]();!(o=(d=f.next()).done);o=!0){var h=d.value;h<128&&t.push(p(h))}}catch(e){s=!0,c=e}finally{try{!o&&f.return&&f.return()}finally{if(s)throw c}}var v=t.length,g=v;for(v&&t.push("-");g<r;){var b=u,S=!0,j=!1,F=void 0;try{for(var k,E=e[Symbol.iterator]();!(S=(k=E.next()).done);S=!0){var O=k.value;O>=i&&O<b&&(b=O)}}catch(e){j=!0,F=e}finally{try{!S&&E.return&&E.return()}finally{if(j)throw F}}var T=g+1;b-i>m((u-a)/T)&&y("overflow"),a+=(b-i)*T,i=b;var I=!0,A=!1,D=void 0;try{for(var C,_=e[Symbol.iterator]();!(I=(C=_.next()).done);I=!0){var L=C.value;if(L<i&&++a>u&&y("overflow"),L==i){for(var P=a,$=l;;$+=l){var N=$<=n?1:$>=n+26?26:$-n;if(P<N)break;var M=P-N,B=l-N;t.push(p(w(N+M%B,0))),P=m(M/B)}t.push(p(w(P,0))),n=x(a,T,g==v),a=0,++g}}}catch(e){A=!0,D=e}finally{try{!I&&_.return&&_.return()}finally{if(A)throw D}}++a,++i}return t.join("")}(e):e}))},j=function(e){return g(e,(function(e){return d.test(e)?function(e){var t=[],r=e.length,i=0,a=128,n=72,o=e.lastIndexOf("-");o<0&&(o=0);for(var s=0;s<o;++s)e.charCodeAt(s)>=128&&y("not-basic"),t.push(e.charCodeAt(s));for(var c=o>0?o+1:0;c<r;){for(var d=i,f=1,h=l;;h+=l){c>=r&&y("invalid-input");var v=b(e.charCodeAt(c++));(v>=l||v>m((u-i)/f))&&y("overflow"),i+=v*f;var p=h<=n?1:h>=n+26?26:h-n;if(v<p)break;var g=l-p;f>m(u/g)&&y("overflow"),f*=g}var w=t.length+1;n=x(i-d,w,0==d),m(i/w)>u-a&&y("overflow"),a+=m(i/w),i%=w,t.splice(i++,0,a)}return String.fromCodePoint.apply(String,t)}(e.slice(4).toLowerCase()):e}))},F={};function k(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function E(e){for(var t="",r=0,i=e.length;r<i;){var a=parseInt(e.substr(r+1,2),16);if(a<128)t+=String.fromCharCode(a),r+=3;else if(a>=194&&a<224){if(i-r>=6){var n=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&a)<<6|63&n)}else t+=e.substr(r,6);r+=6}else if(a>=224){if(i-r>=9){var o=parseInt(e.substr(r+4,2),16),s=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&a)<<12|(63&o)<<6|63&s)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function O(e,t){function r(e){var r=E(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,k).replace(t.PCT_ENCODED,a)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,k).replace(t.PCT_ENCODED,a)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,k).replace(t.PCT_ENCODED,a)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,k).replace(t.PCT_ENCODED,a)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,k).replace(t.PCT_ENCODED,a)),e}function T(e){return e.replace(/^0*(.*)/,"$1")||"0"}function I(e,t){var r=e.match(t.IPV4ADDRESS)||[],i=c(r,2)[1];return i?i.split(".").map(T).join("."):e}function A(e,t){var r=e.match(t.IPV6ADDRESS)||[],i=c(r,3),a=i[1],n=i[2];if(a){for(var o=a.toLowerCase().split("::").reverse(),s=c(o,2),u=s[0],l=s[1],d=l?l.split(":").map(T):[],f=u.split(":").map(T),h=t.IPV4ADDRESS.test(f[f.length-1]),v=h?7:8,m=f.length-v,p=Array(v),y=0;y<v;++y)p[y]=d[y]||f[m+y]||"";h&&(p[v-1]=I(p[v-1],t));var g=p.reduce((function(e,t,r){if(!t||"0"===t){var i=e[e.length-1];i&&i.index+i.length===r?i.length++:e.push({index:r,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(g&&g.length>1){var w=p.slice(0,g.index),x=p.slice(g.index+g.length);b=w.join(":")+"::"+x.join(":")}else b=p.join(":");return n&&(b+="%"+n),b}return e}var D=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,C=void 0==="".match(/(){0}/)[1];function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},i=!1!==t.iri?s:o;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var a=e.match(D);if(a){C?(r.scheme=a[1],r.userinfo=a[3],r.host=a[4],r.port=parseInt(a[5],10),r.path=a[6]||"",r.query=a[7],r.fragment=a[8],isNaN(r.port)&&(r.port=a[5])):(r.scheme=a[1]||void 0,r.userinfo=-1!==e.indexOf("@")?a[3]:void 0,r.host=-1!==e.indexOf("//")?a[4]:void 0,r.port=parseInt(a[5],10),r.path=a[6]||"",r.query=-1!==e.indexOf("?")?a[7]:void 0,r.fragment=-1!==e.indexOf("#")?a[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?a[4]:void 0)),r.host&&(r.host=A(I(r.host,i),i)),r.reference=void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?"relative":void 0===r.fragment?"absolute":"uri":"same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var n=F[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||n&&n.unicodeSupport)O(r,i);else{if(r.host&&(t.domainHost||n&&n.domainHost))try{r.host=S(r.host.replace(i.PCT_ENCODED,E).toLowerCase())}catch(e){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+e}O(r,o)}n&&n.parse&&n.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}var L=/^\.\.?\//,P=/^\/\.(\/|$)/,$=/^\/\.\.(\/|$)/,N=/^\/?(?:.|\n)*?(?=\/|$)/;function M(e){for(var t=[];e.length;)if(e.match(L))e=e.replace(L,"");else if(e.match(P))e=e.replace(P,"/");else if(e.match($))e=e.replace($,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(N);if(!r)throw new Error("Unexpected dot segment condition");var i=r[0];e=e.slice(i.length),t.push(i)}return t.join("")}function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?s:o,i=[],a=F[(t.scheme||e.scheme||"").toLowerCase()];if(a&&a.serialize&&a.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||a&&a.domainHost)try{e.host=t.iri?j(e.host):S(e.host.replace(r.PCT_ENCODED,E).toLowerCase())}catch(r){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}O(e,r),"suffix"!==t.reference&&e.scheme&&(i.push(e.scheme),i.push(":"));var n=function(e,t){var r=!1!==t.iri?s:o,i=[];return void 0!==e.userinfo&&(i.push(e.userinfo),i.push("@")),void 0!==e.host&&i.push(A(I(String(e.host),r),r).replace(r.IPV6ADDRESS,(function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(i.push(":"),i.push(String(e.port))),i.length?i.join(""):void 0}(e,t);if(void 0!==n&&("suffix"!==t.reference&&i.push("//"),i.push(n),e.path&&"/"!==e.path.charAt(0)&&i.push("/")),void 0!==e.path){var c=e.path;t.absolutePath||a&&a.absolutePath||(c=M(c)),void 0===n&&(c=c.replace(/^\/\//,"/%2F")),i.push(c)}return void 0!==e.query&&(i.push("?"),i.push(e.query)),void 0!==e.fragment&&(i.push("#"),i.push(e.fragment)),i.join("")}function V(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={};return arguments[3]||(e=_(B(e,r),r),t=_(B(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=M(t.path||""),i.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=M(t.path||""),i.query=t.query):(t.path?("/"===t.path.charAt(0)?i.path=M(t.path):(i.path=void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:t.path:"/"+t.path,i.path=M(i.path)),i.query=t.query):(i.path=e.path,i.query=void 0!==t.query?t.query:e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function z(e,t){return e&&e.toString().replace(t&&t.iri?s.PCT_ENCODED:o.PCT_ENCODED,E)}var q={scheme:"http",domainHost:!0,parse:function(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e){var t="https"===String(e.scheme).toLowerCase();return e.port!==(t?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},R={scheme:"https",domainHost:q.domainHost,parse:q.parse,serialize:q.serialize};function G(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var U={scheme:"ws",domainHost:!0,parse:function(e){var t=e;return t.secure=G(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t},serialize:function(e){if(e.port!==(G(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var t=e.resourceName.split("?"),r=c(t,2),i=r[0],a=r[1];e.path=i&&"/"!==i?i:void 0,e.query=a,e.resourceName=void 0}return e.fragment=void 0,e}},X={scheme:"wss",domainHost:U.domainHost,parse:U.parse,serialize:U.serialize},Y={},H="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",W="[0-9A-Fa-f]",J=r(r("%[EFef]"+W+"%"+W+W+"%"+W+W)+"|"+r("%[89A-Fa-f]"+W+"%"+W+W)+"|"+r("%"+W+W)),K=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Z=new RegExp(H,"g"),Q=new RegExp(J,"g"),ee=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',K),"g"),te=new RegExp(t("[^]",H,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),re=te;function ie(e){var t=E(e);return t.match(Z)?t:e}var ae={scheme:"mailto",parse:function(e,t){var r=e,i=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var a=!1,n={},o=r.query.split("&"),s=0,c=o.length;s<c;++s){var u=o[s].split("=");switch(u[0]){case"to":for(var l=u[1].split(","),d=0,f=l.length;d<f;++d)i.push(l[d]);break;case"subject":r.subject=z(u[1],t);break;case"body":r.body=z(u[1],t);break;default:a=!0,n[z(u[0],t)]=z(u[1],t)}}a&&(r.headers=n)}r.query=void 0;for(var h=0,v=i.length;h<v;++h){var m=i[h].split("@");if(m[0]=z(m[0]),t.unicodeSupport)m[1]=z(m[1],t).toLowerCase();else try{m[1]=S(z(m[1],t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}i[h]=m.join("@")}return r},serialize:function(e,t){var r=e,i=function(e){return null!=e?e instanceof Array?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}(e.to);if(i){for(var n=0,o=i.length;n<o;++n){var s=String(i[n]),c=s.lastIndexOf("@"),u=s.slice(0,c).replace(Q,ie).replace(Q,a).replace(ee,k),l=s.slice(c+1);try{l=t.iri?j(l):S(z(l,t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}i[n]=u+"@"+l}r.path=i.join(",")}var d=e.headers=e.headers||{};e.subject&&(d.subject=e.subject),e.body&&(d.body=e.body);var f=[];for(var h in d)d[h]!==Y[h]&&f.push(h.replace(Q,ie).replace(Q,a).replace(te,k)+"="+d[h].replace(Q,ie).replace(Q,a).replace(re,k));return f.length&&(r.query=f.join("&")),r}},ne=/^([^\:]+)\:(.*)/,oe={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(ne),i=e;if(r){var a=t.scheme||i.scheme||"urn",n=r[1].toLowerCase(),o=r[2],s=F[a+":"+(t.nid||n)];i.nid=n,i.nss=o,i.path=void 0,s&&(i=s.parse(i,t))}else i.error=i.error||"URN can not be parsed.";return i},serialize:function(e,t){var r=e.nid,i=F[(t.scheme||e.scheme||"urn")+":"+(t.nid||r)];i&&(e=i.serialize(e,t));var a=e;return a.path=(r||t.nid)+":"+e.nss,a}},se=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ce={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(se)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e){var t=e;return t.nss=(e.uuid||"").toLowerCase(),t}};F[q.scheme]=q,F[R.scheme]=R,F[U.scheme]=U,F[X.scheme]=X,F[ae.scheme]=ae,F[oe.scheme]=oe,F[ce.scheme]=ce,e.SCHEMES=F,e.pctEncChar=k,e.pctDecChars=E,e.parse=_,e.removeDotSegments=M,e.serialize=B,e.resolveComponents=V,e.resolve=function(e,t,r){var i=function(e,t){var r={scheme:"null"};if(t)for(var i in t)r[i]=t[i];return r}(0,r);return B(V(_(e,i),_(t,i),i,!0),i)},e.normalize=function(e,t){return"string"==typeof e?e=B(_(e,t),t):"object"===i(e)&&(e=_(B(e,t),t)),e},e.equal=function(e,t,r){return"string"==typeof e?e=B(_(e,r),r):"object"===i(e)&&(e=B(e,r)),"string"==typeof t?t=B(_(t,r),r):"object"===i(t)&&(t=B(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?s.ESCAPE:o.ESCAPE,k)},e.unescapeComponent=z,Object.defineProperty(e,"__esModule",{value:!0})}(so.exports)),so.exports),t=co(),r=uo(),i=lo(),a=function(){if(fo)return jo.exports;fo=1;var e=jo.exports=function(e,r,i){"function"==typeof r&&(i=r,r={}),t(r,"function"==typeof(i=r.cb||i)?i:i.pre||function(){},i.post||function(){},e,"",e)};function t(r,i,a,n,o,s,c,u,l,d){if(n&&"object"==typeof n&&!Array.isArray(n)){for(var f in i(n,o,s,c,u,l,d),n){var h=n[f];if(Array.isArray(h)){if(f in e.arrayKeywords)for(var v=0;v<h.length;v++)t(r,i,a,h[v],o+"/"+f+"/"+v,s,o,f,n,v)}else if(f in e.propsKeywords){if(h&&"object"==typeof h)for(var m in h)t(r,i,a,h[m],o+"/"+f+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),s,o,f,n,m)}else(f in e.keywords||r.allKeys&&!(f in e.skipKeywords))&&t(r,i,a,h,o+"/"+f,s,o,f,n)}a(n,o,s,c,u,l,d)}}return e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0},jo.exports}();function n(e,t,r){var a=this._refs[r];if("string"==typeof a){if(!this._refs[a])return n.call(this,e,t,a);a=this._refs[a]}if((a=a||this._schemas[r])instanceof i)return d(a.schema,this._opts.inlineRefs)?a.schema:a.validate||this._compile(a);var s,c,u,l=o.call(this,t,r);return l&&(s=l.schema,t=l.root,u=l.baseId),s instanceof i?c=s.validate||e.call(this,s.schema,t,void 0,u):void 0!==s&&(c=d(s,this._opts.inlineRefs)?s:e.call(this,s,t,void 0,u)),c}function o(t,r){var a=e.parse(r),n=m(a),o=v(this._getId(t.schema));if(0===Object.keys(t.schema).length||n!==o){var c=y(n),l=this._refs[c];if("string"==typeof l)return s.call(this,t,l,a);if(l instanceof i)l.validate||this._compile(l),t=l;else{if(!((l=this._schemas[c])instanceof i))return;if(l.validate||this._compile(l),c==y(r))return{schema:l,root:t,baseId:o};t=l}if(!t.schema)return;o=v(this._getId(t.schema))}return u.call(this,a,o,t.schema,t)}function s(e,t,r){var i=o.call(this,e,t);if(i){var a=i.schema,n=i.baseId;e=i.root;var s=this._getId(a);return s&&(n=g(n,s)),u.call(this,r,n,a,e)}}ho=n,n.normalizeId=y,n.fullPath=v,n.url=g,n.ids=function(i){var n=y(this._getId(i)),o={"":n},s={"":v(n,!1)},c={},u=this;return a(i,{allKeys:!0},(function(i,a,n,l,d,f,h){if(""!==a){var v=u._getId(i),m=o[l],p=s[l]+"/"+d;if(void 0!==h&&(p+="/"+("number"==typeof h?h:r.escapeFragment(h))),"string"==typeof v){v=m=y(m?e.resolve(m,v):v);var g=u._refs[v];if("string"==typeof g&&(g=u._refs[g]),g&&g.schema){if(!t(i,g.schema))throw new Error('id "'+v+'" resolves to more than one schema')}else if(v!=y(p))if("#"==v[0]){if(c[v]&&!t(i,c[v]))throw new Error('id "'+v+'" resolves to more than one schema');c[v]=i}else u._refs[v]=p}o[a]=m,s[a]=p}})),c},n.inlineRef=d,n.schema=o;var c=r.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function u(e,t,i,a){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var n=e.fragment.split("/"),s=1;s<n.length;s++){var u=n[s];if(u){if(void 0===(i=i[u=r.unescapeFragment(u)]))break;var l;if(!c[u]&&((l=this._getId(i))&&(t=g(t,l)),i.$ref)){var d=g(t,i.$ref),f=o.call(this,a,d);f&&(i=f.schema,a=f.root,t=f.baseId)}}}return void 0!==i&&i!==a.schema?{schema:i,root:a,baseId:t}:void 0}}var l=r.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function d(e,t){return!1!==t&&(void 0===t||!0===t?f(e):t?h(e)<=t:void 0)}function f(e){var t;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if("object"==typeof(t=e[r])&&!f(t))return!1}else for(var i in e){if("$ref"==i)return!1;if("object"==typeof(t=e[i])&&!f(t))return!1}return!0}function h(e){var t,r=0;if(Array.isArray(e)){for(var i=0;i<e.length;i++)if("object"==typeof(t=e[i])&&(r+=h(t)),r==1/0)return 1/0}else for(var a in e){if("$ref"==a)return 1/0;if(l[a])r++;else if("object"==typeof(t=e[a])&&(r+=h(t)+1),r==1/0)return 1/0}return r}function v(t,r){return!1!==r&&(t=y(t)),m(e.parse(t))}function m(t){return e.serialize(t).split("#")[0]+"#"}var p=/#\/?$/;function y(e){return e?e.replace(p,""):""}function g(t,r){return r=y(r),e.resolve(t,r)}return ho}function ko(){if(po)return mo;po=1;var e=Fo();function t(r,i,a){this.message=a||t.message(r,i),this.missingRef=e.url(r,i),this.missingSchema=e.normalizeId(e.fullPath(this.missingRef))}function r(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}return mo={Validation:r((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:r(t)},t.message=function(e,t){return"can't resolve reference "+t+" from id "+e},mo}function Eo(){return go||(go=1,yo=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r,i="boolean"==typeof t.cycles&&t.cycles,a=t.cmp&&(r=t.cmp,function(e){return function(t,i){return r({key:t,value:e[t]},{key:i,value:e[i]})}}),n=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var r,o;if(Array.isArray(t)){for(o="[",r=0;r<t.length;r++)r&&(o+=","),o+=e(t[r])||"null";return o+"]"}if(null===t)return"null";if(-1!==n.indexOf(t)){if(i)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=n.push(t)-1,c=Object.keys(t).sort(a&&a(t));for(o="",r=0;r<c.length;r++){var u=c[r],l=e(t[u]);l&&(o&&(o+=","),o+=JSON.stringify(u)+":"+l)}return n.splice(s,1),"{"+o+"}"}}(e)}),yo}function Oo(){return wo||(wo=1,bo=function(e,t){var r="",i=!0===e.schema.$async,a=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),n=e.self._getId(e.schema);if(e.opts.strictKeywords){var o=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(o){var s="unknown keyword: "+o;if("log"!==e.opts.strictKeywords)throw new Error(s);e.logger.warn(s)}}if(e.isTop&&(r+=" var validate = ",i&&(e.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",n&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" /*# sourceURL="+n+" */ ")),"boolean"==typeof e.schema||!a&&!e.schema.$ref){var c=e.level,u=e.dataLevel,l=e.schema[t="false schema"],d=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(u||""),m="valid"+c;if(!1===e.schema){e.isTop?h=!0:r+=" var "+m+" = false; ",(R=R||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var p=r;r=R.pop(),r+=!e.compositeRule&&h?e.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else r+=e.isTop?i?" return data; ":" validate.errors = null; return true; ":" var "+m+" = true; ";return e.isTop&&(r+=" }; return validate; "),r}if(e.isTop){var y=e.isTop;if(c=e.level=0,u=e.dataLevel=0,v="data",e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var g="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(g);e.logger.warn(g)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{if(c=e.level,v="data"+((u=e.dataLevel)||""),n&&(e.baseId=e.resolve.url(e.baseId,n)),i&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+c+" = errors;"}m="valid"+c,h=!e.opts.allErrors;var b="",w="",x=e.schema.type,S=Array.isArray(x);if(x&&e.opts.nullable&&!0===e.schema.nullable&&(S?-1==x.indexOf("null")&&(x=x.concat("null")):"null"!=x&&(x=[x,"null"],S=!0)),S&&1==x.length&&(x=x[0],S=!1),e.schema.$ref&&a){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(a=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(r+=" "+e.RULES.all.$comment.code(e,"$comment")),x){if(e.opts.coerceTypes)var j=e.util.coerceToTypes(e.opts.coerceTypes,x);var F=e.RULES.types[x];if(j||S||!0===F||F&&!W(F)){if(d=e.schemaPath+".type",f=e.errSchemaPath+"/type",d=e.schemaPath+".type",f=e.errSchemaPath+"/type",r+=" if ("+e.util[S?"checkDataTypes":"checkDataType"](x,v,e.opts.strictNumbers,!0)+") { ",j){var k="dataType"+c,E="coerced"+c;r+=" var "+k+" = typeof "+v+"; var "+E+" = undefined; ","array"==e.opts.coerceTypes&&(r+=" if ("+k+" == 'object' && Array.isArray("+v+") && "+v+".length == 1) { "+v+" = "+v+"[0]; "+k+" = typeof "+v+"; if ("+e.util.checkDataType(e.schema.type,v,e.opts.strictNumbers)+") "+E+" = "+v+"; } "),r+=" if ("+E+" !== undefined) ; ";var O=j;if(O)for(var T,I=-1,A=O.length-1;I<A;)"string"==(T=O[I+=1])?r+=" else if ("+k+" == 'number' || "+k+" == 'boolean') "+E+" = '' + "+v+"; else if ("+v+" === null) "+E+" = ''; ":"number"==T||"integer"==T?(r+=" else if ("+k+" == 'boolean' || "+v+" === null || ("+k+" == 'string' && "+v+" && "+v+" == +"+v+" ","integer"==T&&(r+=" && !("+v+" % 1)"),r+=")) "+E+" = +"+v+"; "):"boolean"==T?r+=" else if ("+v+" === 'false' || "+v+" === 0 || "+v+" === null) "+E+" = false; else if ("+v+" === 'true' || "+v+" === 1) "+E+" = true; ":"null"==T?r+=" else if ("+v+" === '' || "+v+" === 0 || "+v+" === false) "+E+" = null; ":"array"==e.opts.coerceTypes&&"array"==T&&(r+=" else if ("+k+" == 'string' || "+k+" == 'number' || "+k+" == 'boolean' || "+v+" == null) "+E+" = ["+v+"]; ");(R=R||[]).push(r+=" else {   "),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { type: '",r+=S?""+x.join(","):""+x,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=S?""+x.join(","):""+x,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",p=r,r=R.pop(),r+=!e.compositeRule&&h?e.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } if ("+E+" !== undefined) {  ";var D=u?"data"+(u-1||""):"parentData";r+=" "+v+" = "+E+"; ",u||(r+="if ("+D+" !== undefined)"),r+=" "+D+"["+(u?e.dataPathArr[u]:"parentDataProperty")+"] = "+E+"; } "}else(R=R||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { type: '",r+=S?""+x.join(","):""+x,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=S?""+x.join(","):""+x,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",p=r,r=R.pop(),r+=!e.compositeRule&&h?e.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";r+=" } "}}if(e.schema.$ref&&!a)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",h&&(r+=" } if (errors === ",r+=y?"0":"errs_"+c,r+=") { ",w+="}");else{var C=e.RULES;if(C)for(var _=-1,L=C.length-1;_<L;)if(W(F=C[_+=1])){if(F.type&&(r+=" if ("+e.util.checkDataType(F.type,v,e.opts.strictNumbers)+") { "),e.opts.useDefaults)if("object"==F.type&&e.schema.properties){l=e.schema.properties;var P=Object.keys(l);if(P)for(var $,N=-1,M=P.length-1;N<M;)if(void 0!==(z=l[$=P[N+=1]]).default){var B=v+e.util.getProperty($);if(e.compositeRule){if(e.opts.strictDefaults){if(g="default is ignored for: "+B,"log"!==e.opts.strictDefaults)throw new Error(g);e.logger.warn(g)}}else r+=" if ("+B+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+B+" === null || "+B+" === '' "),r+=" ) "+B+" = ",r+="shared"==e.opts.useDefaults?" "+e.useDefault(z.default)+" ":" "+JSON.stringify(z.default)+" ",r+="; "}}else if("array"==F.type&&Array.isArray(e.schema.items)){var V=e.schema.items;if(V){I=-1;for(var z,q=V.length-1;I<q;)if(void 0!==(z=V[I+=1]).default)if(B=v+"["+I+"]",e.compositeRule){if(e.opts.strictDefaults){if(g="default is ignored for: "+B,"log"!==e.opts.strictDefaults)throw new Error(g);e.logger.warn(g)}}else r+=" if ("+B+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+B+" === null || "+B+" === '' "),r+=" ) "+B+" = ",r+="shared"==e.opts.useDefaults?" "+e.useDefault(z.default)+" ":" "+JSON.stringify(z.default)+" ",r+="; "}}var R,G=F.rules;if(G)for(var U,X=-1,Y=G.length-1;X<Y;)if(J(U=G[X+=1])){var H=U.code(e,U.keyword,F.type);H&&(r+=" "+H+" ",h&&(b+="}"))}h&&(r+=" "+b+" ",b=""),F.type&&(r+=" } ",x&&x===F.type&&!j)&&(d=e.schemaPath+".type",f=e.errSchemaPath+"/type",(R=R||[]).push(r+=" else { "),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { type: '",r+=S?""+x.join(","):""+x,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=S?""+x.join(","):""+x,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",p=r,r=R.pop(),r+=!e.compositeRule&&h?e.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "),h&&(r+=" if (errors === ",r+=y?"0":"errs_"+c,r+=") { ",w+="}")}}function W(e){for(var t=e.rules,r=0;r<t.length;r++)if(J(t[r]))return!0}function J(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var r=t.implements,i=0;i<r.length;i++)if(void 0!==e.schema[r[i]])return!0}(t)}return h&&(r+=" "+w+" "),y?(i?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+m+" = errors === errs_"+c+";",r}),bo}var To,Io,Ao,Do,Co,_o,Lo,Po,$o,No,Mo,Bo,Vo,zo,qo,Ro,Go,Uo,Xo,Yo,Ho,Wo,Jo,Ko,Zo,Qo,es,ts,rs,is,as,ns,os,ss,cs,us,ls,ds,fs,hs,vs,ms,ps,ys,gs,bs,ws,xs,Ss,js,Fs,ks,Es,Os,Ts,Is,As,Ds,Cs,_s={exports:{}};function Ls(){return es||(es=1,Qo=function(e,t){var r,i=" ",a=e.level,n=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(n||""),d=e.opts.$data&&o&&o.$data;d?(i+=" var schema"+a+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",r="schema"+a):r=o;var f="maximum"==t,h=f?"exclusiveMaximum":"exclusiveMinimum",v=e.schema[h],m=e.opts.$data&&v&&v.$data,p=f?"<":">",y=f?">":"<",g=void 0;if(!d&&"number"!=typeof o&&void 0!==o)throw new Error(t+" must be number");if(!m&&void 0!==v&&"number"!=typeof v&&"boolean"!=typeof v)throw new Error(h+" must be number or boolean");if(m){var b,w=e.util.getData(v.$data,n,e.dataPathArr),x="exclusive"+a,S="exclType"+a,j="exclIsNumber"+a,F="' + "+(E="op"+a)+" + '";i+=" var schemaExcl"+a+" = "+w+"; ",i+=" var "+x+"; var "+S+" = typeof "+(w="schemaExcl"+a)+"; if ("+S+" != 'boolean' && "+S+" != 'undefined' && "+S+" != 'number') { ",g=h,(b=b||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(g||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: '"+h+" should be boolean' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var k=i;i=b.pop(),i+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+k+"]); ":" validate.errors = ["+k+"]; return false; ":" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+S+" == 'number' ? ( ("+x+" = "+r+" === undefined || "+w+" "+p+"= "+r+") ? "+l+" "+y+"= "+w+" : "+l+" "+y+" "+r+" ) : ( ("+x+" = "+w+" === true) ? "+l+" "+y+"= "+r+" : "+l+" "+y+" "+r+" ) || "+l+" !== "+l+") { var op"+a+" = "+x+" ? '"+p+"' : '"+p+"='; ",void 0===o&&(g=h,c=e.errSchemaPath+"/"+h,r=w,d=m)}else if(F=p,(j="number"==typeof v)&&d){var E="'"+F+"'";i+=" if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" ( "+r+" === undefined || "+v+" "+p+"= "+r+" ? "+l+" "+y+"= "+v+" : "+l+" "+y+" "+r+" ) || "+l+" !== "+l+") { "}else j&&void 0===o?(x=!0,g=h,c=e.errSchemaPath+"/"+h,r=v,y+="="):(j&&(r=Math[f?"min":"max"](v,o)),v===(!j||r)?(x=!0,g=h,c=e.errSchemaPath+"/"+h,y+="="):(x=!1,F+="=")),E="'"+F+"'",i+=" if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+l+" "+y+" "+r+" || "+l+" !== "+l+") { ";return g=g||t,(b=b||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(g||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { comparison: "+E+", limit: "+r+", exclusive: "+x+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be "+F+" ",i+=d?"' + "+r:r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+s:""+o,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ",k=i,i=b.pop(),i+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+k+"]); ":" validate.errors = ["+k+"]; return false; ":" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",u&&(i+=" else { "),i}),Qo}function Ps(){return rs||(rs=1,ts=function(e,t){var r,i=" ",a=e.level,n=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(n||""),d=e.opts.$data&&o&&o.$data;if(d?(i+=" var schema"+a+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",r="schema"+a):r=o,!d&&"number"!=typeof o)throw new Error(t+" must be number");i+="if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || ");var f=t,h=h||[];h.push(i+=" "+l+".length "+("maxItems"==t?">":"<")+" "+r+") { "),i="",!1!==e.createErrors?(i+=" { keyword: '"+(f||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==t?"more":"fewer",i+=" than ",i+=d?"' + "+r+" + '":""+o,i+=" items' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+s:""+o,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var v=i;return i=h.pop(),i+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i}),ts}function $s(){return as||(as=1,is=function(e,t){var r,i=" ",a=e.level,n=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(n||""),d=e.opts.$data&&o&&o.$data;if(d?(i+=" var schema"+a+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",r="schema"+a):r=o,!d&&"number"!=typeof o)throw new Error(t+" must be number");i+="if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=!1===e.opts.unicode?" "+l+".length ":" ucs2length("+l+") ";var f=t,h=h||[];h.push(i+=" "+("maxLength"==t?">":"<")+" "+r+") { "),i="",!1!==e.createErrors?(i+=" { keyword: '"+(f||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==t?"longer":"shorter",i+=" than ",i+=d?"' + "+r+" + '":""+o,i+=" characters' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+s:""+o,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var v=i;return i=h.pop(),i+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i}),is}function Ns(){return os||(os=1,ns=function(e,t){var r,i=" ",a=e.level,n=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(n||""),d=e.opts.$data&&o&&o.$data;if(d?(i+=" var schema"+a+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",r="schema"+a):r=o,!d&&"number"!=typeof o)throw new Error(t+" must be number");i+="if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || ");var f=t,h=h||[];h.push(i+=" Object.keys("+l+").length "+("maxProperties"==t?">":"<")+" "+r+") { "),i="",!1!==e.createErrors?(i+=" { keyword: '"+(f||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==t?"more":"fewer",i+=" than ",i+=d?"' + "+r+" + '":""+o,i+=" properties' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+s:""+o,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var v=i;return i=h.pop(),i+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i}),ns}var Ms,Bs,Vs,zs,qs,Rs,Gs,Us={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},Xs={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1},Ys=function(){if(Rs)return qs;Rs=1;var e=function(){if(So)return xo;So=1;var e=Fo(),t=uo(),r=ko(),i=Eo(),a=Oo(),n=t.ucs2length,o=co(),s=r.Validation;function c(e,t,r){var i=l.call(this,e,t,r);return i>=0?{index:i,compiling:!0}:(this._compilations[i=this._compilations.length]={schema:e,root:t,baseId:r},{index:i,compiling:!1})}function u(e,t,r){var i=l.call(this,e,t,r);i>=0&&this._compilations.splice(i,1)}function l(e,t,r){for(var i=0;i<this._compilations.length;i++){var a=this._compilations[i];if(a.schema==e&&a.root==t&&a.baseId==r)return i}return-1}function d(e,r){return"var pattern"+e+" = new RegExp("+t.toQuotedString(r[e])+");"}function f(e){return"var default"+e+" = defaults["+e+"];"}function h(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function v(e){return"var customRule"+e+" = customRules["+e+"];"}function m(e,t){if(!e.length)return"";for(var r="",i=0;i<e.length;i++)r+=t(i,e);return r}return xo=function l(p,y,g,b){var w=this,x=this._opts,S=[void 0],j={},F=[],k={},E=[],O={},T=[],I=c.call(this,p,y=y||{schema:p,refVal:S,refs:j},b),A=this._compilations[I.index];if(I.compiling)return A.callValidate=function e(){var t=A.validate,r=t.apply(this,arguments);return e.errors=t.errors,r};var D=this._formats,C=this.RULES;try{var _=P(p,y,g,b);A.validate=_;var L=A.callValidate;return L&&(L.schema=_.schema,L.errors=null,L.refs=_.refs,L.refVal=_.refVal,L.root=_.root,L.$async=_.$async,x.sourceCode&&(L.source=_.source)),_}finally{u.call(this,p,y,b)}function P(i,c,u,p){var g=!c||c&&c.schema==i;if(c.schema!=y.schema)return l.call(w,i,c,u,p);var b,k=!0===i.$async,O=a({isTop:!0,schema:i,isRoot:g,baseId:p,root:c,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:r.MissingRef,RULES:C,validate:a,util:t,resolve:e,resolveRef:$,usePattern:B,useDefault:V,useCustomRule:z,opts:x,formats:D,logger:w.logger,self:w});O=m(S,h)+m(F,d)+m(E,f)+m(T,v)+O,x.processCode&&(O=x.processCode(O,i));try{b=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",O)(w,C,D,y,S,E,T,o,n,s),S[0]=b}catch(e){throw w.logger.error("Error compiling schema, function code:",O),e}return b.schema=i,b.errors=null,b.refs=j,b.refVal=S,b.root=g?b:c,k&&(b.$async=!0),!0===x.sourceCode&&(b.source={code:O,patterns:F,defaults:E}),b}function $(t,r,i){r=e.url(t,r);var a,n,o=j[r];if(void 0!==o)return M(a=S[o],n="refVal["+o+"]");if(!i&&y.refs){var s=y.refs[r];if(void 0!==s)return M(a=y.refVal[s],n=N(r,a))}n=N(r);var c=e.call(w,P,y,r);if(void 0===c){var u=g&&g[r];u&&(c=e.inlineRef(u,x.inlineRefs)?u:l.call(w,u,y,g,t))}if(void 0!==c)return function(e,t){S[j[e]]=t}(r,c),M(c,n);!function(e){delete j[e]}(r)}function N(e,t){var r=S.length;return S[r]=t,j[e]=r,"refVal"+r}function M(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function B(e){var t=k[e];return void 0===t&&(t=k[e]=F.length,F[t]=e),"pattern"+t}function V(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return t.toQuotedString(e);case"object":if(null===e)return"null";var r=i(e),a=O[r];return void 0===a&&(a=O[r]=E.length,E[a]=e),"default"+a}}function z(e,t,r,i){if(!1!==w._opts.validateSchema){var a=e.definition.dependencies;if(a&&!a.every((function(e){return Object.prototype.hasOwnProperty.call(r,e)})))throw new Error("parent schema must have all required keywords: "+a.join(","));var n=e.definition.validateSchema;if(n&&!n(t)){var o="keyword schema is invalid: "+w.errorsText(n.errors);if("log"!=w._opts.validateSchema)throw new Error(o);w.logger.error(o)}}var s,c=e.definition.compile,u=e.definition.inline,l=e.definition.macro;if(c)s=c.call(w,t,r,i);else if(l)s=l.call(w,t,r,i),!1!==x.validateSchema&&w.validateSchema(s,!0);else if(u)s=u.call(w,i,e.keyword,t,r);else if(!(s=e.definition.validate))return;if(void 0===s)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var d=T.length;return T[d]=s,{code:"customRule"+d,validate:s}}},xo}(),t=Fo(),r=function(){if(To)return _s.exports;To=1;var e=_s.exports=function(){this._cache={}};return e.prototype.put=function(e,t){this._cache[e]=t},e.prototype.get=function(e){return this._cache[e]},e.prototype.del=function(e){delete this._cache[e]},e.prototype.clear=function(){this._cache={}},_s.exports}(),i=lo(),a=Eo(),n=function(){if(Ao)return Io;Ao=1;var e=uo(),t=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,r=[0,31,28,31,30,31,30,31,31,30,31,30,31],i=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,a=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,n=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,o=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,s=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,c=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,u=/^(?:\/(?:[^~/]|~0|~1)*)*$/,l=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,d=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function f(t){return e.copy(f[t="full"==t?"full":"fast"])}function h(e){var i=e.match(t);if(!i)return!1;var a=+i[2],n=+i[3];return a>=1&&a<=12&&n>=1&&n<=(2==a&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(+i[1])?29:r[a])}function v(e,t){var r=e.match(i);if(!r)return!1;var a=r[1],n=r[2],o=r[3];return(a<=23&&n<=59&&o<=59||23==a&&59==n&&60==o)&&(!t||r[5])}Io=f,f.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":o,url:s,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:a,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:g,uuid:c,"json-pointer":u,"json-pointer-uri-fragment":l,"relative-json-pointer":d},f.full={date:h,time:v,"date-time":function(e){var t=e.split(m);return 2==t.length&&h(t[0])&&v(t[1],!0)},uri:function(e){return p.test(e)&&n.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":o,url:s,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:a,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:g,uuid:c,"json-pointer":u,"json-pointer-uri-fragment":l,"relative-json-pointer":d};var m=/t|\s/i,p=/\/|:/,y=/[^\\]\\Z/;function g(e){if(y.test(e))return!1;try{return!0}catch(e){return!1}}return Io}(),o=function(){if(Es)return ks;Es=1;var e=(Fs||(Fs=1,js={$ref:(Co||(Co=1,Do=function(e,t){var r,i,a=" ",n=e.dataLevel,o=e.schema[t],s=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(n||""),l="valid"+e.level;if("#"==o||"#/"==o)e.isRoot?(r=e.async,i="validate"):(r=!0===e.root.schema.$async,i="root.refVal[0]");else{var d=e.resolveRef(e.baseId,o,e.isRoot);if(void 0===d){var f=e.MissingRefError.message(e.baseId,o);if("fail"==e.opts.missingRefs){e.logger.error(f),(p=p||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { ref: '"+e.util.escapeQuotes(o)+"' } ",!1!==e.opts.messages&&(a+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(o)+"' "),e.opts.verbose&&(a+=" , schema: "+e.util.toQuotedString(o)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var h=a;a=p.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+h+"]); ":" validate.errors = ["+h+"]; return false; ":" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(a+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,o,f);e.logger.warn(f),c&&(a+=" if (true) { ")}}else if(d.inline){var v=e.util.copy(e);v.level++;var m="valid"+v.level;v.schema=d.schema,v.schemaPath="",v.errSchemaPath=o,a+=" "+e.validate(v).replace(/validate\.schema/g,d.code)+" ",c&&(a+=" if ("+m+") { ")}else r=!0===d.$async||e.async&&!1!==d.$async,i=d.code}if(i){var p;(p=p||[]).push(a),a="",a+=e.opts.passContext?" "+i+".call(this, ":" "+i+"( ",a+=" "+u+", (dataPath || '')",'""'!=e.errorPath&&(a+=" + "+e.errorPath);var y=a+=" , "+(n?"data"+(n-1||""):"parentData")+" , "+(n?e.dataPathArr[n]:"parentDataProperty")+", rootData)  ";if(a=p.pop(),r){if(!e.async)throw new Error("async schema referenced by sync schema");c&&(a+=" var "+l+"; "),a+=" try { await "+y+"; ",c&&(a+=" "+l+" = true; "),a+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",c&&(a+=" "+l+" = false; "),a+=" } ",c&&(a+=" if ("+l+") { ")}else a+=" if (!"+y+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",c&&(a+=" else { ")}return a}),Do),allOf:(Lo||(Lo=1,_o=function(e,t){var r=" ",i=e.schema[t],a=e.schemaPath+e.util.getProperty(t),n=e.errSchemaPath+"/"+t,o=!e.opts.allErrors,s=e.util.copy(e),c="";s.level++;var u="valid"+s.level,l=s.baseId,d=!0,f=i;if(f)for(var h,v=-1,m=f.length-1;v<m;)h=f[v+=1],(e.opts.strictKeywords?"object"==typeof h&&Object.keys(h).length>0||!1===h:e.util.schemaHasRules(h,e.RULES.all))&&(d=!1,s.schema=h,s.schemaPath=a+"["+v+"]",s.errSchemaPath=n+"/"+v,r+="  "+e.validate(s)+" ",s.baseId=l,o&&(r+=" if ("+u+") { ",c+="}"));return o&&(r+=d?" if (true) { ":" "+c.slice(0,-1)+" "),r}),_o),anyOf:($o||($o=1,Po=function(e,t){var r=" ",i=e.level,a=e.dataLevel,n=e.schema[t],o=e.schemaPath+e.util.getProperty(t),s=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(a||""),l="valid"+i,d="errs__"+i,f=e.util.copy(e),h="";f.level++;var v="valid"+f.level,m=n.every((function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0||!1===t:e.util.schemaHasRules(t,e.RULES.all)}));if(m){var p=f.baseId;r+=" var "+d+" = errors; var "+l+" = false;  ";var y=e.compositeRule;e.compositeRule=f.compositeRule=!0;var g=n;if(g)for(var b,w=-1,x=g.length-1;w<x;)b=g[w+=1],f.schema=b,f.schemaPath=o+"["+w+"]",f.errSchemaPath=s+"/"+w,r+="  "+e.validate(f)+" ",f.baseId=p,r+=" "+l+" = "+l+" || "+v+"; if (!"+l+") { ",h+="}";e.compositeRule=f.compositeRule=y,r+=" "+h+" if (!"+l+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(r+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else c&&(r+=" if (true) { ");return r}),Po),$comment:(Mo||(Mo=1,No=function(e,t){var r=" ",i=e.errSchemaPath+"/"+t,a=e.util.toQuotedString(e.schema[t]);return!0===e.opts.$comment?r+=" console.log("+a+");":"function"==typeof e.opts.$comment&&(r+=" self._opts.$comment("+a+", "+e.util.toQuotedString(i)+", validate.root.schema);"),r}),No),const:(Vo||(Vo=1,Bo=function(e,t){var r=" ",i=e.level,a=e.dataLevel,n=e.schema[t],o=e.schemaPath+e.util.getProperty(t),s=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(a||""),l="valid"+i,d=e.opts.$data&&n&&n.$data;d&&(r+=" var schema"+i+" = "+e.util.getData(n.$data,a,e.dataPathArr)+"; "),d||(r+=" var schema"+i+" = validate.schema"+o+";");var f=f||[];f.push(r+="var "+l+" = equal("+u+", schema"+i+"); if (!"+l+") {   "),r="",!1!==e.createErrors?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { allowedValue: schema"+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var h=r;return r=f.pop(),r+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+h+"]); ":" validate.errors = ["+h+"]; return false; ":" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",c&&(r+=" else { "),r}),Bo),contains:(qo||(qo=1,zo=function(e,t){var r=" ",i=e.level,a=e.dataLevel,n=e.schema[t],o=e.schemaPath+e.util.getProperty(t),s=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(a||""),l="valid"+i,d="errs__"+i,f=e.util.copy(e);f.level++;var h="valid"+f.level,v="i"+i,m=f.dataLevel=e.dataLevel+1,p="data"+m,y=e.baseId,g=e.opts.strictKeywords?"object"==typeof n&&Object.keys(n).length>0||!1===n:e.util.schemaHasRules(n,e.RULES.all);if(r+="var "+d+" = errors;var "+l+";",g){var b=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.schema=n,f.schemaPath=o,f.errSchemaPath=s,r+=" var "+h+" = false; for (var "+v+" = 0; "+v+" < "+u+".length; "+v+"++) { ",f.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);var w=u+"["+v+"]";f.dataPathArr[m]=v;var x=e.validate(f);f.baseId=y,e.util.varOccurences(x,p)<2?r+=" "+e.util.varReplace(x,p,w)+" ":r+=" var "+p+" = "+w+"; "+x+" ",r+=" if ("+h+") break; }  ",e.compositeRule=f.compositeRule=b,r+="  if (!"+h+") {"}else r+=" if ("+u+".length == 0) {";var S=S||[];S.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var j=r;return r=S.pop(),r+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+j+"]); ":" validate.errors = ["+j+"]; return false; ":" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",g&&(r+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r}),zo),dependencies:(Go||(Go=1,Ro=function(e,t){var r=" ",i=e.level,a=e.dataLevel,n=e.schema[t],o=e.schemaPath+e.util.getProperty(t),s=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(a||""),l="errs__"+i,d=e.util.copy(e),f="";d.level++;var h="valid"+d.level,v={},m={},p=e.opts.ownProperties;for(w in n)if("__proto__"!=w){var y=n[w],g=Array.isArray(y)?m:v;g[w]=y}r+="var "+l+" = errors;";var b=e.errorPath;for(var w in r+="var missing"+i+";",m)if((g=m[w]).length){if(r+=" if ( "+u+e.util.getProperty(w)+" !== undefined ",p&&(r+=" && Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(w)+"') "),c){r+=" && ( ";var x=g;if(x)for(var S=-1,j=x.length-1;S<j;)I=x[S+=1],S&&(r+=" || "),r+=" ( ( "+(_=u+(C=e.util.getProperty(I)))+" === undefined ",p&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(I)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?I:C)+") ) ";r+=")) {  ";var F="missing"+i,k="' + "+F+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(b,F,!0):b+" + "+F);var E=E||[];E.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+k+"', depsCount: "+g.length+", deps: '"+e.util.escapeQuotes(1==g.length?g[0]:g.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",r+=1==g.length?"property "+e.util.escapeQuotes(g[0]):"properties "+e.util.escapeQuotes(g.join(", ")),r+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var O=r;r=E.pop(),r+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+O+"]); ":" validate.errors = ["+O+"]; return false; ":" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var T=g;if(T)for(var I,A=-1,D=T.length-1;A<D;){I=T[A+=1];var C=e.util.getProperty(I),_=(k=e.util.escapeQuotes(I),u+C);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(b,I,e.opts.jsonPointers)),r+=" if ( "+_+" === undefined ",p&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(I)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+k+"', depsCount: "+g.length+", deps: '"+e.util.escapeQuotes(1==g.length?g[0]:g.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",r+=1==g.length?"property "+e.util.escapeQuotes(g[0]):"properties "+e.util.escapeQuotes(g.join(", ")),r+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",c&&(f+="}",r+=" else { ")}e.errorPath=b;var L=d.baseId;for(var w in v)y=v[w],(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0||!1===y:e.util.schemaHasRules(y,e.RULES.all))&&(r+=" "+h+" = true; if ( "+u+e.util.getProperty(w)+" !== undefined ",p&&(r+=" && Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(w)+"') "),r+=") { ",d.schema=y,d.schemaPath=o+e.util.getProperty(w),d.errSchemaPath=s+"/"+e.util.escapeFragment(w),r+="  "+e.validate(d)+" ",d.baseId=L,r+=" }  ",c&&(r+=" if ("+h+") { ",f+="}"));return c&&(r+="   "+f+" if ("+l+" == errors) {"),r}),Ro),enum:(Xo||(Xo=1,Uo=function(e,t){var r=" ",i=e.level,a=e.dataLevel,n=e.schema[t],o=e.schemaPath+e.util.getProperty(t),s=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(a||""),l="valid"+i,d=e.opts.$data&&n&&n.$data;d&&(r+=" var schema"+i+" = "+e.util.getData(n.$data,a,e.dataPathArr)+"; ");var f="i"+i,h="schema"+i;d||(r+=" var "+h+" = validate.schema"+o+";"),r+="var "+l+";",d&&(r+=" if (schema"+i+" === undefined) "+l+" = true; else if (!Array.isArray(schema"+i+")) "+l+" = false; else {"),r+=l+" = false;for (var "+f+"=0; "+f+"<"+h+".length; "+f+"++) if (equal("+u+", "+h+"["+f+"])) { "+l+" = true; break; }",d&&(r+="  }  ");var v=v||[];v.push(r+=" if (!"+l+") {   "),r="",!1!==e.createErrors?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { allowedValues: schema"+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var m=r;return r=v.pop(),r+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",c&&(r+=" else { "),r}),Uo),format:(Ho||(Ho=1,Yo=function(e,t,r){var i=" ",a=e.level,n=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(n||"");if(!1===e.opts.format)return u&&(i+=" if (true) { "),i;var d,f=e.opts.$data&&o&&o.$data;f?(i+=" var schema"+a+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",d="schema"+a):d=o;var h=e.opts.unknownFormats,v=Array.isArray(h);if(f)i+=" var "+(m="format"+a)+" = formats["+d+"]; var "+(p="isObject"+a)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(y="formatType"+a)+" = "+p+" && "+m+".type || 'string'; if ("+p+") { ",e.async&&(i+=" var async"+a+" = "+m+".async; "),i+=" "+m+" = "+m+".validate; } if (  ",f&&(i+=" ("+d+" !== undefined && typeof "+d+" != 'string') || "),i+=" (","ignore"!=h&&(i+=" ("+d+" && !"+m+" ",v&&(i+=" && self._opts.unknownFormats.indexOf("+d+") == -1 "),i+=") || "),i+=" ("+m+" && "+y+" == '"+r+"' && !(typeof "+m+" == 'function' ? ",i+=e.async?" (async"+a+" ? await "+m+"("+l+") : "+m+"("+l+")) ":" "+m+"("+l+") ",i+=" : "+m+".test("+l+"))))) {";else{var m;if(!(m=e.formats[o])){if("ignore"==h)return e.logger.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),u&&(i+=" if (true) { "),i;if(v&&h.indexOf(o)>=0)return u&&(i+=" if (true) { "),i;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var p,y=(p="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(p){var g=!0===m.async;m=m.validate}if(y!=r)return u&&(i+=" if (true) { "),i;if(g){if(!e.async)throw new Error("async format in sync schema");i+=" if (!(await "+(b="formats"+e.util.getProperty(o)+".validate")+"("+l+"))) { "}else{i+=" if (! ";var b="formats"+e.util.getProperty(o);p&&(b+=".validate"),i+="function"==typeof m?" "+b+"("+l+") ":" "+b+".test("+l+") ",i+=") { "}}var w=w||[];w.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { format:  ",i+=f?""+d:""+e.util.toQuotedString(o),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match format \"",i+=f?"' + "+d+" + '":""+e.util.escapeQuotes(o),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+s:""+e.util.toQuotedString(o),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var x=i;return i=w.pop(),i+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+x+"]); ":" validate.errors = ["+x+"]; return false; ":" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",u&&(i+=" else { "),i}),Yo),if:(Jo||(Jo=1,Wo=function(e,t){var r=" ",i=e.level,a=e.dataLevel,n=e.schema[t],o=e.schemaPath+e.util.getProperty(t),s=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(a||""),l="valid"+i,d="errs__"+i,f=e.util.copy(e);f.level++;var h="valid"+f.level,v=e.schema.then,m=e.schema.else,p=void 0!==v&&(e.opts.strictKeywords?"object"==typeof v&&Object.keys(v).length>0||!1===v:e.util.schemaHasRules(v,e.RULES.all)),y=void 0!==m&&(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0||!1===m:e.util.schemaHasRules(m,e.RULES.all)),g=f.baseId;if(p||y){var b;f.createErrors=!1,f.schema=n,f.schemaPath=o,f.errSchemaPath=s,r+=" var "+d+" = errors; var "+l+" = true;  ";var w=e.compositeRule;e.compositeRule=f.compositeRule=!0,r+="  "+e.validate(f)+" ",f.baseId=g,f.createErrors=!0,r+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }  ",e.compositeRule=f.compositeRule=w,p?(r+=" if ("+h+") {  ",f.schema=e.schema.then,f.schemaPath=e.schemaPath+".then",f.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(f)+" ",f.baseId=g,r+=" "+l+" = "+h+"; ",p&&y?r+=" var "+(b="ifClause"+i)+" = 'then'; ":b="'then'",r+=" } ",y&&(r+=" else { ")):r+=" if (!"+h+") { ",y&&(f.schema=e.schema.else,f.schemaPath=e.schemaPath+".else",f.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(f)+" ",f.baseId=g,r+=" "+l+" = "+h+"; ",p&&y?r+=" var "+(b="ifClause"+i)+" = 'else'; ":b="'else'",r+=" } "),r+=" if (!"+l+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { failingKeyword: "+b+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match \"' + "+b+" + '\" schema' "),e.opts.verbose&&(r+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(r+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),r+=" }   ",c&&(r+=" else { ")}else c&&(r+=" if (true) { ");return r}),Wo),items:(Zo||(Zo=1,Ko=function(e,t){var r=" ",i=e.level,a=e.dataLevel,n=e.schema[t],o=e.schemaPath+e.util.getProperty(t),s=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(a||""),l="valid"+i,d="errs__"+i,f=e.util.copy(e),h="";f.level++;var v="valid"+f.level,m="i"+i,p=f.dataLevel=e.dataLevel+1,y="data"+p,g=e.baseId;if(r+="var "+d+" = errors;var "+l+";",Array.isArray(n)){var b=e.schema.additionalItems;if(!1===b){r+=" "+l+" = "+u+".length <= "+n.length+"; ";var w=s;s=e.errSchemaPath+"/additionalItems";var x=x||[];x.push(r+="  if (!"+l+") {   "),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { limit: "+n.length+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have more than "+n.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var S=r;r=x.pop(),r+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+S+"]); ":" validate.errors = ["+S+"]; return false; ":" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",s=w,c&&(h+="}",r+=" else { ")}var j=n;if(j)for(var F,k=-1,E=j.length-1;k<E;)if(F=j[k+=1],e.opts.strictKeywords?"object"==typeof F&&Object.keys(F).length>0||!1===F:e.util.schemaHasRules(F,e.RULES.all)){r+=" "+v+" = true; if ("+u+".length > "+k+") { ";var O=u+"["+k+"]";f.schema=F,f.schemaPath=o+"["+k+"]",f.errSchemaPath=s+"/"+k,f.errorPath=e.util.getPathExpr(e.errorPath,k,e.opts.jsonPointers,!0),f.dataPathArr[p]=k;var T=e.validate(f);f.baseId=g,e.util.varOccurences(T,y)<2?r+=" "+e.util.varReplace(T,y,O)+" ":r+=" var "+y+" = "+O+"; "+T+" ",r+=" }  ",c&&(r+=" if ("+v+") { ",h+="}")}"object"==typeof b&&(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0||!1===b:e.util.schemaHasRules(b,e.RULES.all))&&(f.schema=b,f.schemaPath=e.schemaPath+".additionalItems",f.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+v+" = true; if ("+u+".length > "+n.length+") {  for (var "+m+" = "+n.length+"; "+m+" < "+u+".length; "+m+"++) { ",f.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0),O=u+"["+m+"]",f.dataPathArr[p]=m,T=e.validate(f),f.baseId=g,e.util.varOccurences(T,y)<2?r+=" "+e.util.varReplace(T,y,O)+" ":r+=" var "+y+" = "+O+"; "+T+" ",c&&(r+=" if (!"+v+") break; "),r+=" } }  ",c&&(r+=" if ("+v+") { ",h+="}"))}else(e.opts.strictKeywords?"object"==typeof n&&Object.keys(n).length>0||!1===n:e.util.schemaHasRules(n,e.RULES.all))&&(f.schema=n,f.schemaPath=o,f.errSchemaPath=s,r+="  for (var "+m+" = 0; "+m+" < "+u+".length; "+m+"++) { ",f.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0),O=u+"["+m+"]",f.dataPathArr[p]=m,T=e.validate(f),f.baseId=g,e.util.varOccurences(T,y)<2?r+=" "+e.util.varReplace(T,y,O)+" ":r+=" var "+y+" = "+O+"; "+T+" ",c&&(r+=" if (!"+v+") break; "),r+=" }");return c&&(r+=" "+h+" if ("+d+" == errors) {"),r}),Ko),maximum:Ls(),minimum:Ls(),maxItems:Ps(),minItems:Ps(),maxLength:$s(),minLength:$s(),maxProperties:Ns(),minProperties:Ns(),multipleOf:(cs||(cs=1,ss=function(e,t){var r,i=" ",a=e.level,n=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(n||""),d=e.opts.$data&&o&&o.$data;if(d?(i+=" var schema"+a+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",r="schema"+a):r=o,!d&&"number"!=typeof o)throw new Error(t+" must be number");i+="var division"+a+";if (",d&&(i+=" "+r+" !== undefined && ( typeof "+r+" != 'number' || "),i+=" (division"+a+" = "+l+" / "+r+", ",i+=e.opts.multipleOfPrecision?" Math.abs(Math.round(division"+a+") - division"+a+") > 1e-"+e.opts.multipleOfPrecision+" ":" division"+a+" !== parseInt(division"+a+") ",i+=" ) ",d&&(i+="  )  ");var f=f||[];f.push(i+=" ) {   "),i="",!1!==e.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { multipleOf: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be multiple of ",i+=d?"' + "+r:r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+s:""+o,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var h=i;return i=f.pop(),i+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+h+"]); ":" validate.errors = ["+h+"]; return false; ":" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i}),ss),not:(ls||(ls=1,us=function(e,t){var r=" ",i=e.level,a=e.dataLevel,n=e.schema[t],o=e.schemaPath+e.util.getProperty(t),s=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(a||""),l="errs__"+i,d=e.util.copy(e);d.level++;var f="valid"+d.level;if(e.opts.strictKeywords?"object"==typeof n&&Object.keys(n).length>0||!1===n:e.util.schemaHasRules(n,e.RULES.all)){d.schema=n,d.schemaPath=o,d.errSchemaPath=s,r+=" var "+l+" = errors;  ";var h,v=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.createErrors=!1,d.opts.allErrors&&(h=d.opts.allErrors,d.opts.allErrors=!1),r+=" "+e.validate(d)+" ",d.createErrors=!0,h&&(d.opts.allErrors=h),e.compositeRule=d.compositeRule=v;var m=m||[];m.push(r+=" if ("+f+") {   "),r="",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var p=r;r=m.pop(),r+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+l+"; if (vErrors !== null) { if ("+l+") vErrors.length = "+l+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(r+=" if (false) { ");return r}),us),oneOf:(fs||(fs=1,ds=function(e,t){var r=" ",i=e.level,a=e.dataLevel,n=e.schema[t],o=e.schemaPath+e.util.getProperty(t),s=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(a||""),l="valid"+i,d="errs__"+i,f=e.util.copy(e),h="";f.level++;var v="valid"+f.level,m=f.baseId,p="prevValid"+i,y="passingSchemas"+i;r+="var "+d+" = errors , "+p+" = false , "+l+" = false , "+y+" = null; ";var g=e.compositeRule;e.compositeRule=f.compositeRule=!0;var b=n;if(b)for(var w,x=-1,S=b.length-1;x<S;)w=b[x+=1],(e.opts.strictKeywords?"object"==typeof w&&Object.keys(w).length>0||!1===w:e.util.schemaHasRules(w,e.RULES.all))?(f.schema=w,f.schemaPath=o+"["+x+"]",f.errSchemaPath=s+"/"+x,r+="  "+e.validate(f)+" ",f.baseId=m):r+=" var "+v+" = true; ",x&&(r+=" if ("+v+" && "+p+") { "+l+" = false; "+y+" = ["+y+", "+x+"]; } else { ",h+="}"),r+=" if ("+v+") { "+l+" = "+p+" = true; "+y+" = "+x+"; }";return e.compositeRule=f.compositeRule=g,r+=h+"if (!"+l+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { passingSchemas: "+y+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(r+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),r+="} else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r}),ds),pattern:(vs||(vs=1,hs=function(e,t){var r,i=" ",a=e.level,n=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(n||""),d=e.opts.$data&&o&&o.$data;d?(i+=" var schema"+a+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",r="schema"+a):r=o,i+="if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'string') || "),i+=" !"+(d?"(new RegExp("+r+"))":e.usePattern(o))+".test("+l+") ) {   ";var f=f||[];f.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { pattern:  ",i+=d?""+r:""+e.util.toQuotedString(o),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match pattern \"",i+=d?"' + "+r+" + '":""+e.util.escapeQuotes(o),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+s:""+e.util.toQuotedString(o),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var h=i;return i=f.pop(),i+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+h+"]); ":" validate.errors = ["+h+"]; return false; ":" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i}),hs),properties:(ps||(ps=1,ms=function(e,t){var r=" ",i=e.level,a=e.dataLevel,n=e.schema[t],o=e.schemaPath+e.util.getProperty(t),s=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(a||""),l="errs__"+i,d=e.util.copy(e),f="";d.level++;var h="valid"+d.level,v="key"+i,m="idx"+i,p=d.dataLevel=e.dataLevel+1,y="data"+p,g="dataProperties"+i,b=Object.keys(n||{}).filter(C),w=e.schema.patternProperties||{},x=Object.keys(w).filter(C),S=e.schema.additionalProperties,j=b.length||x.length,F=!1===S,k="object"==typeof S&&Object.keys(S).length,E=e.opts.removeAdditional,O=F||k||E,T=e.opts.ownProperties,I=e.baseId,A=e.schema.required;if(A&&(!e.opts.$data||!A.$data)&&A.length<e.opts.loopRequired)var D=e.util.toHash(A);function C(e){return"__proto__"!==e}if(r+="var "+l+" = errors;var "+h+" = true;",T&&(r+=" var "+g+" = undefined;"),O){if(r+=T?" "+g+" = "+g+" || Object.keys("+u+"); for (var "+m+"=0; "+m+"<"+g+".length; "+m+"++) { var "+v+" = "+g+"["+m+"]; ":" for (var "+v+" in "+u+") { ",j){if(r+=" var isAdditional"+i+" = !(false ",b.length)if(b.length>8)r+=" || validate.schema"+o+".hasOwnProperty("+v+") ";else{var _=b;if(_)for(var L=-1,P=_.length-1;L<P;)H=_[L+=1],r+=" || "+v+" == "+e.util.toQuotedString(H)+" "}if(x.length){var $=x;if($)for(var N=-1,M=$.length-1;N<M;)ae=$[N+=1],r+=" || "+e.usePattern(ae)+".test("+v+") "}r+=" ); if (isAdditional"+i+") { "}if("all"==E)r+=" delete "+u+"["+v+"]; ";else{var B=e.errorPath,V="' + "+v+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers)),F)if(E)r+=" delete "+u+"["+v+"]; ";else{var z=s;s=e.errSchemaPath+"/additionalProperties",(te=te||[]).push(r+=" "+h+" = false; "),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { additionalProperty: '"+V+"' } ",!1!==e.opts.messages&&(r+=" , message: '",r+=e.opts._errorDataPathProperty?"is an invalid additional property":"should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var q=r;r=te.pop(),r+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+q+"]); ":" validate.errors = ["+q+"]; return false; ":" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s=z,c&&(r+=" break; ")}else if(k)if("failing"==E){r+=" var "+l+" = errors;  ";var R=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=S,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var G=u+"["+v+"]";d.dataPathArr[p]=v;var U=e.validate(d);d.baseId=I,e.util.varOccurences(U,y)<2?r+=" "+e.util.varReplace(U,y,G)+" ":r+=" var "+y+" = "+G+"; "+U+" ",r+=" if (!"+h+") { errors = "+l+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+u+"["+v+"]; }  ",e.compositeRule=d.compositeRule=R}else d.schema=S,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers),G=u+"["+v+"]",d.dataPathArr[p]=v,U=e.validate(d),d.baseId=I,e.util.varOccurences(U,y)<2?r+=" "+e.util.varReplace(U,y,G)+" ":r+=" var "+y+" = "+G+"; "+U+" ",c&&(r+=" if (!"+h+") break; ");e.errorPath=B}j&&(r+=" } "),r+=" }  ",c&&(r+=" if ("+h+") { ",f+="}")}var X=e.opts.useDefaults&&!e.compositeRule;if(b.length){var Y=b;if(Y)for(var H,W=-1,J=Y.length-1;W<J;){var K=n[H=Y[W+=1]];if(e.opts.strictKeywords?"object"==typeof K&&Object.keys(K).length>0||!1===K:e.util.schemaHasRules(K,e.RULES.all)){var Z=e.util.getProperty(H),Q=(G=u+Z,X&&void 0!==K.default);if(d.schema=K,d.schemaPath=o+Z,d.errSchemaPath=s+"/"+e.util.escapeFragment(H),d.errorPath=e.util.getPath(e.errorPath,H,e.opts.jsonPointers),d.dataPathArr[p]=e.util.toQuotedString(H),U=e.validate(d),d.baseId=I,e.util.varOccurences(U,y)<2){U=e.util.varReplace(U,y,G);var ee=G}else ee=y,r+=" var "+y+" = "+G+"; ";if(Q)r+=" "+U+" ";else{if(D&&D[H]){r+=" if ( "+ee+" === undefined ",T&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(H)+"') "),r+=") { "+h+" = false; ",B=e.errorPath,z=s;var te,re=e.util.escapeQuotes(H);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(B,H,e.opts.jsonPointers)),s=e.errSchemaPath+"/required",(te=te||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { missingProperty: '"+re+"' } ",!1!==e.opts.messages&&(r+=" , message: '",r+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+re+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",q=r,r=te.pop(),r+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+q+"]); ":" validate.errors = ["+q+"]; return false; ":" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s=z,e.errorPath=B,r+=" } else { "}else c?(r+=" if ( "+ee+" === undefined ",T&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(H)+"') "),r+=") { "+h+" = true; } else { "):(r+=" if ("+ee+" !== undefined ",T&&(r+=" &&   Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(H)+"') "),r+=" ) { ");r+=" "+U+" } "}}c&&(r+=" if ("+h+") { ",f+="}")}}if(x.length){var ie=x;if(ie)for(var ae,ne=-1,oe=ie.length-1;ne<oe;)K=w[ae=ie[ne+=1]],(e.opts.strictKeywords?"object"==typeof K&&Object.keys(K).length>0||!1===K:e.util.schemaHasRules(K,e.RULES.all))&&(d.schema=K,d.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ae),d.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ae),r+=T?" "+g+" = "+g+" || Object.keys("+u+"); for (var "+m+"=0; "+m+"<"+g+".length; "+m+"++) { var "+v+" = "+g+"["+m+"]; ":" for (var "+v+" in "+u+") { ",r+=" if ("+e.usePattern(ae)+".test("+v+")) { ",d.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers),G=u+"["+v+"]",d.dataPathArr[p]=v,U=e.validate(d),d.baseId=I,e.util.varOccurences(U,y)<2?r+=" "+e.util.varReplace(U,y,G)+" ":r+=" var "+y+" = "+G+"; "+U+" ",c&&(r+=" if (!"+h+") break; "),r+=" } ",c&&(r+=" else "+h+" = true; "),r+=" }  ",c&&(r+=" if ("+h+") { ",f+="}"))}return c&&(r+=" "+f+" if ("+l+" == errors) {"),r}),ms),propertyNames:(gs||(gs=1,ys=function(e,t){var r=" ",i=e.level,a=e.dataLevel,n=e.schema[t],o=e.schemaPath+e.util.getProperty(t),s=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(a||""),l="errs__"+i,d=e.util.copy(e);d.level++;var f="valid"+d.level;if(r+="var "+l+" = errors;",e.opts.strictKeywords?"object"==typeof n&&Object.keys(n).length>0||!1===n:e.util.schemaHasRules(n,e.RULES.all)){d.schema=n,d.schemaPath=o,d.errSchemaPath=s;var h="key"+i,v="idx"+i,m="i"+i,p="' + "+h+" + '",y="data"+(d.dataLevel=e.dataLevel+1),g="dataProperties"+i,b=e.opts.ownProperties,w=e.baseId;b&&(r+=" var "+g+" = undefined; "),r+=b?" "+g+" = "+g+" || Object.keys("+u+"); for (var "+v+"=0; "+v+"<"+g+".length; "+v+"++) { var "+h+" = "+g+"["+v+"]; ":" for (var "+h+" in "+u+") { ",r+=" var startErrs"+i+" = errors; ";var x=h,S=e.compositeRule;e.compositeRule=d.compositeRule=!0;var j=e.validate(d);d.baseId=w,e.util.varOccurences(j,y)<2?r+=" "+e.util.varReplace(j,y,x)+" ":r+=" var "+y+" = "+x+"; "+j+" ",e.compositeRule=d.compositeRule=S,r+=" if (!"+f+") { for (var "+m+"=startErrs"+i+"; "+m+"<errors; "+m+"++) { vErrors["+m+"].propertyName = "+h+"; }   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { propertyName: '"+p+"' } ",!1!==e.opts.messages&&(r+=" , message: 'property name \\'"+p+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(r+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),c&&(r+=" break; "),r+=" } }"}return c&&(r+="  if ("+l+" == errors) {"),r}),ys),required:(ws||(ws=1,bs=function(e,t){var r=" ",i=e.level,a=e.dataLevel,n=e.schema[t],o=e.schemaPath+e.util.getProperty(t),s=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(a||""),l="valid"+i,d=e.opts.$data&&n&&n.$data;d&&(r+=" var schema"+i+" = "+e.util.getData(n.$data,a,e.dataPathArr)+"; ");var f="schema"+i;if(!d)if(n.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var h=[],v=n;if(v)for(var m,p=-1,y=v.length-1;p<y;){m=v[p+=1];var g=e.schema.properties[m];g&&(e.opts.strictKeywords?"object"==typeof g&&Object.keys(g).length>0||!1===g:e.util.schemaHasRules(g,e.RULES.all))||(h[h.length]=m)}}else h=n;if(d||h.length){var b=e.errorPath,w=d||h.length>=e.opts.loopRequired,x=e.opts.ownProperties;if(c)if(r+=" var missing"+i+"; ",w){d||(r+=" var "+f+" = validate.schema"+o+"; ");var S="' + "+(T="schema"+i+"["+(E="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,T,e.opts.jsonPointers)),r+=" var "+l+" = true; ",d&&(r+=" if (schema"+i+" === undefined) "+l+" = true; else if (!Array.isArray(schema"+i+")) "+l+" = false; else {"),r+=" for (var "+E+" = 0; "+E+" < "+f+".length; "+E+"++) { "+l+" = "+u+"["+f+"["+E+"]] !== undefined ",x&&(r+=" &&   Object.prototype.hasOwnProperty.call("+u+", "+f+"["+E+"]) "),r+="; if (!"+l+") break; } ",d&&(r+="  }  "),(F=F||[]).push(r+="  if (!"+l+") {   "),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { missingProperty: '"+S+"' } ",!1!==e.opts.messages&&(r+=" , message: '",r+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+S+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var j=r;r=F.pop(),r+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+j+"]); ":" validate.errors = ["+j+"]; return false; ":" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var F,k=h;if(k)for(var E=-1,O=k.length-1;E<O;)A=k[E+=1],E&&(r+=" || "),r+=" ( ( "+(L=u+(_=e.util.getProperty(A)))+" === undefined ",x&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(A)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?A:_)+") ) ";r+=") {  ",S="' + "+(T="missing"+i)+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(b,T,!0):b+" + "+T),(F=F||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { missingProperty: '"+S+"' } ",!1!==e.opts.messages&&(r+=" , message: '",r+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+S+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",j=r,r=F.pop(),r+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+j+"]); ":" validate.errors = ["+j+"]; return false; ":" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(w){var T;d||(r+=" var "+f+" = validate.schema"+o+"; "),S="' + "+(T="schema"+i+"["+(E="i"+i)+"]")+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,T,e.opts.jsonPointers)),d&&(r+=" if ("+f+" && !Array.isArray("+f+")) {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { missingProperty: '"+S+"' } ",!1!==e.opts.messages&&(r+=" , message: '",r+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+S+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+f+" !== undefined) { "),r+=" for (var "+E+" = 0; "+E+" < "+f+".length; "+E+"++) { if ("+u+"["+f+"["+E+"]] === undefined ",x&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", "+f+"["+E+"]) "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { missingProperty: '"+S+"' } ",!1!==e.opts.messages&&(r+=" , message: '",r+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+S+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",d&&(r+="  }  ")}else{var I=h;if(I)for(var A,D=-1,C=I.length-1;D<C;){A=I[D+=1];var _=e.util.getProperty(A),L=(S=e.util.escapeQuotes(A),u+_);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(b,A,e.opts.jsonPointers)),r+=" if ( "+L+" === undefined ",x&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(A)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { missingProperty: '"+S+"' } ",!1!==e.opts.messages&&(r+=" , message: '",r+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+S+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=b}else c&&(r+=" if (true) {");return r}),bs),uniqueItems:(Ss||(Ss=1,xs=function(e,t){var r,i=" ",a=e.level,n=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(n||""),d="valid"+a,f=e.opts.$data&&o&&o.$data;if(f?(i+=" var schema"+a+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",r="schema"+a):r=o,(o||f)&&!1!==e.opts.uniqueItems){f&&(i+=" var "+d+"; if ("+r+" === false || "+r+" === undefined) "+d+" = true; else if (typeof "+r+" != 'boolean') "+d+" = false; else { "),i+=" var i = "+l+".length , "+d+" = true , j; if (i > 1) { ";var h=e.schema.items&&e.schema.items.type,v=Array.isArray(h);!h||"object"==h||"array"==h||v&&(h.indexOf("object")>=0||h.indexOf("array")>=0)?i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+l+"[i], "+l+"[j])) { "+d+" = false; break outer; } } } ":(i+=" var itemIndices = {}, item; for (;i--;) { var item = "+l+"[i]; ",i+=" if ("+e.util["checkDataType"+(v?"s":"")](h,"item",e.opts.strictNumbers,!0)+") continue; ",v&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+d+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "),i+=" } ",f&&(i+="  }  ");var m=m||[];m.push(i+=" if (!"+d+") {   "),i="",!1!==e.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+s:""+o,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var p=i;i=m.pop(),i+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",u&&(i+=" else { ")}else u&&(i+=" if (true) { ");return i}),xs),validate:Oo()}),js),t=uo().toHash;return ks=function(){var r=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],i=["type","$comment"];return r.all=t(i),r.types=t(["number","integer","string","array","object","boolean","null"]),r.forEach((function(t){t.rules=t.rules.map((function(t){var a;if("object"==typeof t){var n=Object.keys(t)[0];a=t[n],t=n,a.forEach((function(e){i.push(e),r.all[e]=!0}))}return i.push(t),r.all[t]={keyword:t,code:e[t],implements:a}})),r.all.$comment={keyword:"$comment",code:e.$comment},t.type&&(r.types[t.type]=t)})),r.keywords=t(i.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),r.custom={},r},ks}(),s=function(){if(Ts)return Os;Ts=1;var e=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];return Os=function(t,r){for(var i=0;i<r.length;i++){t=JSON.parse(JSON.stringify(t));var a,n=r[i].split("/"),o=t;for(a=1;a<n.length;a++)o=o[n[a]];for(a=0;a<e.length;a++){var s=e[a],c=o[s];c&&(o[s]={anyOf:[c,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return t}}(),c=uo();qs=v,v.prototype.validate=function(e,t){var r;if("string"==typeof e){if(!(r=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var i=this._addSchema(e);r=i.validate||this._compile(i)}var a=r(t);return!0!==r.$async&&(this.errors=r.errors),a},v.prototype.compile=function(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)},v.prototype.addSchema=function(e,r,i,a){if(Array.isArray(e)){for(var n=0;n<e.length;n++)this.addSchema(e[n],void 0,i,a);return this}var o=this._getId(e);if(void 0!==o&&"string"!=typeof o)throw new Error("schema id must be string");return w(this,r=t.normalizeId(r||o)),this._schemas[r]=this._addSchema(e,i,a,!0),this},v.prototype.addMetaSchema=function(e,t,r){return this.addSchema(e,t,r,!0),this},v.prototype.validateSchema=function(e,t){var r=e.$schema;if(void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(r=r||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(d)?d:void 0,e._opts.defaultMeta}(this),!r)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var i=this.validate(r,e);if(!i&&t){var a="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(a);this.logger.error(a)}return i},v.prototype.getSchema=function(r){var a=m(this,r);switch(typeof a){case"object":return a.validate||this._compile(a);case"string":return this.getSchema(a);case"undefined":return function(r,a){var n=t.schema.call(r,{schema:{}},a);if(n){var o=n.schema,s=n.root,c=n.baseId,u=e.call(r,o,s,void 0,c);return r._fragments[a]=new i({ref:a,fragment:!0,schema:o,root:s,baseId:c,validate:u}),u}}(this,r)}},v.prototype.removeSchema=function(e){if(e instanceof RegExp)return p(this,this._schemas,e),p(this,this._refs,e),this;switch(typeof e){case"undefined":return p(this,this._schemas),p(this,this._refs),this._cache.clear(),this;case"string":var r=m(this,e);return r&&this._cache.del(r.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var i=this._opts.serialize,a=i?i(e):e;this._cache.del(a);var n=this._getId(e);n&&(n=t.normalizeId(n),delete this._schemas[n],delete this._refs[n])}return this},v.prototype.addFormat=function(e,t){return"string"==typeof t&&(t=new RegExp(t)),this._formats[e]=t,this},v.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var r=void 0===(t=t||{}).separator?", ":t.separator,i=void 0===t.dataVar?"data":t.dataVar,a="",n=0;n<e.length;n++){var o=e[n];o&&(a+=i+o.dataPath+" "+o.message+r)}return a.slice(0,-r.length)},v.prototype._addSchema=function(e,r,a,n){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var o=this._opts.serialize,s=o?o(e):e,c=this._cache.get(s);if(c)return c;n=n||!1!==this._opts.addUsedSchema;var u=t.normalizeId(this._getId(e));u&&n&&w(this,u);var l,d=!1!==this._opts.validateSchema&&!r;d&&!(l=u&&u==t.normalizeId(e.$schema))&&this.validateSchema(e,!0);var f=t.ids.call(this,e),h=new i({id:u,schema:e,localRefs:f,cacheKey:s,meta:a});return"#"!=u[0]&&n&&(this._refs[u]=h),this._cache.put(s,h),d&&l&&this.validateSchema(e,!0),h},v.prototype._compile=function(t,r){if(t.compiling)return t.validate=n,n.schema=t.schema,n.errors=null,n.root=r||n,!0===t.schema.$async&&(n.$async=!0),n;var i,a;t.compiling=!0,t.meta&&(i=this._opts,this._opts=this._metaOpts);try{a=e.call(this,t.schema,r,t.localRefs)}catch(e){throw delete t.validate,e}finally{t.compiling=!1,t.meta&&(this._opts=i)}return t.validate=a,t.refs=a.refs,t.refVal=a.refVal,t.root=a.root,a;function n(){var e=t.validate,r=e.apply(this,arguments);return n.errors=e.errors,r}},v.prototype.compileAsync=function(){if(As)return Is;As=1;var e=ko().MissingRef;return Is=function t(r,i,a){var n=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof i&&(a=i,i=void 0);var o=s(r).then((function(){var e=n._addSchema(r,void 0,i);return e.validate||c(e)}));return a&&o.then((function(e){a(null,e)}),a),o;function s(e){var r=e.$schema;return r&&!n.getSchema(r)?t.call(n,{$ref:r},!0):Promise.resolve()}function c(t){try{return n._compile(t)}catch(r){if(r instanceof e)return function(e){var r=e.missingSchema;if(u(r))throw new Error("Schema "+r+" is loaded but "+e.missingRef+" cannot be resolved");var a=n._loadingSchemas[r];return a||(a=n._loadingSchemas[r]=n._opts.loadSchema(r)).then(o,o),a.then((function(e){if(!u(r))return s(e).then((function(){u(r)||n.addSchema(e,r,void 0,i)}))})).then((function(){return c(t)}));function o(){delete n._loadingSchemas[r]}function u(e){return n._refs[e]||n._schemas[e]}}(r);throw r}}},Is}();var u=function(){if(zs)return Vs;zs=1;var e=/^[a-z_$][a-z0-9_$-]*$/i,t=(Cs||(Cs=1,Ds=function(e,t){var r,i,a=" ",n=e.level,o=e.dataLevel,s=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(o||""),f="valid"+n,h="errs__"+n,v=e.opts.$data&&s&&s.$data;v?(a+=" var schema"+n+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",i="schema"+n):i=s;var m,p,y,g,b,w=this,x="definition"+n,S=w.definition,j="";if(v&&S.$data){var F=S.validateSchema;a+=" var "+x+" = RULES.custom['"+t+"'].definition; var "+(b="keywordValidate"+n)+" = "+x+".validate;"}else{if(!(g=e.useCustomRule(w,s,e.schema,e)))return;i="validate.schema"+c,b=g.code,m=S.compile,p=S.inline,y=S.macro}var k=b+".errors",E="i"+n,O="ruleErr"+n,T=S.async;if(T&&!e.async)throw new Error("async keyword in sync schema");if(p||y||(a+=k+" = null;"),a+="var "+h+" = errors;var "+f+";",v&&S.$data&&(j+="}",a+=" if ("+i+" === undefined) { "+f+" = true; } else { ",F&&(j+="}",a+=" "+f+" = "+x+".validateSchema("+i+"); if ("+f+") { ")),p)a+=S.statements?" "+g.validate+" ":" "+f+" = "+g.validate+"; ";else if(y){var I=e.util.copy(e);j="",I.level++;var A="valid"+I.level;I.schema=g.validate,I.schemaPath="";var D=e.compositeRule;e.compositeRule=I.compositeRule=!0;var C=e.validate(I).replace(/validate\.schema/g,b);e.compositeRule=I.compositeRule=D,a+=" "+C}else{($=$||[]).push(a),a="",a+="  "+b+".call( ",a+=e.opts.passContext?"this":"self",a+=m||!1===S.schema?" , "+d+" ":" , "+i+" , "+d+" , validate.schema"+e.schemaPath+" ",a+=" , (dataPath || '')",'""'!=e.errorPath&&(a+=" + "+e.errorPath);var _=o?"data"+(o-1||""):"parentData",L=o?e.dataPathArr[o]:"parentDataProperty",P=a+=" , "+_+" , "+L+" , rootData )  ";a=$.pop(),!1===S.errors?(a+=" "+f+" = ",T&&(a+="await "),a+=P+"; "):a+=T?" var "+(k="customErrors"+n)+" = null; try { "+f+" = await "+P+"; } catch (e) { "+f+" = false; if (e instanceof ValidationError) "+k+" = e.errors; else throw e; } ":" "+k+" = null; "+f+" = "+P+"; "}if(S.modifying&&(a+=" if ("+_+") "+d+" = "+_+"["+L+"];"),a+=""+j,S.valid)l&&(a+=" if (true) { ");else{var $;a+=" if ( ",void 0===S.valid?(a+=" !",a+=y?""+A:""+f):a+=" "+!S.valid+" ",r=w.keyword,($=$||[]).push(a+=") { "),($=$||[]).push(a=""),a="",!1!==e.createErrors?(a+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+w.keyword+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should pass \""+w.keyword+"\" keyword validation' "),e.opts.verbose&&(a+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var N=a;a=$.pop();var M=a+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+N+"]); ":" validate.errors = ["+N+"]; return false; ":" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";a=$.pop(),p?S.errors?"full"!=S.errors&&(a+="  for (var "+E+"="+h+"; "+E+"<errors; "+E+"++) { var "+O+" = vErrors["+E+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+O+".schemaPath === undefined) { "+O+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(a+=" "+O+".schema = "+i+"; "+O+".data = "+d+"; "),a+=" } "):!1===S.errors?a+=" "+M+" ":(a+=" if ("+h+" == errors) { "+M+" } else {  for (var "+E+"="+h+"; "+E+"<errors; "+E+"++) { var "+O+" = vErrors["+E+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+O+".schemaPath === undefined) { "+O+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(a+=" "+O+".schema = "+i+"; "+O+".data = "+d+"; "),a+=" } } "):y?(a+="   var err =   ",!1!==e.createErrors?(a+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+w.keyword+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should pass \""+w.keyword+"\" keyword validation' "),e.opts.verbose&&(a+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(a+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; ")):!1===S.errors?a+=" "+M+" ":(a+=" if (Array.isArray("+k+")) { if (vErrors === null) vErrors = "+k+"; else vErrors = vErrors.concat("+k+"); errors = vErrors.length;  for (var "+E+"="+h+"; "+E+"<errors; "+E+"++) { var "+O+" = vErrors["+E+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+e.errorPath+";  "+O+'.schemaPath = "'+u+'";  ',e.opts.verbose&&(a+=" "+O+".schema = "+i+"; "+O+".data = "+d+"; "),a+=" } } else { "+M+" } "),a+=" } ",l&&(a+=" else { ")}return a}),Ds),r=Bs?Ms:(Bs=1,Ms={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:Us.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:Us.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}});return Vs={add:function(r,i){var a=this.RULES;if(a.keywords[r])throw new Error("Keyword "+r+" is already defined");if(!e.test(r))throw new Error("Keyword "+r+" is not a valid identifier");if(i){this.validateKeyword(i,!0);var n=i.type;if(Array.isArray(n))for(var o=0;o<n.length;o++)c(r,n[o],i);else c(r,n,i);var s=i.metaSchema;s&&(i.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),i.validateSchema=this.compile(s,!0))}function c(e,r,i){for(var n,o=0;o<a.length;o++){var s=a[o];if(s.type==r){n=s;break}}n||a.push(n={type:r,rules:[]});var c={keyword:e,definition:i,custom:!0,code:t,implements:i.implements};n.rules.push(c),a.custom[e]=c}return a.keywords[r]=a.all[r]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var r=0;r<t.length;r++)for(var i=t[r].rules,a=0;a<i.length;a++)if(i[a].keyword==e){i.splice(a,1);break}return this},validate:function e(t,i){e.errors=null;var a=this._validateKeyword=this._validateKeyword||this.compile(r,!0);if(a(t))return!0;if(e.errors=a.errors,i)throw new Error("custom keyword definition is invalid: "+this.errorsText(a.errors));return!1}},Vs}();v.prototype.addKeyword=u.add,v.prototype.getKeyword=u.get,v.prototype.removeKeyword=u.remove,v.prototype.validateKeyword=u.validate;var l=ko();v.ValidationError=l.Validation,v.MissingRefError=l.MissingRef,v.$dataMetaSchema=s;var d="http://json-schema.org/draft-07/schema",f=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],h=["/properties"];function v(e){if(!(this instanceof v))return new v(e);e=this._opts=c.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:x,warn:x,error:x};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=n(e.format),this._cache=e.cache||new r,this._loadingSchemas={},this._compilations=[],this.RULES=o(),this._getId=function(e){switch(e.schemaId){case"auto":return b;case"id":return y;default:return g}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=a),this._metaOpts=function(e){for(var t=c.copy(e._opts),r=0;r<f.length;r++)delete t[f[r]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats)e.addFormat(t,e._opts.formats[t])}(this),e.keywords&&function(e){for(var t in e._opts.keywords)e.addKeyword(t,e._opts.keywords[t])}(this),function(e){var t;if(e._opts.$data&&e.addMetaSchema(t=Xs,t.$id,!0),!1!==e._opts.meta){var r=Us;e._opts.$data&&(r=s(r,h)),e.addMetaSchema(r,d,!0),e._refs["http://json-schema.org/schema"]=d}}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}(this)}function m(e,r){return r=t.normalizeId(r),e._schemas[r]||e._refs[r]||e._fragments[r]}function p(e,t,r){for(var i in t){var a=t[i];a.meta||r&&!r.test(i)||(e._cache.del(a.cacheKey),delete t[i])}}function y(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function g(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function b(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function w(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function x(){}return qs}(),Hs=Kn(Ys),Ws={exports:{}},Js=function(){if(Gs)return Ws.exports;function e(e,t,r,i){var a,n=null==(a=i)||"number"==typeof a||"boolean"==typeof a?i:r(i),o=t.get(n);return void 0===o&&(o=e.call(this,i),t.set(n,o)),o}function t(e,t,r){var i=Array.prototype.slice.call(arguments,3),a=r(i),n=t.get(a);return void 0===n&&(n=e.apply(this,i),t.set(a,n)),n}function r(e,t,r,i,a){return r.bind(t,e,i,a)}function i(i,a){return r(i,this,1===i.length?e:t,a.cache.create(),a.serializer)}function a(){return JSON.stringify(arguments)}function n(){this.cache=Object.create(null)}Gs=1,n.prototype.has=function(e){return e in this.cache},n.prototype.get=function(e){return this.cache[e]},n.prototype.set=function(e,t){this.cache[e]=t};var o={create:function(){return new n}};return Ws.exports=function(e,t){return(t&&t.strategy?t.strategy:i)(e,{cache:t&&t.cache?t.cache:o,serializer:t&&t.serializer?t.serializer:a})},Ws.exports.strategies={variadic:function(e,i){return r(e,this,t,i.cache.create(),i.serializer)},monadic:function(t,i){return r(t,this,e,i.cache.create(),i.serializer)}},Ws.exports}();const Ks=Kn(Js)((async e=>{const t=e.featureCollection;let r,i;if(void 0!==t?.layers?.[0]){const e=t.layers[0];r=e.featureSet,i=e.layerDefinition}else i=e.layerDefinition;const a={};if(void 0!==r){const e=await async function(){if(Nn)return await window.$arcgis.import("esri/rest/support/FeatureSet");const e=await import("@arcgis/core/rest/support/FeatureSet.js");return Mn(e)?e.default:e}();if(a.source=e.fromJSON(r).features,void 0!==i?.fields){const e=await async function(){if(Nn)return await window.$arcgis.import("esri/layers/support/Field");const e=await import("@arcgis/core/layers/support/Field.js");return Mn(e)?e.default:e}();a.fields=i.fields.map((t=>e.fromJSON(t)))}void 0!==i?.objectIdField&&(a.objectIdField=i.objectIdField);const t=await Bn();if(void 0!==i?.geometryType){const e=t.fromJSON({geometryType:i.geometryType});void 0!==e?.type&&"extent"!==e?.type&&(a.geometryType=e.type)}void 0!==i?.spatialReference&&(a.spatialReference=i.spatialReference)}else a.id=e.id,void 0!==i?.id&&(a.layerId=i.id),void 0!==e.url&&(a.url=e.url),void 0!==e.itemId&&void 0!==i?.id&&(a.portalItem={id:e.itemId});if(void 0!==i){const e=i.drawingInfo;if(void 0!==e?.renderer){const t=await async function(){if(Nn)return await window.$arcgis.import("esri/renderers/support/jsonUtils");const e=await import("@arcgis/core/renderers/support/jsonUtils.js");return Mn(e)?e.default:e}();a.renderer=t.fromJSON(e.renderer)}}return await async function(e){return new(await async function(){if(Nn)return await window.$arcgis.import("esri/layers/FeatureLayer");const e=await import("@arcgis/core/layers/FeatureLayer.js");return Mn(e)?e.default:e}())(e)}(a)}));async function Zs(e,t){const r=qn(e);let i=[];if(void 0!==r){await r.load();const e=!0===t&&void 0!==r?.popupTemplate?.fieldInfos;i=r.fields.map((t=>{const i=t.toJSON();if(e){const e=r.popupTemplate?.fieldInfos?.find((e=>e.fieldName?.toLowerCase()===t.name.toLowerCase()))?.label;void 0!==e&&e!==t.name&&(i.alias=e)}return i}))}return i}function Qs(e){return[a,r].includes(e.type)}function ec(e){return e.filter((e=>"esriFieldTypeDate"===e.type)).map((e=>e.name))}function tc(e){return e.filter((e=>function(e){return[i,t,a,r].includes(e.type)}(e))).map((e=>e.name))}function rc(e,t){const r=[],i=function(e){return void 0!==e&&"type"in e&&"subtype-group"===e.type}(e)?e.subtypes:e[t];return void 0!==i?.[0]&&i.forEach((e=>{const{name:t,domains:i}=e;let a="id"in e?e.id:void 0;!a&&"code"in e&&(a=e.code);const n=Object.entries(i??{}),o=[],s=n?.filter((([e,t])=>"coded-value"===t?.type)),c=s?.map((([e,r])=>{let i={fieldName:e,name:t,codedValues:o};if(r&&"codedValues"in r){const t=r.codedValues.map((({code:e,name:t})=>({name:t,code:e})));i={fieldName:e,name:r.name,codedValues:t}}return i}));r.push({id:a??"",name:t,domains:c})})),0===r.length?void 0:r}async function ic(e){const{queryObject:t,fieldToMatch:r,returnUndefinedIfNotFound:i}=e,a=await Zs(t);let n=a.find((e=>r===e.name));n||(n=a.find((e=>r.toUpperCase()===e.name.toUpperCase())));const o=i?"":r;return n?.name??o}async function ac(e){const{fieldsList:t,queryObject:r,returnUndefinedIfNotFound:i}=e;let a=t;return void 0!==a&&(a=await Promise.all(a.map((async e=>await ic({queryObject:r,fieldToMatch:e,returnUndefinedIfNotFound:i}))))),a}function nc(e){let t=!1;switch(Sn(e?.series)){case $:case _:t=0===(e?.series?.[0]?.x?.trim()?.length??0);break;case T:{const r=e?.series;t=0===(r?.[0]?.x?.length??0)||0===(r?.[0]?.y?.length??0);break}case I:{const r=e?.series;t=$n(r)===vn?0===(r?.[0]?.query?.outStatistics?.length??0):0===(r?.[0]?.x?.length??0)||r?.[0]?.x===H;break}case L:{const r=e?.series;t=0===[r?.[0]?.y].flat().length||""===r?.[0]?.y;break}case P:case C:case D:{const r=e?.series;t=$n(r)===un?0===(r?.[0]?.query?.outStatistics?.length??0):0===(r?.[0]?.x?.trim()?.length??0);break}}return t}function oc(e){return e.type===L}function sc(e){return e.type===D}function cc(e){return e.type===C}new Hs({allErrors:!0});const uc=e=>Sn(e)===D;var lc;async function dc(e,t){const r=[];return await Promise.all(e.map((async e=>{if(!En(e)){const i=On(e,!1);if(void 0!==i.fieldToSort){const e=await ic({queryObject:t,fieldToMatch:i.fieldToSort});void 0!==e&&r.push(void 0===i.orderBy?e:`${e} ${i.orderBy}`)}}}))),r}function fc(e){let t;switch(e){case"mean":t=U;break;case"median":t=X;break;case"category":t=Y}return t}function hc(e){let t,r=e.orderOptions?.orderByFields?.[0];if(e.series?.length>0){const i=Sn(e.series),a=$n(e.series);if(i!==I&&a!==un&&(r=r??e.series[0].x),r&&!En(r)){const{fieldToSort:i,orderBy:a}=On(r);let n;i===e.series[0].x||i===H?n=Y:"y"in e.series[0]&&i===e.series[0].y&&(n=G),void 0!==n&&(t={orderType:n,orderBy:"DESC"===a?.toUpperCase()?M:N})}}return t}function vc(e){let t=Gr(e);return t=function(e){const t=Gr(e);if(!Jr(e.series)&&void 0!==t.axes?.[0]&&Sn(e.series)===A&&void 0!==e.axes?.[0]){const r=e.axes[0];void 0!==r.ticks&&Object.hasOwn(r.ticks,"spacing")&&delete r.ticks.spacing,t.axes[0]=r}return t}(t),t}function mc(e){let t=Gr(e);return t=function(e){const t=Gr(e),{extent:r}=t.series[0]?.query??{};return void 0!==r&&(t.dataFilters={...t.dataFilters,geometry:r},t.series.forEach((e=>{"query"in e&&"extent"in e.query&&delete e.query.extent}))),t}(t),t}function pc(e){let t=Gr(e);return t=function(e){const t=Gr(e);return Jr(e.series)||(function(e){const t=[C,D,$,L],r=Sn(e?.series);return void 0!==r&&t.includes(r)}(e)&&void 0===e.rotated&&(t.rotated=e.series[0].rotated??!1),t.series.forEach((e=>{void 0!==e.rotated&&delete e.rotated}))),t}(t),t}function yc(e){let t=Gr(e);return t=function(e){const t=Gr(e),r=e.dataSource;return"dataSource"in t&&!Jr(r)&&("featureLayer"===r.type&&void 0!==t.dataSource&&(t.dataSource.type="layer"),"featureLayer"in r&&(t.dataSource.layer=r.featureLayer,delete t.dataSource.featureLayer)),t}(t),t}function gc(e){let t=Gr(e);return t=function(e){const t=Gr(e);if("dataSource"in e){const r=e.dataSource;if(void 0!==r.filter&&""!==r.filter.trim()){const e=Gn([r.filter,t.dataFilters?.where]);t.dataFilters={...t.dataFilters,where:e},delete t.dataSource.filter}}return t}(t),t}function bc(e){let t=Gr(e);return t=function(e){const t=Gr(e);if(!Jr(e.series)&&Sn(e.series)===I){const e=t.series[0];if("originalValue"===e.sortLabelsBy)t.sortLabelsBy=e.sortLabelsBy;else if(void 0!==e.sortLabelsBy&&void 0===t.orderOptions?.data){const e=hc(t);void 0!==e&&(t.orderOptions??={},t.orderOptions.data=e)}e.sortLabelsBy&&delete e.sortLabelsBy}return t}(t),t}function wc(e){let t=Gr(e);return t=function(e){const t=Gr(e),r=e.sortOptions?.sortSeriesBy;return void 0===t.orderOptions&&"string"==typeof r&&(t.orderOptions??={},t.orderOptions.series={orderBy:"DESC"===r?M:N}),t}(t),t}function xc(e){let t=Gr(e);return t=function(e){const t=Gr(e);return void 0===t.colorMatch&&void 0!==t.series[0].colorType&&(t.colorMatch="colorMatch"===t.series[0].colorType),t.series.forEach((e=>{void 0!==e.colorType&&delete e.colorType})),t}(t),t}function Sc(e){return function(e){const t=Gr(e);return t.axes?.forEach((e=>{void 0!==e&&void 0!==e.scrollbarVisible&&void 0===e.scrollbar?.visible&&(e.scrollbar={...e.scrollbar,visible:e.scrollbarVisible},delete e.scrollbarVisible)})),t}(e)}function jc(e){let t=Gr(e);return e.series[0]?.type===L&&(t=function(e){const t=Gr(e);if(void 0!==t.sortDataBy){if(void 0===t.orderOptions?.data){const r=e.sortDataBy,i=fc(r?.sortType);void 0!==i&&(t.orderOptions??={},t.orderOptions.data={orderType:i,orderBy:r?.sortOrder??N})}delete t.sortDataBy}return t}(t)),t}function Fc(e){return function(e){const t=Gr(e);return Jr(e.series)||(function(e){const t=[C,D,$,P],r=Sn(e?.series);return void 0!==r&&t.includes(r)}(e)&&void 0===e.stackedType&&(t.stackedType=e.series[0].stackedType??"sideBySide"),t.series.forEach((e=>{"stackedType"in e&&delete e.stackedType}))),t}(e)}function kc(e){return function(e){const t=Gr(e),r=e,i=e,a=e,n=e,o=e;if(t){if(void 0===t.orderOptions?.series&&void 0!==r.sortOptions?.sortSeriesBy&&(t.orderOptions??={},t.orderOptions.series={preferLabel:(s=i.sortLabelsBy??r.sortOptions.sortSeriesBy.sortType,"originalValue"!==s),orderBy:r.sortOptions.sortSeriesBy.sortOrder??N}),"originalValue"===i.sortLabelsBy||!1===n.orderOptions?.data?.preferDataLabel||!1===o.orderOptions?.data?.preferLabel)t.orderOptions?.data&&delete t.orderOptions.data;else if(void 0===t.orderOptions?.data)if(Sn(t.series)===L){if(i.sortLabelsBy||void 0!==a.sortOptions?.sortDataBy){const e=fc(a.sortOptions?.sortDataBy?.sortType);void 0!==e&&(t.orderOptions??={},t.orderOptions.data={orderType:e,orderBy:a.sortOptions?.sortDataBy?.sortOrder??N})}}else{const e=hc(t);void 0!==e&&(t.orderOptions??={},t.orderOptions.data=e)}"sortLabelsBy"in t&&delete t.sortLabelsBy,"sortOptions"in t&&delete t.sortOptions}var s;return t}(e)}function Ec(e){return function(e){const t=Gr(e);return"dataSource"in t&&t.dataSource.layer&&(t.iLayer=t.dataSource.layer,delete t.dataSource),t}(e)}function Oc(e){return function(e){const t=Gr(e);if(t){const e=$n(t.series);if((e===un||e===vn)&&void 0===t.orderOptions?.data&&void 0!==t.orderOptions?.orderByFields){const e=hc(t);void 0!==e&&(t.orderOptions??={},t.orderOptions.data=e,delete t.orderOptions.orderByFields)}}return t}(e)}function Tc(e){return function(e){const t=Gr(e);return t.horizontalAxisLabelsBehavior===lc.NONE&&(t.horizontalAxisLabelsBehavior=B),t.verticalAxisLabelsBehavior===lc.NONE&&(t.verticalAxisLabelsBehavior=B),t}(e)}function Ic(t){const{versionsToConvert:r=[],configToUpdate:i}=t;let a=Gr(i);return r.length>0&&void 0!==a&&(a=function(e){const t=Gr(e),r=t.series[0]?.query?.orderByFields;if(void 0!==r&&r.length>0&&void 0===t.orderOptions?.orderByFields){t.orderOptions??={};let i=!0;if(1===r.length){const{fieldToSort:a,orderBy:n}=On(r[0]);let o;a===e.series[0].x||a===H?o=Y:"y"in e.series[0]&&a===e.series[0].y&&(o=G),void 0!==o&&(i=!1,void 0===t.orderOptions.data&&(t.orderOptions.data={orderType:o,orderBy:"DESC"===n?.toUpperCase()?M:N}))}i&&(t.orderOptions.orderByFields=r)}return t.series.forEach((e=>{delete e.query?.orderByFields})),t}(a),r.includes(In)||r.includes(An)?(a=function(e){let t=Gr(e);return t=function(e){const t=Gr(e);return void 0!==t?.orderOptions?.orderByFields&&$n(e.series)===vn&&(t.orderOptions.orderByFields=e?.orderOptions?.orderByFields?.map((e=>{let t=Gr(e);return void 0!==e&&e.includes("arcgis_charts_pie_category_from_fields_name")&&(t=e.replace("arcgis_charts_pie_category_from_fields_name",H)),t}))),t}(t),t}(a),a=vc(a),a=mc(a),a=pc(a),a=yc(a),a=gc(a),a=bc(a),a=wc(a),a=xc(a),a=Sc(a),a=jc(a),a=Fc(a),a=kc(a),a=Ec(a),a=Oc(a),a=Tc(a)):r.forEach((e=>{if(void 0!==a)switch(e){case"1.0.1":a=vc(a);break;case"3.4.0":a=mc(a);break;case"4.0.0":a=pc(a);break;case"4.0.1":a=yc(a);break;case"6.4.0":a=gc(a);break;case"7.5.1":a=bc(a);break;case"8.0.0":a=wc(a);break;case"9.2.0":a=xc(a);break;case"9.7.0":a=Sc(a);break;case"10.0.0":a=jc(a);break;case"11.0.0":a=Fc(a);break;case"14.0.1":a=kc(a);break;case"16.0.0":a=Ec(a);break;case"16.1.0":a=Oc(a);break;case"18.0.0":a=Tc(a)}})),a.version=e),a}!function(e){e.NONE="none",e.ROTATE="rotate",e.STAGGER="stagger",e.WRAP="wrap"}(lc||(lc={}));const Ac=e=>e.title?.content.text??"",Dc=e=>e.footer?.content.text??"",Cc=e=>e.footer?.visible??!1;class _c extends EventTarget{constructor(){super(...arguments),this.setupFinished=new Promise((e=>{this.resolveSetup=e}))}isSameChartAs(e){const t=e?.getLayer();return void 0!==t&&this._config.id===e?.getChartId()&&this.layerInfo?.layer.id===t.id}getConfig(){return this._config}setConfig(e){this._config=e,this.emitConfigUpdate("setConfig")}getChartType(){return this._chartType}getLayer(){return this.layerInfo?.layer}getChartId(){return this._config.id}setChartId(e){this._config.id=e}getTitleText(){return Ac(this._config)}setTitleText(e){var t,r;t=e,void 0!==(r=this._config).title?r.title.content.text=t:void 0===r.title&&void 0!==t&&(r.title=_i({text:t,visible:!0,font:Di(Z)})),this.emitConfigUpdate("setTitleText")}getDescriptionText(){return Dc(this._config)}setDescriptionText(e){var t,r;t=e,void 0!==(r=this._config).footer?r.footer.content.text=t:void 0===r.footer&&void 0!==t&&(r.footer=_i({text:t,visible:!0,font:Di(re)})),this.emitConfigUpdate("setDescriptionText")}getChartTitleVisibility(){return!!(e=this._config).title&&(e.title.visible??!0);var e}setChartTitleVisibility(e){((e,t)=>{void 0!==t.title?t.title.visible=e:void 0===t.title&&(t.title=_i({text:"",visible:e,font:Di(Z)}))})(e,this._config),this.emitConfigUpdate("setChartTitleVisibility")}getDescriptionVisibility(){return Cc(this._config)}setDescriptionVisibility(e){((e,t)=>{void 0!==t.footer?t.footer.visible=e:void 0===t.footer&&e!==Cc(t)&&(t.footer=_i({text:"",visible:!0,font:Di(re)}))})(e,this._config),this.emitConfigUpdate("setDescriptionVisibility")}getTitleSymbol(){return e=this._config,e.title?.content;var e}setTitleSymbol(e){((e,t)=>{const r=Ac(t);void 0!==t.title&&void 0!==e||(t.title=_i({text:"",visible:!0,font:Di(Z),type:Z})),void 0!==e&&(t.title.content=e),t.title.content.text=r})(e,this._config),this.emitConfigUpdate("setTitleSymbol")}getDescriptionSymbol(){return e=this._config,e.footer?.content;var e}setDescriptionSymbol(e){((e,t)=>{const r=Dc(t);void 0!==t.footer&&void 0!==e||(t.footer=_i({text:"",visible:!0,font:Di(re),type:re})),void 0!==e&&(t.footer.content=e),t.footer.content.text=r})(e,this._config),this.emitConfigUpdate("setDescriptionSymbol")}getBackgroundColor(){return this._config.background}setBackgroundColor(e){(e=>{this._config.background=e})(e),this.emitConfigUpdate("setBackgroundColor")}setSeriesVisibility(e){!function(e,t){if(void 0!==t){const{seriesId:r,overlayType:i,visible:a}=e.detail;let n;switch(i){case"Mean":t.series[0].type===_&&(n=t.series[0].overlays?.mean);break;case"Median":t.series[0].type===_&&(n=t.series[0].overlays?.median);break;case"Standard Deviation":t.series[0].type===_&&(n=t.series[0].overlays?.standardDeviation);break;case"Normal Distribution":t.series[0].type===_&&(n=t.series[0].overlays?.comparisonDistribution);break;case"Trendline":t.series[0].type===T&&(n=t.series[0].overlays?.trendLine);break;default:n=t.series.find((e=>e.id===r))}void 0!==n&&(n.visible=a)}}({detail:e},this._config),this.emitConfigUpdate("setSeriesVisibility")}getSeriesId(e){return((e,t)=>t.series[e]?.id)(e,this._config)}getSeriesIndex(e){return(e=>this._config.series.findIndex((t=>t.id===e)))(e)}getSeriesLength(){return this._config.series.length??0}getChartSubType(){return $n(this._config.series)}setFetchNULLValues(e){(e=>{this._config.series.forEach((t=>{t.query&&(t.query.fetchNullValues=e)}))})(e)}getFetchNULLValues(){return this._config.series.some((e=>e.query?.fetchNullValues))}emitConfigUpdate(e){this.dispatchEvent(new CustomEvent("arcgisChartsModelConfigChange",{detail:{config:this._config,functionCalled:e}}))}async loadConfigFromLayer(e){const{layer:t,iLayer:r,config:i}=e;let a=t;if(!a&&r&&(a=await Ks(r)),a){const e=await Zs(a,!0),{objectIdField:t}=a;this.layerInfo={layer:a,layerFieldsInfo:e,objectIdField:t}}this._config=void 0!==i?await async function(e,t){let r=e;if(e){const i=qn(t);r=await async function(e,t){let r=Gr(e);return r=function(e){const t=Gr(e);return Jr(e.axes)||(t.axes=e.axes?.map((e=>{const t=e;return delete t.calculateAutomaticMaximum,delete t.calculateAutomaticMinimum,void 0!==t.title?.content.font?.style&&(t.title.content.font.style=t.title.content.font.style.toLowerCase()),t}))),t}(r),r=function(e){const t=Gr(e);return Jr(e.series)||(t.series=e.series.map(((t,r)=>{const i=t;void 0===t.id&&(i.id=`Series ${Date.now()}-${r}`);const a=Sn(e.series,r);return a!==C&&a!==D&&a!==P||"median"!==i.query?.outStatistics?.[0]?.statisticType||(i.query.outStatistics[0].statisticType=d),a===C&&void 0!==i.multipleBarType&&(i.stackedType=i.multipleBarType,delete i.multipleBarType),a===I&&void 0!==i.sliceGrouping&&(i.sliceGrouping.sliceId=Fi,void 0!==i.sliceGrouping.groupName&&(i.sliceGrouping={...i.sliceGrouping,label:i.sliceGrouping.groupName},delete i.sliceGrouping.groupName),void 0!==i.sliceGrouping.groupSliceSymbol&&(i.sliceGrouping={...i.sliceGrouping,fillSymbol:i.sliceGrouping.groupSliceSymbol},delete i.sliceGrouping.groupSliceSymbol)),i}))),t}(r),r=await async function(e,t){const r={...e};let i=t;if(!i){const t=function(e){return e&&"iLayer"in e&&e.iLayer}(e)?e.iLayer:e.dataSource?.layer;t&&(i=await Ks(t))}if(i){const t=$n(r.series),a=Sn(r.series),n=r.series&&r.series.length>0&&""===r.series[0].x.trim()||a===A&&!function(e){return"featureGauge"===e.subType}(e)||t===vn||t===un||t===mn||t===bn||t===pn||t===wn,o=a===T||t===on||t===dn||t===mn||t===bn||t===yn||t===xn||t===fn;if(r.series=await Promise.all(e.series.map((async e=>{const r={...e};if(n||(r.x=await ic({queryObject:i,fieldToMatch:e.x})),"y"in r&&o){const e=r.y;if(Array.isArray(e)){const t=await ac({fieldsList:e,queryObject:i});void 0!==t&&"y"in r&&(r.y=t)}else"y"in r&&"string"==typeof e&&(r.y=await ic({queryObject:i,fieldToMatch:e}))}if(void 0!==e.query){let{where:a,groupByFieldsForStatistics:n,outStatistics:o}=e.query;if(n=await ac({fieldsList:n,queryObject:i}),void 0!==o&&(o=await Promise.all(o.map((async e=>{const t={...e};return t.onStatisticField=await ic({queryObject:i,fieldToMatch:e.onStatisticField}),t})))),void 0!==a&&t===ln){const t=_n(e.query?.where),r=Ln({where:e.query?.where,normalize:!1,escape:!1});a=`${await ic({queryObject:i,fieldToMatch:t})}=${r}`}void 0!==r.query&&(void 0!==a&&(r.query.where=a),void 0!==n&&(r.query.groupByFieldsForStatistics=n),void 0!==o&&(r.query.outStatistics=o))}return r}))),void 0!==r.series[0]?.query){const e=r.series[0].query;let{orderByFields:t}=e;void 0!==t&&t.length>0&&(t=await dc(t,i),t.length>0&&void 0!==e.orderByFields&&(r.series[0].query.orderByFields=t))}if(void 0!==r.orderOptions?.orderByFields){let{orderByFields:e}=r.orderOptions;void 0!==e&&e.length>0&&(e=await dc(e,i),e.length>0&&(r.orderOptions.orderByFields=e))}if(a===A&&void 0!==e.axes?.[0]){const{minimumFromField:t,maximumFromField:r}=e.axes[0];if(void 0!==t){const r="string"==typeof t?t:t.onStatisticField,a=await ic({queryObject:i,fieldToMatch:r});let n=t;"string"==typeof e.axes[0].minimumFromField?n=a:"object"==typeof t&&(n={...t,onStatisticField:a}),e.axes[0].minimumFromField=n}if(void 0!==r){const t="string"==typeof r?r:r.onStatisticField,a=await ic({queryObject:i,fieldToMatch:t});let n=r;"string"==typeof e.axes[0].maximumFromField?n=a:"object"==typeof r&&(n={...r,onStatisticField:a}),e.axes[0].maximumFromField=n}}}return r}(r,t),r=function(e){const t=Gr(e);if(!Jr(e.series)&&Sn(e.series)===L){const r=t.series[0];void 0!==r.showOutliers&&(void 0===e.showOutliers&&(t.showOutliers=r.showOutliers),delete r.showOutliers),void 0!==r.standardizeValues&&(void 0===e.standardizeValues&&(t.standardizeValues=r.standardizeValues),delete r.standardizeValues),void 0!==r.showMean&&(void 0===e.showMean&&(t.showMean=r.showMean),delete r.showMean)}return t}(r),r=function(e){const t=Gr(e);if(!Jr(t.series)&&Sn(e.series)===L){if(void 0===t.orderOptions?.data){const r=function(e){const t={orderType:Y,orderBy:N},r=e.query?.orderByFields?.[0];if(void 0!==r){const{outStatisticFieldName:i,statisticType:a}=e.query?.outStatistics?.[0]??{},n=On(r);void 0!==i&&n.fieldToSort===i&&void 0!==a&&(a===u||"mean"===a?t.orderType=U:a===d&&(t.orderType=X)),t.orderBy=n.orderBy??N}return t}(e.series[0]);void 0!==r.orderType&&(t.orderOptions??={},t.orderOptions.data={orderType:r.orderType,orderBy:r.orderBy})}if(t.series=e.series.map((e=>{const t=e;return Jr(t.x?.trim())&&(t.x=ki),delete t.query?.orderByFields,t})),function(e){let t=!1;const r=Array.from(new Set(e.series.map((e=>e.type))));if(2===r.length&&r.includes(L)&&r.includes(D)){const r=e.series.find((e=>e.type===D));t=void 0!==r?.query?.outStatistics?.[0]}return t}(t)){t.showMean=!0;const e=t.series.find((e=>e.type===L));t.series.forEach((t=>{t.type===D&&(delete t.query?.groupByFieldsForStatistics,delete t.query?.outStatistics,delete t.query?.orderByFields,e&&(t.y=e.y))}))}t.series=e.series.map((e=>{const t=e;return delete t.query?.outStatistics,t}))}return t}(r),r=function(e){const t=Gr(e);return void 0===t.legend||Number.isFinite(t.legend.maxHeight)||(t.legend.maxHeight=Number.NaN),t}(r),r=function(e){const t=Gr(e),r=new Set;return r.add(t.id??""),t.series.forEach((e=>{let t=e.id;r.has(t)&&(t=`${t}_${Date.now()}`,e.id=t),r.add(t)})),t}(r),r}(e,i);const a=e.version??In,{versionStatus:n,versions:o}=function(e){let t=V,r=[];var i;if(void 0!==(i=e)&&/^([1-9]\d*|0)(\.(([1-9]\d*)|0)){2}$/u.test(i)&&void 0!==e){Tn.sort(Dn);const i=Dn(e,Tn[Tn.length-1]);if(1===i?t=z:-1===i&&(t=q),t===z||t===V)r.push(e);else{for(let t=Tn.length-2;t>=0;t-=1)if(Dn(e,Tn[t])>=0){r=Tn.slice(t,Tn.length);break}0===r.length&&r.push(In)}}else t=R,r.push(An);return{versionStatus:t,versions:r}}(a);n!==q&&n!==R||(r=Ic({versionsToConvert:o,configToUpdate:r}))}return r}(i):await this.generateDefaultConfig(),r&&(this._config.iLayer=r)}}const Lc="esriFieldTypeString",Pc="count",$c="sum",Nc="no_aggregation",Mc="esriSLS",Bc="esriSFS",Vc="category",zc="date",qc="scatterSeries",Rc="pieSeries",Gc="gaugeSeries",Uc="lineSeries",Xc="barSeries",Yc="histogramSeries",Hc="boxPlotSeries",Wc="comboLineAndBarSeries",Jc="stacked100",Kc="ASC",Zc="DESC",Qc="arcgis-charts-y-value",eu="arcgis-charts-mean",tu="arcgis-charts-median",ru="arcgis-charts-category",iu="arcgis_charts_pie_from_fields_name",au="arcgis_charts_pie_from_fields_value",nu="arcgis_charts_bar_line_from_fields_name",ou=(e,t)=>t.series?.[e]?.hideOversizedStackedLabels,su=(e,t,r)=>{void 0!==r.series?.[t]&&(r.series[t].hideOversizedStackedLabels=e)};async function cu(e){const{config:t,layer:r,xAxisField:i,splitByField:a,layerFieldsInfo:n,aggregationFields:o,aggregationType:s,fetchNullValues:c}=e,u=n.filter((e=>e.name===a)),l=u[0]?.type,d=!0!==c?`${a} IS NOT NULL`:"",f=i&&!0!==c?`${i} IS NOT NULL`:"",{where:h}=t?.dataFilters??{},v={where:Gn([h,d,f]),orderByFields:En(a)?[]:[`${a} ${Kc}`],geometry:t?.dataFilters?.geometry};let m=r;!m&&void 0!==t&&"iLayer"in t&&t.iLayer&&(m=await Ks(t.iLayer));let p="";0===o.length?p=m?.objectIdField??"":[p]=o;const y=void 0!==s?`${s}_${p}`:"";let g=await Jn({queryObject:m,category:t?.series[0].x??"",splitByField:a,queryConfig:v});if(t){const e=t?.series.map((e=>Ln({where:e.query?.where})?.toString()??"")).filter((e=>void 0!==e&&""!==e));g=function(e,t){let r;if(0===t.length)r=e;else{const i=new Map;t.forEach(((e,t)=>{i.set(e,t)})),r=e.slice().sort(((e,t)=>{const r=i.get(e),a=i.get(t);let n=0;return n=void 0===r&&void 0===a?0:void 0===r?1:void 0===a?-1:r-a,n}))}return r}(g,e)}return{categoriesArray:g,fieldName:y,splitByFieldType:l,numericalField:p}}function uu(e,t){let r=""===t;for(const i of e)if(t===i.name){r=!0;break}return r}function lu(e,t){const r=tc(e);let i=0===t.length,a=0;for(let e=0;e<t.length;e+=1){for(let n=0;n<r.length;n+=1)if(t[e]===r[n]&&(a+=1),a===t.length){i=!0;break}if(i)break}return i}function du(e,t){t.forEach((t=>{Object.getOwnPropertyNames(t.prototype).forEach((r=>{Object.defineProperty(e.prototype,r,Object.getOwnPropertyDescriptor(t.prototype,r)||Object.create(null))}))}))}async function fu(e){const{layerInfo:t,config:r,category:i}=e,{layer:a}=t,{where:n}=r?.dataFilters??{},{fetchNullValues:o}=r?.series?.[0]?.query??{},s={where:Gn([n,!0!==o?`${i} IS NOT NULL`:""]),orderByFields:[],geometry:r?.dataFilters?.geometry};let c=a;!c&&void 0!==r&&"iLayer"in r&&r.iLayer&&(c=await Ks(r.iLayer));const u=function(e){let t;if(void 0!==e){const r=qn(e);if(!Vn(r)&&!En(r?.typeIdField)){const e=rc(r,"types");void 0!==e&&(t={typeIdField:r.typeIdField??void 0,types:e})}if(!En(r?.subtypeField)){const e=zn(r),i=rc(e,"subtypes");void 0!==i&&(t={...t,subtypeField:e.subtypeField??void 0,subtypes:i})}}return t}(c),l=(await Jn({queryObject:c,category:i,queryConfig:s})).map((e=>{const r=String(e),a=function(e){const{fieldName:t,fieldValueToMatch:r,subtypeInfo:i,fieldList:a}=e;let n;if(!("string"==typeof r&&En(r)||En(t))&&(n=function(e){const{subtypeInfo:t,fieldName:r,fieldValueToMatch:i}=e;let a;const n=e=>`${e.id}`==`${i}`;return t?.subtypeField===r&&t.subtypes?a=t.subtypes.find(n)?.name:t?.typeIdField===r&&t.types&&(a=t.types.find(n)?.name),a}({subtypeInfo:i,fieldName:t,fieldValueToMatch:r}),void 0===n)){const e=function(e,t=[]){return t.find((t=>t.name===e))}(t,a);if(void 0!==i?.types){const t=i?.types;for(const i of t){const t=i.domains?.filter((t=>t.fieldName===e?.name))??[];for(const e of t)if(n=e?.codedValues?.find((e=>`${e.code}`===r))?.name,void 0!==n)break;if(void 0!==n)break}}void 0===n&&void 0!==e?.domain&&"codedValue"===e.domain.type&&(n=e.domain.codedValues?.find((e=>`${e.code}`==`${r}`))?.name)}return n}({fieldName:i,fieldValueToMatch:r,subtypeInfo:u,fieldList:t.layerFieldsInfo});return a??r}));return l}class hu extends _c{getColorMatch(){return this._config.colorMatch??!0}setColorMatch(e){(e=>{this._config.colorMatch=e})(e),this.emitConfigUpdate("setColorMatch")}}const vu=e=>e.legend?.title?.content.text??"";class mu extends _c{getLegendVisibility(){return(e=>{let t=!1;return void 0!==e.legend&&(t=e.legend.visible??!0),t})(this._config)}setLegendVisibility(e){((e,t)=>{void 0===t.legend&&(t.legend=Mi()),t.legend.visible=e})(e,this._config),this.emitConfigUpdate("setLegendVisibility")}getLegendTitleText(){return vu(this._config)}setLegendTitleText(e){((e,t)=>{if(void 0!==t.legend?.title)t.legend.title.content.text=e;else if(void 0===t.legend&&void 0!==e){const r=Mi();void 0!==r.title&&(r.title.content.text=e,r.title.visible=!0,t.legend=r)}})(e,this._config),this.emitConfigUpdate("setLegendTitleText")}getLegendTitleVisibility(){return e=this._config,e.legend?.title?.visible??!1;var e}setLegendTitleVisibility(e){((e,t)=>{if(void 0!==t.legend?.title)t.legend.title.visible=e;else if(void 0!==t.legend&&void 0===t.legend?.title&&e)t.legend.title=_i({text:vu(t),visible:e,font:Di(ee),type:ee});else if(void 0===t.legend){const r=Mi();r.title=_i({text:vu(t),visible:e,font:Di(ee),type:ee}),t.legend=r}})(e,this._config),this.emitConfigUpdate("setLegendTitleVisibility")}getLegendPosition(){return e=this._config,e.legend?.position??"right";var e}setLegendPosition(e){((e,t)=>{if(void 0!==t.legend)t.legend.position=e;else if(void 0===t.legend){const r=Mi();r.position=e,t.legend=r}})(e,this._config),this.emitConfigUpdate("setLegendPosition")}getLegendTitleSymbol(){return e=this._config,e.legend?.title?.content;var e}setLegendTitleSymbol(e){var t,r;t=e,void 0===(r=this._config).legend&&(r.legend=Mi()),void 0!==r.legend.title&&void 0!==t||(r.legend.title=_i({text:"",visible:!0,font:Di(ee),type:ee})),void 0!==t&&(r.legend.title.content=t),this.emitConfigUpdate("setLegendTitleSymbol")}getLegendTextSymbol(){return e=this._config,e.legend?.body;var e}setLegendTextSymbol(e){var t,r;t=e,void 0===(r=this._config).legend&&(r.legend=Mi()),r.legend.body=t??_i({text:"",visible:!0,font:Di(te),type:te}).content,this.emitConfigUpdate("setLegendTextSymbol")}}async function pu(e=mi().locale){let t=await import("./p-28273c52.js");switch(e){case ie.Arabic:t=await import("./p-36f6a2c7.js");break;case ie.Bosnian:t=await import("./p-2bfde2bf.js");break;case ie.Bulgarian:t=await import("./p-deda59da.js");break;case ie.Catalan:t=await import("./p-11b8ad5d.js");break;case ie.Czech:t=await import("./p-252dd571.js");break;case ie.Danish:t=await import("./p-a68a94b6.js");break;case ie.German:t=await import("./p-ecfddfee.js");break;case ie.Greek:t=await import("./p-58396eaa.js");break;case ie.EnglishUSA:t=await import("./p-1cac0a7e.js");break;case ie.Spanish:t=await import("./p-fa763c62.js");break;case ie.Estonian:t=await import("./p-9b2d8ac4.js");break;case ie.French:t=await import("./p-7d83c934.js");break;case ie.Finnish:t=await import("./p-7459d45e.js");break;case ie.Hebrew:t=await import("./p-0efa5f2b.js");break;case ie.Croatian:t=await import("./p-f4ad71fa.js");break;case ie.Hungarian:t=await import("./p-19fc7954.js");break;case ie.Indonesian:t=await import("./p-6368cefb.js");break;case ie.Italian:t=await import("./p-70bd4fbf.js");break;case ie.Japanese:t=await import("./p-8f4b59c3.js");break;case ie.Korean:t=await import("./p-f2ab5f9a.js");break;case ie.Lithuanian:t=await import("./p-ff09c3e5.js");break;case ie.Latvian:t=await import("./p-71824854.js");break;case ie.NorwegianBokml:t=await import("./p-f2d3846d.js");break;case ie.Dutch:t=await import("./p-fbcf41f8.js");break;case ie.Polish:t=await import("./p-cd4fedf7.js");break;case ie.PortugueseBrazil:t=await import("./p-4434c68a.js");break;case ie.PortuguesePortugal:t=await import("./p-a3335dd2.js");break;case ie.Romanian:t=await import("./p-07f58639.js");break;case ie.Russian:t=await import("./p-661c88c8.js");break;case ie.Serbian:t=await import("./p-00881848.js");break;case ie.Slovak:t=await import("./p-81a01988.js");break;case ie.Slovenian:t=await import("./p-38ec7fec.js");break;case ie.Swedish:t=await import("./p-b446615d.js");break;case ie.Thai:t=await import("./p-241a19c2.js");break;case ie.Turkish:t=await import("./p-7c6f8c80.js");break;case ie.Ukrainian:t=await import("./p-4ba466bb.js");break;case ie.Vietnamese:t=await import("./p-de3bd703.js");break;case ie.ChineseChina:t=await import("./p-796a385a.js");break;case ie.ChineseHongKong:t=await import("./p-54583464.js");break;case ie.ChineseTaiwan:t=await import("./p-f1ec6b44.js")}return t}function yu(e,t,r){const i=e?.axes?.[t];void 0!==i?.title?i.title.content.text=r:void 0!==i&&(i.title=_i({text:r,visible:!0,font:Di(K)}))}async function gu(e){const{config:t,layerInfo:r,numericFields:i,aggregationType:a}=e;let n="";if(t){const e=function(e){let t=e?.stackedType;if(void 0===t&&void 0!==e){const r=Sn(e.series);r!==C&&r!==D&&r!==$&&r!==P||(t="sideBySide")}return t}(t)===Jc,o=await pu();if(e)n=o.axisLabels.percent;else{const e=await oa(a);if(1===i.length){const t=kn(r.layerFieldsInfo,i[0]);n=a===Nc?t:a===Pc&&i[0]===r.objectIdField?o.axisLabels.count:fi(o.axisLabels.aggregationOfFieldName,{aggregation:e,fieldName:t})}else i.length>1&&(n=a===Nc?o.axisLabels.values:fi(o.axisLabels.aggregationOfValues,{aggregation:e}))}}return n}const bu=async(e,t)=>e.axes?.[t]??(await Yi(e.type))[t],wu=(e,t,r)=>{void 0!==e.axes&&(e.axes[r]=t)},xu=(e,t,r)=>{let i=Number.NaN;return i=r?e.axes?.[t]?.maximum:e.axes?.[t]?.minimum,i??Number.NaN},Su=async(e,t,r,i)=>{const a=e?.axes?.[r];i&&void 0!==a?a.maximum=t:i||void 0===a||(a.minimum=t)},ju=async(e,t)=>{await Su(e,t,1,!0)},Fu=async(e,t)=>{await Su(e,t,1,!1)},ku=async(e,t)=>{await Su(e,t,0,!0)},Eu=async(e,t)=>{await Su(e,t,0,!1)},Ou=e=>e.axes?.[0]?.valueFormat??{type:"category",characterLimit:11},Tu=async(e,t)=>{const r=await bu(e,0);if(void 0!==r&&void 0!==t){const i={...r,valueFormat:t};wu(e,i,0)}},Iu=(e,t,r)=>{const i=e.axes?.[t];void 0!==i&&(i.integerOnlyValues=r)};var Au="object"==typeof global&&global&&global.Object===Object&&global,Du="object"==typeof self&&self&&self.Object===Object&&self,Cu=Au||Du||Function("return this")(),_u=Cu.Symbol,Lu=Object.prototype,Pu=Lu.hasOwnProperty,$u=Lu.toString,Nu=_u?_u.toStringTag:void 0,Mu=Object.prototype.toString,Bu=_u?_u.toStringTag:void 0;function Vu(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Bu&&Bu in Object(e)?function(e){var t=Pu.call(e,Nu),r=e[Nu];try{e[Nu]=void 0;var i=!0}catch(e){}var a=$u.call(e);return i&&(t?e[Nu]=r:delete e[Nu]),a}(e):function(e){return Mu.call(e)}(e)}function zu(e){return null!=e&&"object"==typeof e}var qu=Array.isArray;function Ru(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Gu(e){if(!Ru(e))return!1;var t=Vu(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var Uu,Xu=Cu["__core-js_shared__"],Yu=(Uu=/[^.]+$/.exec(Xu&&Xu.keys&&Xu.keys.IE_PROTO||""))?"Symbol(src)_1."+Uu:"",Hu=Function.prototype.toString;function Wu(e){if(null!=e){try{return Hu.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var Ju=/^\[object .+?Constructor\]$/,Ku=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Zu(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ru(e)||(t=e,Yu&&Yu in t))&&(Gu(e)?Ku:Ju).test(Wu(e));var t}(r)?r:void 0}var Qu=Zu(Cu,"WeakMap"),el=Object.create,tl=function(){function e(){}return function(t){if(!Ru(t))return{};if(el)return el(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),rl=function(){try{var e=Zu(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),il=/^(?:0|[1-9]\d*)$/;function al(e,t){var r=typeof e;return!!(t=t??9007199254740991)&&("number"==r||"symbol"!=r&&il.test(e))&&e>-1&&e%1==0&&e<t}function nl(e,t,r){"__proto__"==t&&rl?rl(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function ol(e,t){return e===t||e!=e&&t!=t}var sl=Object.prototype.hasOwnProperty;function cl(e,t,r){var i=e[t];sl.call(e,t)&&ol(i,r)&&(void 0!==r||t in e)||nl(e,t,r)}function ul(e,t,r,i){var a=!r;r||(r={});for(var n=-1,o=t.length;++n<o;){var s=t[n],c=i?i(r[s],e[s],s,r,e):void 0;void 0===c&&(c=e[s]),a?nl(r,s,c):cl(r,s,c)}return r}function ll(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function dl(e){return null!=e&&ll(e.length)&&!Gu(e)}var fl=Object.prototype;function hl(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||fl)}function vl(e){return zu(e)&&"[object Arguments]"==Vu(e)}var ml=Object.prototype,pl=ml.hasOwnProperty,yl=ml.propertyIsEnumerable,gl=vl(function(){return arguments}())?vl:function(e){return zu(e)&&pl.call(e,"callee")&&!yl.call(e,"callee")},bl="object"==typeof exports&&exports&&!exports.nodeType&&exports,wl=bl&&"object"==typeof module&&module&&!module.nodeType&&module,xl=wl&&wl.exports===bl?Cu.Buffer:void 0,Sl=(xl?xl.isBuffer:void 0)||function(){return!1},jl={};function Fl(e){return function(t){return e(t)}}jl["[object Float32Array]"]=jl["[object Float64Array]"]=jl["[object Int8Array]"]=jl["[object Int16Array]"]=jl["[object Int32Array]"]=jl["[object Uint8Array]"]=jl["[object Uint8ClampedArray]"]=jl["[object Uint16Array]"]=jl["[object Uint32Array]"]=!0,jl["[object Arguments]"]=jl["[object Array]"]=jl["[object ArrayBuffer]"]=jl["[object Boolean]"]=jl["[object DataView]"]=jl["[object Date]"]=jl["[object Error]"]=jl["[object Function]"]=jl["[object Map]"]=jl["[object Number]"]=jl["[object Object]"]=jl["[object RegExp]"]=jl["[object Set]"]=jl["[object String]"]=jl["[object WeakMap]"]=!1;var kl="object"==typeof exports&&exports&&!exports.nodeType&&exports,El=kl&&"object"==typeof module&&module&&!module.nodeType&&module,Ol=El&&El.exports===kl&&Au.process,Tl=function(){try{return El&&El.require&&El.require("util").types||Ol&&Ol.binding&&Ol.binding("util")}catch(e){}}(),Il=Tl&&Tl.isTypedArray,Al=Il?Fl(Il):function(e){return zu(e)&&ll(e.length)&&!!jl[Vu(e)]},Dl=Object.prototype.hasOwnProperty;function Cl(e,t){var r=qu(e),i=!r&&gl(e),a=!r&&!i&&Sl(e),n=!r&&!i&&!a&&Al(e),o=r||i||a||n,s=o?function(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}(e.length,String):[],c=s.length;for(var u in e)!t&&!Dl.call(e,u)||o&&("length"==u||a&&("offset"==u||"parent"==u)||n&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||al(u,c))||s.push(u);return s}function _l(e,t){return function(r){return e(t(r))}}var Ll=_l(Object.keys,Object),Pl=Object.prototype.hasOwnProperty;function $l(e){if(!hl(e))return Ll(e);var t=[];for(var r in Object(e))Pl.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Nl(e){return dl(e)?Cl(e):$l(e)}var Ml=Object.prototype.hasOwnProperty;function Bl(e){return dl(e)?Cl(e,!0):function(e){if(!Ru(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=hl(e),r=[];for(var i in e)("constructor"!=i||!t&&Ml.call(e,i))&&r.push(i);return r}(e)}var Vl=Zu(Object,"create"),zl=Object.prototype.hasOwnProperty,ql=Object.prototype.hasOwnProperty;function Rl(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function Gl(e,t){for(var r=e.length;r--;)if(ol(e[r][0],t))return r;return-1}Rl.prototype.clear=function(){this.__data__=Vl?Vl(null):{},this.size=0},Rl.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Rl.prototype.get=function(e){var t=this.__data__;if(Vl){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return zl.call(t,e)?t[e]:void 0},Rl.prototype.has=function(e){var t=this.__data__;return Vl?void 0!==t[e]:ql.call(t,e)},Rl.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Vl&&void 0===t?"__lodash_hash_undefined__":t,this};var Ul=Array.prototype.splice;function Xl(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}Xl.prototype.clear=function(){this.__data__=[],this.size=0},Xl.prototype.delete=function(e){var t=this.__data__,r=Gl(t,e);return!(r<0||(r==t.length-1?t.pop():Ul.call(t,r,1),--this.size,0))},Xl.prototype.get=function(e){var t=this.__data__,r=Gl(t,e);return r<0?void 0:t[r][1]},Xl.prototype.has=function(e){return Gl(this.__data__,e)>-1},Xl.prototype.set=function(e,t){var r=this.__data__,i=Gl(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this};var Yl=Zu(Cu,"Map");function Hl(e,t){var r,i,a=e.__data__;return("string"==(i=typeof(r=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==r:null===r)?a["string"==typeof t?"string":"hash"]:a.map}function Wl(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function Jl(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var i=arguments,a=t?t.apply(this,i):i[0],n=r.cache;if(n.has(a))return n.get(a);var o=e.apply(this,i);return r.cache=n.set(a,o)||n,o};return r.cache=new(Jl.Cache||Wl),r}function Kl(e,t){for(var r=-1,i=t.length,a=e.length;++r<i;)e[a+r]=t[r];return e}Wl.prototype.clear=function(){this.size=0,this.__data__={hash:new Rl,map:new(Yl||Xl),string:new Rl}},Wl.prototype.delete=function(e){var t=Hl(this,e).delete(e);return this.size-=t?1:0,t},Wl.prototype.get=function(e){return Hl(this,e).get(e)},Wl.prototype.has=function(e){return Hl(this,e).has(e)},Wl.prototype.set=function(e,t){var r=Hl(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this},Jl.Cache=Wl;var Zl=_l(Object.getPrototypeOf,Object);function Ql(e){var t=this.__data__=new Xl(e);this.size=t.size}Ql.prototype.clear=function(){this.__data__=new Xl,this.size=0},Ql.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Ql.prototype.get=function(e){return this.__data__.get(e)},Ql.prototype.has=function(e){return this.__data__.has(e)},Ql.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Xl){var i=r.__data__;if(!Yl||i.length<199)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new Wl(i)}return r.set(e,t),this.size=r.size,this};var ed="object"==typeof exports&&exports&&!exports.nodeType&&exports,td=ed&&"object"==typeof module&&module&&!module.nodeType&&module,rd=td&&td.exports===ed?Cu.Buffer:void 0,id=rd?rd.allocUnsafe:void 0;function ad(){return[]}var nd=Object.prototype.propertyIsEnumerable,od=Object.getOwnPropertySymbols,sd=od?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,i=null==e?0:e.length,a=0,n=[];++r<i;){var o=e[r];t(o)&&(n[a++]=o)}return n}(od(e),(function(t){return nd.call(e,t)})))}:ad,cd=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Kl(t,sd(e)),e=Zl(e);return t}:ad;function ud(e,t,r){var i=t(e);return qu(e)?i:Kl(i,r(e))}function ld(e){return ud(e,Nl,sd)}function dd(e){return ud(e,Bl,cd)}var fd=Zu(Cu,"DataView"),hd=Zu(Cu,"Promise"),vd=Zu(Cu,"Set"),md="[object Map]",pd="[object Promise]",yd="[object Set]",gd="[object WeakMap]",bd="[object DataView]",wd=Wu(fd),xd=Wu(Yl),Sd=Wu(hd),jd=Wu(vd),Fd=Wu(Qu),kd=Vu;(fd&&kd(new fd(new ArrayBuffer(1)))!=bd||Yl&&kd(new Yl)!=md||hd&&kd(hd.resolve())!=pd||vd&&kd(new vd)!=yd||Qu&&kd(new Qu)!=gd)&&(kd=function(e){var t=Vu(e),r="[object Object]"==t?e.constructor:void 0,i=r?Wu(r):"";if(i)switch(i){case wd:return bd;case xd:return md;case Sd:return pd;case jd:return yd;case Fd:return gd}return t});var Ed=kd,Od=Object.prototype.hasOwnProperty,Td=Cu.Uint8Array;function Id(e){var t=new e.constructor(e.byteLength);return new Td(t).set(new Td(e)),t}var Ad=/\w*$/,Dd=_u?_u.prototype:void 0,Cd=Dd?Dd.valueOf:void 0,_d=Tl&&Tl.isMap,Ld=_d?Fl(_d):function(e){return zu(e)&&"[object Map]"==Ed(e)},Pd=Tl&&Tl.isSet,$d=Pd?Fl(Pd):function(e){return zu(e)&&"[object Set]"==Ed(e)},Nd="[object Arguments]",Md="[object Function]",Bd="[object Object]",Vd={};function zd(e,t,r,i,a,n){var o,s=1&t,c=2&t,u=4&t;if(r&&(o=a?r(e,i,a,n):r(e)),void 0!==o)return o;if(!Ru(e))return e;var l=qu(e);if(l){if(o=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Od.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!s)return function(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}(e,o)}else{var d=Ed(e),f=d==Md||"[object GeneratorFunction]"==d;if(Sl(e))return function(e,t){if(t)return e.slice();var r=e.length,i=id?id(r):new e.constructor(r);return e.copy(i),i}(e,s);if(d==Bd||d==Nd||f&&!a){if(o=c||f?{}:function(e){return"function"!=typeof e.constructor||hl(e)?{}:tl(Zl(e))}(e),!s)return c?function(e,t){return ul(e,cd(e),t)}(e,function(e,t){return e&&ul(t,Bl(t),e)}(o,e)):function(e,t){return ul(e,sd(e),t)}(e,function(e,t){return e&&ul(t,Nl(t),e)}(o,e))}else{if(!Vd[d])return a?e:{};o=function(e,t,r){var i,a,n=e.constructor;switch(t){case"[object ArrayBuffer]":return Id(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return function(e,t){var r=t?Id(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var r=t?Id(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return(a=new(i=e).constructor(i.source,Ad.exec(i))).lastIndex=i.lastIndex,a;case"[object Symbol]":return Cd?Object(Cd.call(e)):{}}}(e,d,s)}}n||(n=new Ql);var h=n.get(e);if(h)return h;n.set(e,o),$d(e)?e.forEach((function(i){o.add(zd(i,t,r,i,e,n))})):Ld(e)&&e.forEach((function(i,a){o.set(a,zd(i,t,r,a,e,n))}));var v=l?void 0:(u?c?dd:ld:c?Bl:Nl)(e);return function(e,t){for(var r=-1,i=null==e?0:e.length;++r<i&&!1!==t(e[r],r););}(v||e,(function(i,a){v&&(i=e[a=i]),cl(o,a,zd(i,t,r,a,e,n))})),o}function qd(e){return zd(e,5)}function Rd(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Wl;++t<r;)this.add(e[t])}function Gd(e,t){for(var r=-1,i=null==e?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}function Ud(e,t,r,i,a,n){var o=1&r,s=e.length,c=t.length;if(s!=c&&!(o&&c>s))return!1;var u=n.get(e),l=n.get(t);if(u&&l)return u==t&&l==e;var d=-1,f=!0,h=2&r?new Rd:void 0;for(n.set(e,t),n.set(t,e);++d<s;){var v=e[d],m=t[d];if(i)var p=o?i(m,v,d,t,e,n):i(v,m,d,e,t,n);if(void 0!==p){if(p)continue;f=!1;break}if(h){if(!Gd(t,(function(e,t){if(!h.has(t)&&(v===e||a(v,e,r,i,n)))return h.push(t)}))){f=!1;break}}else if(v!==m&&!a(v,m,r,i,n)){f=!1;break}}return n.delete(e),n.delete(t),f}function Xd(e){var t=-1,r=Array(e.size);return e.forEach((function(e,i){r[++t]=[i,e]})),r}function Yd(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}Vd[Nd]=Vd["[object Array]"]=Vd["[object ArrayBuffer]"]=Vd["[object DataView]"]=Vd["[object Boolean]"]=Vd["[object Date]"]=Vd["[object Float32Array]"]=Vd["[object Float64Array]"]=Vd["[object Int8Array]"]=Vd["[object Int16Array]"]=Vd["[object Int32Array]"]=Vd["[object Map]"]=Vd["[object Number]"]=Vd[Bd]=Vd["[object RegExp]"]=Vd["[object Set]"]=Vd["[object String]"]=Vd["[object Symbol]"]=Vd["[object Uint8Array]"]=Vd["[object Uint8ClampedArray]"]=Vd["[object Uint16Array]"]=Vd["[object Uint32Array]"]=!0,Vd["[object Error]"]=Vd[Md]=Vd["[object WeakMap]"]=!1,Rd.prototype.add=Rd.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Rd.prototype.has=function(e){return this.__data__.has(e)};var Hd=_u?_u.prototype:void 0,Wd=Hd?Hd.valueOf:void 0,Jd=Object.prototype.hasOwnProperty,Kd="[object Arguments]",Zd="[object Array]",Qd="[object Object]",ef=Object.prototype.hasOwnProperty;function tf(e,t,r,i,a){return e===t||(null==e||null==t||!zu(e)&&!zu(t)?e!=e&&t!=t:function(e,t,r,i,a,n){var o=qu(e),s=qu(t),c=o?Zd:Ed(e),u=s?Zd:Ed(t),l=(c=c==Kd?Qd:c)==Qd,d=(u=u==Kd?Qd:u)==Qd,f=c==u;if(f&&Sl(e)){if(!Sl(t))return!1;o=!0,l=!1}if(f&&!l)return n||(n=new Ql),o||Al(e)?Ud(e,t,r,i,a,n):function(e,t,r,i,a,n,o){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!n(new Td(e),new Td(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ol(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Xd;case"[object Set]":if(s||(s=Yd),e.size!=t.size&&!(1&i))return!1;var c=o.get(e);if(c)return c==t;i|=2,o.set(e,t);var u=Ud(s(e),s(t),i,a,n,o);return o.delete(e),u;case"[object Symbol]":if(Wd)return Wd.call(e)==Wd.call(t)}return!1}(e,t,c,r,i,a,n);if(!(1&r)){var h=l&&ef.call(e,"__wrapped__"),v=d&&ef.call(t,"__wrapped__");if(h||v){var m=h?e.value():e,p=v?t.value():t;return n||(n=new Ql),a(m,p,r,i,n)}}return!!f&&(n||(n=new Ql),function(e,t,r,i,a,n){var o=1&r,s=ld(e),c=s.length;if(c!=ld(t).length&&!o)return!1;for(var u=c;u--;){var l=s[u];if(!(o?l in t:Jd.call(t,l)))return!1}var d=n.get(e),f=n.get(t);if(d&&f)return d==t&&f==e;var h=!0;n.set(e,t),n.set(t,e);for(var v=o;++u<c;){var m=e[l=s[u]],p=t[l];if(i)var y=o?i(p,m,l,t,e,n):i(m,p,l,e,t,n);if(!(void 0===y?m===p||a(m,p,r,i,n):y)){h=!1;break}v||(v="constructor"==l)}if(h&&!v){var g=e.constructor,b=t.constructor;g==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b||(h=!1)}return n.delete(e),n.delete(t),h}(e,t,r,i,a,n))}(e,t,r,i,tf,a))}var rf=Object.prototype.hasOwnProperty;function af(e){if(null==e)return!0;if(dl(e)&&(qu(e)||"string"==typeof e||"function"==typeof e.splice||Sl(e)||Al(e)||gl(e)))return!e.length;var t=Ed(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(hl(e))return!$l(e).length;for(var r in e)if(rf.call(e,r))return!1;return!0}function nf(e,t){return tf(e,t)}const of=(e,t)=>{const r=t.title?.content.text;void 0!==t.title&&void 0!==e||(t.title=_i({text:"",visible:!0,font:Di(K),type:K})),void 0!==e&&(t.title.content=e),t.title.content.text=r},sf=(e,t)=>t.axes?.[e]?.title?.content.text??"",cf=(e,t,r)=>{const i=r.axes?.[t];void 0!==i?.title?i.title.content.text=e:void 0!==i&&void 0===i?.title&&(i.title=_i({text:e,visible:!0,font:Di(K)}))},uf=(e,t)=>t.axes?.[e]?.title?.visible??!1,lf=(e,t,r)=>{const i=r.axes?.[t];void 0!==i?.title?i.title.visible=e:void 0!==i&&void 0===i?.title&&(i.title=_i({text:sf(t,r),visible:e,font:Di(K)}))};class df extends _c{getXAxisTitleText(){return sf(0,this._config)}setXAxisTitleText(e){cf(e,0,this._config),this.emitConfigUpdate("setXAxisTitleText")}getXAxisTitleVisibility(){return uf(0,this._config)}setXAxisTitleVisibility(e){lf(e,0,this._config),this.emitConfigUpdate("setXAxisTitleVisibility")}getMaxXBound(){return xu(this._config,0,!0)}async setMaxXBound(e){await ku(this._config,e),this.emitConfigUpdate("setMaxXBound")}getMinXBound(){return xu(this._config,0,!1)}async setMinXBound(e){await Eu(this._config,e),this.emitConfigUpdate("setMinXBound")}getXAxisTitleSymbol(){return e=this._config,e.axes?.[0]?.title?.content;var e}setXAxisTitleSymbol(e){var t,r;t=e,r=this._config,void 0!==r.axes?.[0]&&of(t,r.axes[0]),this.emitConfigUpdate("setXAxisTitleSymbol")}getAxisLabelsSymbol(){return(e=>{for(const t of e.axes??[])if(void 0!==t?.labels)return t.labels.content})(this._config)}setAxisLabelsSymbol(e){((e,t)=>{for(const r of t.axes??[])if(void 0!==r){const t=r.labels?.content.text;void 0===e?r.labels=_i({text:"",visible:!0,font:Di(W),type:W}):r.labels.content=qd(e),r.labels.content.text=t}})(e,this._config),this.emitConfigUpdate("setAxisLabelsSymbol")}getAxisLinesSymbol(){return(e=>{for(const t of e.axes??[])if(void 0!==t?.lineSymbol)return t.lineSymbol})(this._config)}setAxisLinesSymbol(e){((e,t)=>{for(const r of t.axes??[])void 0!==r&&(r.lineSymbol=qd(e)??Li())})(e,this._config),this.emitConfigUpdate("setAxisLinesSymbol")}}class ff extends df{getYAxisTitleText(){return sf(1,this._config)}setYAxisTitleText(e){cf(e,1,this._config),this.emitConfigUpdate("setYAxisTitleText")}getYAxisTitleVisibility(){return uf(1,this._config)}setYAxisTitleVisibility(e){lf(e,1,this._config),this.emitConfigUpdate("setYAxisTitleVisibility")}getMaxYBound(){return xu(this._config,1,!0)}async setMaxYBound(e){await ju(this._config,e),this.emitConfigUpdate("setMaxYBound")}getMinYBound(){return xu(this._config,1,!1)}async setMinYBound(e){await Fu(this._config,e),this.emitConfigUpdate("setMinYBound")}getXAxisValueFormat(){return Ou(this._config)}async setXAxisValueFormat(e){await Tu(this._config,e),this.emitConfigUpdate("setXAxisValueFormat")}getYAxisValueFormat(){return(e=>{let t;return function(e){return void 0!==e&&e.type===O}(e.axes?.[1]?.valueFormat)&&(t=e.axes?.[1]?.valueFormat),t})(this._config)}async setYAxisValueFormat(e){await(async(e,t)=>{const r=await bu(e,1);if(void 0!==r&&void 0!==t){const i={...r,valueFormat:t};wu(e,i,1)}})(this._config,e),this.emitConfigUpdate("setYAxisValueFormat")}getXLogarithmic(){return e=this._config,e.axes?.[0].isLogarithmic??!1;var e}async setXLogarithmic(e){await(async(e,t)=>{void 0!==e.axes?.[0]&&(e.axes[0].isLogarithmic=t,await ku(e,null),await Eu(e,null))})(this._config,e),this.emitConfigUpdate("setXLogarithmic")}getYLogarithmic(){return e=this._config,e.axes?.[1]?.isLogarithmic??!1;var e}async setYLogarithmic(e){await(async(e,t)=>{void 0!==e.axes?.[1]&&(e.axes[1].isLogarithmic=t,await ju(e,null),await Fu(e,null))})(this._config,e),this.emitConfigUpdate("setYLogarithmic")}getXAxisScrollbar(){return e=this._config,e.axes?.[0]?.scrollbar;var e}setXAxisScrollbar(e){((e,t)=>{void 0!==e.axes?.[0]&&(e.axes[0].scrollbar=t)})(this._config,e),this.emitConfigUpdate("setXAxisScrollbar")}getYAxisScrollbar(){return e=this._config,e.axes?.[1]?.scrollbar;var e}setYAxisScrollbar(e){((e,t)=>{void 0!==e.axes?.[1]&&(e.axes[1].scrollbar=t)})(this._config,e),this.emitConfigUpdate("setYAxisScrollbar")}getYAxisTitleSymbol(){return e=this._config,e.axes?.[1]?.title?.content;var e}setYAxisTitleSymbol(e){((e,t)=>{void 0!==t.axes?.[1]&&of(e,t.axes[1])})(e,this._config),this.emitConfigUpdate("setYAxisTitleSymbol")}getGridLinesSymbol(){return(e=>{for(const t of e.axes??[])if(void 0!==t?.grid)return t.grid})(this._config)}setGridLinesSymbol(e){((e,t)=>{for(const r of t.axes??[])void 0!==r&&(r.grid=qd(e))})(e,this._config),this.emitConfigUpdate("setGridLinesSymbol")}}du(ff,[df]);class hf extends _c{getRotatedState(){return jn(this._config)}setRotatedState(e){this._config=function(e,t){let r;return void 0!==t&&(r={...t,rotated:e}),r}(e,this._config)??this._config,this.emitConfigUpdate("setRotatedState")}}class vf extends _c{getDataLabelsVisibility(){return e=this._config,e.series[0]?.dataLabels?.visible??!1;var e}setDataLabelsVisibility(e){(e=>{this._config.series.forEach((t=>{void 0!==t.dataLabels?t.dataLabels.visible=e:t.dataLabels=_i({text:"",visible:e,font:Di(Q),type:Q})}))})(e),this.emitConfigUpdate("setDataLabelsVisibility")}getDataLabelsSymbol(){return(e=>{for(const t of e.series)if(void 0!==t.dataLabels)return t.dataLabels.content})(this._config)}setDataLabelsSymbol(e){((e,t)=>{for(const r of t.series)void 0!==r.dataLabels&&void 0!==e||(r.dataLabels=_i({text:"",visible:!0,font:Di(Q),type:Q})),void 0!==e&&(r.dataLabels.content=qd(e))})(e,this._config),this.emitConfigUpdate("setDataLabelsSymbol")}}const mf={xAxisAsc:"xAxisAsc",xAxisDesc:"xAxisDesc",yAxisAsc:"yAxisAsc",yAxisDesc:"yAxisDesc",customSort:"customSort"},pf={xAxisAsc:"xAxisAsc",xAxisDesc:"xAxisDesc",meanAsc:"meanAsc",meanDesc:"meanDesc",medianAsc:"medianAsc",medianDesc:"medianDesc",customSort:"customSort"},yf={labelAsc:"labelAsc",labelDesc:"labelDesc",valueAsc:"valueAsc",valueDesc:"valueDesc",customSort:"customSort"},gf={Category:"category",Fields:"fields"},bf={Value:"value",Percentage:"percentage",Both:"both"},wf={TextElements:"textElements",XAxisTitle:"xAxisTitle",YAxisTitle:"yAxisTitle",AxisLabels:"axisLabels",GuideLabels:"guideLabels",Title:"title",LegendText:"legendText",LegendTitle:"legendTitle",Description:"description",DataLabels:"dataLabels",Background:"background",LeaderLines:"leaderLines",AxisLines:"axisLines",GridLines:"gridLines"},xf={AxisLines:"axisLines",GridLines:"gridLines",LeaderLines:"leaderLines"},Sf={Background:"background"},jf={X:"x",Y:"y"};function Ff(e){return{...e,axis:e.orientation===jf.X?e.config.axes?.[0]:e.config.axes?.[1],index:e.index??0,orientation:e.orientation??jf.Y}}const kf=e=>{const t=function(e,t){const r=null!==e?e.toString():null,i=null!=t?t.toString():null;return null!==i&&i!==r?S:w}(e.start,e.end);!function(e){return e?.type===w}(e.style)||t!==Bc?function(e){return e?.type===S}(e.style)&&t===Mc&&(e.style={type:Mc,color:e.style.color}):e.style={type:Bc,color:e.style.color}},Ef=e=>{const{config:t,name:r,index:i,orientation:a}=e,n=a===jf.X?t.axes?.[0]:t.axes?.[1];if(void 0!==n){n.guides=n.guides??[];const e={type:"chartGuide",name:r,start:n.valueFormat.type===zc?"":0,style:Li()};void 0!==i&&i<n.guides.length?n.guides.splice(i,0,e):n.guides.push(e)}},Of=e=>{const{config:t,index:r,orientation:i}=e,a=i===jf.X?t.axes?.[0]:t.axes?.[1];void 0!==a?.guides&&(void 0!==r&&r<a.guides.length?a.guides.splice(r,1):a.guides.pop())};class Tf extends _c{getGuideLabelsSymbol(){return(e=>{for(const t of e.axes??[])for(const e of t?.guides??[])if(void 0!==e.label)return e.label})(this._config)}setGuideLabelsSymbol(e){((e,t)=>{for(const r of t.axes??[])for(const t of r?.guides??[]){const r=t.label?.text??"";t.label=qd(e),void 0!==t.label&&(t.label.text=r)}})(e,this._config),this.emitConfigUpdate("setGuideLabels")}getGuideVisibility(e,t){return(e=>{const{axis:t,index:r}=Ff(e);return t?.guides?.[r]?.visible??!0})({config:this._config,index:e,orientation:t})}setGuideVisibility(e,t,r){(e=>{const{visible:t,axis:r,index:i}=Ff(e);void 0!==r?.guides?.[i]&&(r.guides[i].visible=t)})({visible:e,config:this._config,index:t,orientation:r}),this.emitConfigUpdate("setGuideVisibility")}getGuideStart(e,t){return(e=>{const{axis:t,index:r}=Ff(e);return t?.guides?.[r]?.start??null})({config:this._config,index:e,orientation:t})}setGuideStart(e,t,r){(e=>{const{start:t,axis:r,index:i}=Ff(e);void 0!==r?.guides?.[i]&&(r.guides[i].start=t,kf(r.guides[i]))})({start:e,config:this._config,index:t,orientation:r}),this.emitConfigUpdate("setGuideStart")}getGuideEnd(e,t){return(e=>{const{axis:t,index:r}=Ff(e);return t?.guides?.[r]?.end})({config:this._config,index:e,orientation:t})}setGuideEnd(e,t,r){(e=>{const{end:t,axis:r,index:i}=Ff(e);void 0!==r?.guides?.[i]&&(r.guides[i].end=t,kf(r.guides[i]))})({end:e,config:this._config,index:t,orientation:r}),this.emitConfigUpdate("setGuideEnd")}getGuideName(e,t){return(e=>{const{axis:t,index:r}=Ff(e);return t?.guides?.[r]?.name})({config:this._config,index:e,orientation:t})}setGuideName(e,t,r){(e=>{const{name:t,axis:r,index:i}=Ff(e);void 0!==r?.guides?.[i]&&(r.guides[i].name=t)})({name:e,config:this._config,index:t,orientation:r}),this.emitConfigUpdate("setGuideName")}getGuideLabelText(e,t){return(e=>{const{axis:t,index:r}=Ff(e);return t?.guides?.[r]?.label?.text})({config:this._config,index:e,orientation:t})}setGuideLabelText(e,t,r){(e=>{const{labelText:t,axis:r,index:i}=Ff(e),a=r?.guides?.[i]?.label??Ci(t,Di(J),J);void 0!==r?.guides?.[i]&&(r.guides[i].label={...a,text:t})})({labelText:e,config:this._config,index:t,orientation:r}),this.emitConfigUpdate("setGuideLabelText")}getGuideAbove(e,t){return(e=>{const{axis:t,index:r}=Ff(e);return t?.guides?.[r]?.above??!1})({config:this._config,index:e,orientation:t})}setGuideAbove(e,t,r){(e=>{const{above:t,axis:r,index:i}=Ff(e);void 0!==r?.guides?.[i]&&(r.guides[i].above=t)})({above:e,config:this._config,index:t,orientation:r}),this.emitConfigUpdate("setGuideAbove")}getGuideStyle(e,t){return(e=>{const{axis:t,index:r}=Ff(e);return t?.guides?.[r]?.style})({config:this._config,index:e,orientation:t})}setGuideStyle(e,t,r){(e=>{const{style:t,axis:r,index:i}=Ff(e);void 0!==r?.guides?.[i]&&(r.guides[i].style=t)})({style:e,config:this._config,index:t,orientation:r}),this.emitConfigUpdate("setGuideStyle")}}class If extends Tf{getXGuidesLength(){return this._config.axes?.[0]?.guides?.length}addXAxisGuide(e,t){Ef({config:this._config,name:e,index:t,orientation:jf.X}),this.emitConfigUpdate("addXAxisGuide")}deleteXAxisGuide(e){Of({config:this._config,index:e,orientation:jf.X}),this.emitConfigUpdate("deleteXAxisGuide")}}du(If,[Tf]);class Af extends Tf{getYGuidesLength(){return this._config.axes?.[1]?.guides?.length}addYAxisGuide(e,t){Ef({config:this._config,name:e,index:t,orientation:jf.Y}),this.emitConfigUpdate("addYAxisGuide")}deleteYAxisGuide(e){Of({config:this._config,index:e,orientation:jf.Y}),this.emitConfigUpdate("deleteYAxisGuide")}}du(Af,[Tf]);const Df=e=>"timeIntervalSize"in e.series[0]?e.series[0].timeIntervalSize:void 0,Cf=e=>"timeIntervalUnits"in e.series[0]?e.series[0].timeIntervalUnits:void 0,_f=e=>"timeAggregationType"in e.series[0]?e.series[0].timeAggregationType:void 0,Lf=e=>"trimIncompleteTimeInterval"in e.series[0]?e.series[0].trimIncompleteTimeInterval:void 0,Pf=e=>"nullPolicy"in e.series[0]?e.series[0].nullPolicy:void 0,$f=(e,t)=>{t?.series?.forEach((t=>{t.type!==Xc&&t.type!==Uc||(t.timeIntervalSize=e)})),Fu(t,null),ju(t,null)},Nf=(e,t)=>{t?.series?.forEach((t=>{t.type!==Xc&&t.type!==Uc||(t.nullPolicy=e)})),Fu(t,null),ju(t,null)};class Mf extends _c{getTimeIntervalSize(){return Df(this._config)}setTimeIntervalSize(e){$f(e,this._config),this.emitConfigUpdate("setTimeIntervalSize")}getTimeIntervalUnits(){return Cf(this._config)}setTimeIntervalUnits(e){((e,t)=>{t.series?.forEach((t=>{t.type!==Xc&&t.type!==Uc||(t.timeIntervalUnits=e)})),Fu(t,null),ju(t,null)})(e,this._config),this.emitConfigUpdate("setTimeIntervalUnits")}getTimeAggregationType(){return _f(this._config)}setTimeAggregationType(e){((e,t)=>{t.series?.forEach((t=>{t.type!==Xc&&t.type!==Uc||(t.timeAggregationType=e)})),Fu(t,null),ju(t,null)})(e,this._config),this.emitConfigUpdate("setTimeAggregationType")}getTrimIncompleteTimeInterval(){return Lf(this._config)}setTrimIncompleteTimeInterval(e){((e,t)=>{t.series?.forEach((t=>{t.type!==Xc&&t.type!==Uc||(t.trimIncompleteTimeInterval=e)})),Fu(t,null),ju(t,null)})(e,this._config),this.emitConfigUpdate("setTrimIncompleteTimeInterval")}getNullPolicy(){return Pf(this._config)}setNullPolicy(e){Nf(e,this._config),this.emitConfigUpdate("setNullPolicy")}resetTimeInterval(){$f(0,this._config),this.emitConfigUpdate("resetTimeInterval")}}const Bf=e=>{let t=[];const r=e.orderOptions?.data?.orderType;return(e=>{const t=Sn(e.series);let r=!1;return t!==Xc&&t!==Uc||(r=(e=>{let t=mf.xAxisAsc;const r=e.orderOptions?.data?.orderType??ru,i=e.orderOptions?.data?.orderBy??Kc;return t=r===ru&&Array.isArray(i)?mf.customSort:r===ru?i===Kc?mf.xAxisAsc:mf.xAxisDesc:i===Kc?mf.yAxisAsc:mf.yAxisDesc,t})(e)===mf.customSort),r})(e)&&r===ru&&(t=e.orderOptions?.data?.orderBy),t},Vf=(e,t,r)=>{let i=ru,a=Kc;const n=Sn(t.series);t.orderOptions??={},e===mf.customSort&&void 0!==r?(a=[...r],t.orderOptions.data={orderType:i,orderBy:a}):n!==Xc&&n!==Uc||(i=e===mf.xAxisAsc||e===mf.xAxisDesc?ru:Qc,a=e===mf.xAxisAsc||e===mf.yAxisAsc?Kc:Zc,t.orderOptions.data={orderType:i,orderBy:a})},zf=e=>e?.series?.[0]?.x??"";async function qf(e){const{seriesIndex:t,config:r,layerInfo:i}=e,{objectIdField:a}=i??{};let n;const o=r.series[t??0];let s=!1;s=void 0===o?r.series.slice(0,t).every((e=>sc(e))):sc(o),n=s?await Ji({seriesIndex:t,objectIDField:a}):await Zi({seriesIndex:t,objectIDField:a});const c=zf(r),u=r.series[0]?.dataLabels?.visible??!1,l={...n,x:c,y:"",dataLabels:{...n?.dataLabels,visible:u},rotated:jn(r)},d=Uf(r);if(l.query={groupByFieldsForStatistics:[c]},d!==Nc&&void 0!==a){const e=`${d}_${a}_0`.toUpperCase();l.y=e,l.query.outStatistics=[{statisticType:d,onStatisticField:a,outStatisticFieldName:e}]}if(sc(l)){let e;void 0!==r?.series?.[0]&&(e=$n(r.series)),e!==on&&e!==dn&&(l.timeIntervalSize=Df(r),l.timeIntervalUnits=Cf(r),l.timeAggregationType=_f(r),l.trimIncompleteTimeInterval=Lf(r),l.nullPolicy=Pf(r))}return qd(l)}async function Rf(e,t){const{layerFieldsInfo:r,objectIdField:i}=t,a=zf(e),n=$n(e.series),o=Yf(e),s=Uf(e),c=Xf(e),u=0===o.length||o.includes(i),l=await oa(s),d=u?"":o.map((e=>kn(r??[],e))).join(", "),f=kn(r??[],a),h=kn(r??[],c),v=e.series.some((e=>cc(e))),m=v?"category":"xAxisField",p=f;let y="";const g=await pu();if(n===un)y=fi(g.titleLabels.aggrTypeOfAggrFields,{aggregationType:l,aggregationFields:d});else if(s===Nc){const e=u?i:d;y=""===c?fi(g.titleLabels[v?"aggrTypeCategory":"aggrTypeXAxisField"],{aggregationType:e,[m]:p}):fi(g.titleLabels[v?"aggrTypeCategoryBySplitBy":"aggrTypeXAxisFieldBySplitBy"],{aggregationType:e,[m]:p,splitByField:h})}else s===Pc?y=""===c?fi(g.titleLabels[v?"aggrTypeCategory":"aggrTypeXAxisField"],{aggregationType:l,[m]:p}):fi(g.titleLabels[v?"aggrTypeCategoryBySplitBy":"aggrTypeXAxisFieldBySplitBy"],{aggregationType:l,[m]:p,splitByField:h}):""!==c?y=fi(g.titleLabels[v?"aggrTypeOfAggrFieldByCategoryBySplitByField":"aggrTypeOfAggrFieldByXAxisFieldBySplitByField"],{aggregationType:l,aggregationField:d,[m]:p,splitByField:h}):o.length>0&&(y=fi(g.titleLabels[v?"aggrTypeOfAggrFieldsByCategory":"aggrTypeOfAggrFieldsByXAxisField"],{aggregationType:l,aggregationFields:d,[m]:p}));return y}const Gf=e=>Ln({where:e.query?.where,normalize:!1,escape:!1})??"",Uf=e=>e?.series?.[0]?.query?.outStatistics?.[0]?.statisticType??Nc,Xf=Jl((e=>{const t=e?.series?.[0]?.query?.where?.split("=")[0].trim()??"";return Pn(e?.series?.[0]?.query?.where)?"":t}),(e=>e?.series?.[0]?.query?.where)),Yf=Jl((e=>{let t=[];if(""===Xf(e))t=e?.series.map((e=>{const t=e.query?.outStatistics?.map((e=>e.onStatisticField))??[];return t?.length>0?t:e.y})).flat()??[];else{const r=e?.series?.[0],i=r?.query?.outStatistics?.[0]?.onStatisticField??[r?.y].flat()[0];t=void 0!==i?[i]:[]}return[...new Set(t.filter((e=>""!==e)))]}),(e=>e?.series)),Hf=async(e,t,r)=>{const{objectIdField:i}=r;let a=Uf(t);0===e.length?(e.push(i),a=Pc):a===Pc&&e.length>=1&&!e.includes(i)&&(a=$c);const n=Xf(t);await Zf({splitByField:n,numericFields:e,aggregationType:a,config:t,layerInfo:r}),yu(t,1,await gu({config:t,layerInfo:r,numericFields:Yf(t),aggregationType:Uf(t)})),t.title&&(t.title.content.text=await Rf(t,r)),await Fu(t,null),await ju(t,null),Wf(t,r)};function Wf(e,t){let r=!1;const i=Uf(e),a=Yf(e);if(i===Pc?r=!0:i===Nc&&(r=a.every((e=>{const r=t.layerFieldsInfo.find((t=>t.name===e));return void 0!==r&&Qs(r)}))),Iu(e,1,r),e.series.some((e=>sc(e)))){const r=zf(e),i=t.layerFieldsInfo.find((e=>e.name===r)),a=void 0!==i&&Qs(i);Iu(e,0,a)}}const Jf=e=>{let t=mf.xAxisAsc;const r=e.orderOptions?.data?.orderType??ru,i=e.orderOptions?.data?.orderBy??Kc;return t=r===ru&&Array.isArray(i)?mf.customSort:r===ru?i===Kc?mf.xAxisAsc:mf.xAxisDesc:i===Kc?mf.yAxisAsc:mf.yAxisDesc,t};async function Kf(e){const{numericFields:t,aggregationType:r,config:i,layerInfo:a}=e,{layerFieldsInfo:n,objectIdField:o}=a,s=[];let c=!1;const u=t.map(((e,t)=>`${r}_${e}_${t}`.toUpperCase()));for(let e=0;e<t.length;e+=1){const l=await qf({config:i,layerInfo:a,seriesIndex:e}),d=u[e].toUpperCase(),f=t[e];let h={...l,query:{...l.query}};f!==o&&(h={...h,id:f,name:kn(n,f)});let v=f;void 0!==h.query&&(r!==Nc?(v=d,h.query.outStatistics=[{...l.query?.outStatistics?.[0]??{},onStatisticField:f,outStatisticFieldName:d,statisticType:r}]):delete h.query.outStatistics),h.y=v;const m=i.series.find((e=>e.query?.outStatistics?.[0]?.onStatisticField===f&&void 0===e.query.where));if(void 0!==m&&"string"==typeof m.y&&""!==m.y.trim()){i.colorMatch||(cc(h)&&cc(m)?h.fillSymbol=m.fillSymbol:sc(h)&&sc(m)&&(h.lineSymbol=m.lineSymbol,h.markerSymbol=m.markerSymbol),c=!0);const t=await qf({config:i,layerInfo:a,seriesIndex:e});h.id=m.id,m.id!==t.id&&m.name!==t.name&&(h.id=m.id,h.name=m.name)}s.push(h)}return 1!==i.series.length||1!==s.length||i.colorMatch||(cc(i.series[0])&&cc(s[0])?s[0].fillSymbol=i.series[0].fillSymbol:sc(i.series[0])&&sc(s[0])&&(s[0].lineSymbol=i.series[0].lineSymbol,s[0].markerSymbol=i.series[0].markerSymbol),c=!0),i.colorMatch=!c,s}const Zf=async e=>{const{splitByField:t,numericFields:r,aggregationType:i,config:a,layerInfo:n}=e,{x:o}=a.series[0],s=Jf(a),c=$n(a.series);a.series=""===t||r.length>1?o===nu||void 0===o||""===o.trim()||c===un?await async function(e){const{numericFields:t,aggregationType:r,config:i,layerInfo:a}=e;let n=!1;const o=await qf({config:i,layerInfo:a,seriesIndex:0}),s=await pu(),c={...o,id:`series_${Date.now()}`,name:s.axisLabels.values,x:nu,y:"arcgis_charts_bar_line_from_fields_value"},u=[];for(const e of t)u.push({onStatisticField:e,outStatisticFieldName:`${e}_0`.toUpperCase(),statisticType:r});c.query={outStatistics:u};const l=i.series[0];return void 0!==l&&(c.id=l.id,i.colorMatch||(cc(l)&&cc(c)?c.fillSymbol=l.fillSymbol:sc(c)&&sc(l)&&(c.lineSymbol=l.lineSymbol,c.markerSymbol=l.markerSymbol),n=!0),c.id=l.id,l.name!==o.name&&(c.name=l.name)),1!==i.series.length||i.colorMatch||(cc(c)?c.fillSymbol=i.series[0].fillSymbol:sc(c)&&(c.lineSymbol=i.series[0].lineSymbol,c.markerSymbol=i.series[0].markerSymbol),n=!0),i.colorMatch=!n,[c]}({config:a,layerInfo:n,numericFields:r,aggregationType:i}):await Kf({config:a,layerInfo:n,numericFields:r,aggregationType:i}):await async function(e){const{splitByField:t,numericFields:r,aggregationType:i,config:a,layerInfo:n}=e,{layer:o,layerFieldsInfo:s}=n,{fetchNullValues:c}=a?.series?.[0]?.query??{},u=zf(a),l=u!==nu?u:void 0,{categoriesArray:d,fieldName:f,splitByFieldType:h,numericalField:v}=await cu({config:a,layer:o,layerFieldsInfo:s,xAxisField:l,aggregationFields:r,aggregationType:i,splitByField:t,fetchNullValues:c});let m=[],p=!1;if(0===d.length){m=await Kf({numericFields:r,aggregationType:i,config:a,layerInfo:n});for(const e of m)e.query&&(e.query.where=`${t}=''`)}else for(let e=0;e<d.length;e+=1){const r=d[e],o=`${f}_${e}`.toUpperCase(),s=await qf({config:a,layerInfo:n,seriesIndex:e}),c=`${r}`,u={...s,id:c,name:c,y:o,query:{...s.query,where:`${t}=${h===Lc&&null!==r?`'${r}'`:r}`,outStatistics:i!==Nc?[{...s.query?.outStatistics?.[0]??{},onStatisticField:v,outStatisticFieldName:o,statisticType:i}]:void 0}};i===Nc&&(void 0!==u.query&&(delete u.query.outStatistics,delete u.query.groupByFieldsForStatistics),u.y=v);const l=a.series.find((e=>String(Gf(e)).trim().replace(/'/gu,"")===c));void 0!==l&&(a.colorMatch||(cc(u)&&cc(l)?u.fillSymbol=l.fillSymbol:sc(u)&&sc(l)&&(u.lineSymbol=l.lineSymbol,u.markerSymbol=l.markerSymbol),p=!0),u.id=l.id,u.name=l.name),m.push(u)}return a.colorMatch=!p,m}({config:a,layerInfo:n,splitByField:t,numericFields:r,aggregationType:i});const u=Bf(a);Vf(s,a,u)},Qf=async(e,t,r)=>{const i=e.series?.[t],a=Xf(e);let n;const o=await pu();if($n(e.series)===un)n=o.axisLabels.values;else if(af(a)){const e=i.query?.outStatistics?.[0]?.onStatisticField;void 0!==e&&e!==r.objectIdField&&(n=kn(r.layerFieldsInfo,e))}else n=String(Gf(i)).trim().replace(/'/gu,"");return n??i.id},eh=(e,t)=>{t.orderOptions??={};const r=t.orderOptions?.data?.orderType;Jf(t)===mf.customSort&&r===ru&&(t.orderOptions.data={orderType:ru,orderBy:[...e]})},th=async(e,t)=>{const r=zf(e),i=Ou(e)?.type,a=Yf(e),n=$n(e.series);let o=[];return i===Vc&&(n===un||r===nu?o=a.map((e=>kn(t?.layerFieldsInfo,e))):""!==r.trim()&&r!==nu&&void 0!==t&&(o=await fu({layerInfo:t,config:e,category:r}))),o},rh=(e,t,r)=>{r.series?.[t]&&(r.series[t].name=e)},ih=(e,t,r)=>{const i=r.series?.[t];i&&(cc(i)?i.fillSymbol={...Ki(t),...i.fillSymbol,color:e}:sc(i)&&(i.lineSymbol={...Gi(t),...i.lineSymbol,color:e}))};class ah extends _c{getXAxisField(){return zf(this._config)}async setXAxisField(e){const t=""===e.trim();t||await(async(e,t,r)=>{const{layerFieldsInfo:i}=r??{},a=t?.series?.length??0,n=zf(t);let o;const s=t.series.some((e=>cc(e))),c=uc(t.series);if(void 0!==i){const r=ec(i);!r.includes(n)&&r.includes(e)?o={type:"date",intlOptions:{}}:r.includes(n)&&!r.includes(e)&&(o=s?{type:"category",characterLimit:11}:Pi());const a=i.find((t=>t.name===e));a?.type===Lc&&(o={type:"category",characterLimit:11}),void 0!==o&&await Tu(t,o)}if(0===a&&(t.series=[await qf({config:t,layerInfo:r})]),t.series.forEach((t=>{t.x=e,void 0!==t.query&&(t.query.groupByFieldsForStatistics=[e])})),yu(t,0,kn(i,e)),void 0!==r){yu(t,1,await gu({config:t,layerInfo:r,numericFields:Yf(t),aggregationType:Uf(t)})),t.title&&(t.title.content.text=await Rf(t,r)),Wf(t,r);const e=Yf(t);await Hf(e,t,r)}await Fu(t,null),await ju(t,null),c&&(await Eu(t,null),await ku(t,null),$f(0,t),Nf(o?.type===zc?"null":"interpolate",t))})(e,this._config,this.layerInfo);const r=Yf(this._config),i=$n(this._config.series)===un,a=r.includes(this.layerInfo?.objectIdField??"");(t||i&&a)&&(await this.resetConfig(),this.layerInfo&&r.length>0&&(1!==r.length||r[0]!==this.layerInfo?.objectIdField)&&await Hf(r,this._config,this.layerInfo)),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setXAxisField")}getAggregationType(){return Uf(this._config)}async setAggregationType(e){this.layerInfo&&(await(async(e,t,r)=>{const i=Yf(t),a=Xf(t);await Zf({splitByField:a,numericFields:i,aggregationType:e,config:t,layerInfo:r}),yu(t,1,await gu({config:t,layerInfo:r,numericFields:Yf(t),aggregationType:Uf(t)})),t.title&&(t.title.content.text=await Rf(t,r)),await Fu(t,null),await ju(t,null),Wf(t,r)})(e,this._config,this.layerInfo),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setAggregationType"))}getSplitByField(){return Xf(this._config)}async setSplitByField(e){this.layerInfo?.layerFieldsInfo&&uu(this.layerInfo?.layerFieldsInfo,e)&&(await(async(e,t,r)=>{const i=Yf(t),a=Uf(t);await Zf({splitByField:e,numericFields:i,aggregationType:a,config:t,layerInfo:r}),yu(t,1,await gu({config:t,layerInfo:r,numericFields:Yf(t),aggregationType:Uf(t)})),t.title&&(t.title.content.text=await Rf(t,r)),await Fu(t,null),await ju(t,null)})(e,this._config,this.layerInfo),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setSplitByField"))}getNumericFields(){return Yf(this._config)}async setNumericFields(e){if("string"==typeof e&&(e=[e]),lu(this.layerInfo?.layerFieldsInfo??[],e)&&this.layerInfo){await Hf(e,this._config,this.layerInfo);const t=Yf(this._config);$n(this._config.series)===un&&t.some((e=>e===this.layerInfo?.objectIdField))&&await this.resetConfig(),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setNumericFields")}}getDataFilter(){return this._config.dataFilters}async setDataFilter(e){var t,r;r=this._config,void 0!==(t=e)?r.dataFilters=t:delete r.dataFilters;const i=Jf(this._config);if(i===mf.customSort){const e=await th(this._config,this.layerInfo);Vf(i,this._config,e)}this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setDataFilter")}async getCustomSortValues(){return await th(this._config,this.layerInfo)}getSortOrder(){return Jf(this._config)}setSortOrder(e,t){Vf(e,this._config,t),this.emitConfigUpdate("setSortOrder")}getOrderByList(){return Bf(this._config)}setOrderByList(e){!nc(this._config)&&(eh(e,this._config),this.emitConfigUpdate("setOrderByList"))}async updateSeriesFromLayerFilter(){void 0!==this.layerInfo&&(await Zf({splitByField:this.getSplitByField(),numericFields:this.getNumericFields(),aggregationType:this.getAggregationType(),config:this._config,layerInfo:this.layerInfo}),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("updateSeriesFromLayerFilter"))}getSeriesName(e){return((e,t)=>t.series?.[e]?.name)(e,this._config)}setSeriesName(e,t){rh(e,t,this._config),this.emitConfigUpdate("setSeriesName")}getSeriesColor(e){return((e,t)=>{const r=t.series?.[e];let i;return cc(r)?i=r.fillSymbol?.color:sc(r)&&(i=r.lineSymbol?.color),i})(e,this._config)}setSeriesColor(e,t){ih(e,t,this._config),this.emitConfigUpdate("setSeriesColor")}getOrderOfSeries(){return this._config.series.map((e=>e.id))}setOrderOfSeries(e){var t,r;t=e,r=this._config,r.series?.sort(((e,r)=>t.findIndex((t=>e.id===t))-t.findIndex((e=>r.id===e)))),this.emitConfigUpdate("setOrderOfSeries")}getStackedType(){return this._config.stackedType??"sideBySide"}async setStackedType(e){await(async e=>{const{newStackedType:t,config:r,layerInfo:i}=e;r.stackedType=t,void 0!==i&&yu(r,1,await gu({config:r,layerInfo:i,numericFields:Yf(r),aggregationType:Uf(r)})),r.axes?.[1]&&(r.axes[1].valueFormat=t===Jc?{type:O,intlOptions:{style:"percent",minimumFractionDigits:0,maximumFractionDigits:0}}:Pi()),await Fu(r,null),await ju(r,null)})({newStackedType:e,config:this._config,layerInfo:this.layerInfo}),this.emitConfigUpdate("setStackedType")}moveSeries(e,t){const r=this.getOrderOfSeries(),[i]=r.splice(e,1);r.splice(t,0,i),this.setOrderOfSeries(r),this.emitConfigUpdate("moveSeries")}moveCustomSortValuesInOrderByList(e,t){const r=Bf(this._config),[i]=r.splice(e,1);r.splice(t,0,i),eh(r,this._config),this.emitConfigUpdate("moveCustomSortValuesInOrderByList")}async resetConfig(){const e=this._config.id;this._config=await this.generateDefaultConfig(),this._config.id=e,this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("resetConfig")}}class nh extends ah{constructor(){super(...arguments),this._chartType=Xc}async setup(e){await this.loadConfigFromLayer(e),void 0!==e.config&&await this.updateSeriesFromLayerFilter(),this.resolveSetup()}async generateDefaultConfig(){const e=await ia();return e.series=[await Zi({objectIDField:this.layerInfo?.objectIdField})],e}getSeriesHideOversizedStackedLabels(e){return ou(e,this._config)}setSeriesHideOversizedStackedLabels(e,t){su(e,t,this._config),this.emitConfigUpdate("setSeriesHideOversizedStackedLabels")}async resetSeriesStyling(){const e=this.getSeriesLength();for(let t=0;t<e;t+=1){const e=this.getSeriesId(t),r=Ti({colorIndex:t,opacity:wi});if(ih(r,t,this._config),void 0!==this.layerInfo){const r=await Qf(this._config,t,this.layerInfo);r!==this.layerInfo.objectIdField&&rh(r??e,t,this._config)}}this._config.colorMatch=!0,this.emitConfigUpdate("resetSeriesStyling")}async resetAvailable(){const e=!this.getColorMatch();let t=!1;if(!e&&void 0!==this.layerInfo){const e=this.getSeriesLength();for(let r=0;r<e;r+=1){const e=await Qf(this._config,r,this.layerInfo),i=this.getSeriesName(r);if(void 0!==e&&e!==this.layerInfo.objectIdField&&e!==i){t=!0;break}}}return e||t}}du(nh,[ff,mu,hu,hf,vf,If,Af,Mf]);const oh=(e,t,r)=>{const i=r;void 0!==i?.series?.[t]&&(i.series[t].name=e)},sh=e=>{const t=e.series[0];return!0===e.showMean&&oc(t)?t.fillSymbol?.color:void 0},ch=(e,t)=>{const r=t.series[0];!0===t.showMean&&oc(r)&&(void 0!==r.fillSymbol?r.fillSymbol.color=e:r.fillSymbol={...qi(),color:e})},uh=(e,t,r)=>{const i=r,a=i?.series?.[t];a?.type===Hc&&void 0!==a.fillSymbol?a.fillSymbol.color=e:a?.type===Uc&&void 0!==a.lineSymbol&&(a.lineSymbol.color=e,void 0!==a.markerSymbol&&(a.markerSymbol.color=e))},lh=e=>e.series.map((e=>e.id)),dh=(e,t)=>{t?.series?.sort(((t,r)=>e.findIndex((e=>t.id===e))-e.findIndex((e=>r.id===e))))},fh=e=>Cn(e)?.x??ki,hh=Jl((e=>{const t=Cn(e),r=t?.query?.where?.split("=")[0].trim()??"";return Pn(t?.query?.where)?"":r}),(e=>Cn(e)?.query?.where)),vh=Jl((e=>function(e){let t=[];const r=function(e){return e.map((e=>e.id)).filter((e=>"undefined"!==e))}(e),i=$n(e);return t=e.filter((e=>r.includes(e.id))).map((e=>{let t="y"in e?e.y:void 0;return void 0!==t&&i===dn&&(t=`${t.toString()}_${Ln({where:e.query?.where})}`),t})).filter((e=>void 0!==e)),Array.from(new Set(t.flat()))}(e?.series).filter((e=>""!==e))),(e=>e?.series)),mh=async e=>{const{category:t,seriesIndex:r,y:i}=e;return qd({...await Qi(r),x:void 0===t||""===t?ki:t,y:i,query:{}})},ph=async e=>{const{category:t,seriesIndex:r,y:i}=e;return qd({...await Ji({seriesIndex:r}),x:void 0===t||""===t?ki:t,y:i,query:{}})};async function yh(e){const{x:t,y:r,seriesTemplate:i}=e,{id:a,fillSymbol:n}=i??{},o=await Qi(),s=a??`series_${Date.now()}`;return o.id=s,o.name=s,o.x=t,o.y=[...r],n?o.fillSymbol=n:o.fillSymbol&&(o.fillSymbol.color=sa,o.fillSymbol?.outline&&(o.fillSymbol.outline.color=sa)),o}async function gh(e){const{numericFields:t,config:r,layerInfo:i,category:a}=e,{layerFieldsInfo:n}=i,o=[],s=a??fh(r);let c=!1;if(0===t.length){const e=await mh({y:"",seriesIndex:0,category:s});o.push(e)}else if(s===ki){const e=await pu(),a=t.length>1?t:t[0],n=await mh({y:a,seriesIndex:0,category:s}),u=t.length>1?e.axisLabels.values:kn(i.layerFieldsInfo,t[0]),l={...n,id:t[0],name:u,x:s},d=r.series.find((e=>nf(a,e.y)&&void 0===e.query?.where));void 0!==d&&(!r.colorMatch&&"fillSymbol"in d&&(l.fillSymbol=d.fillSymbol,c=!0),l.id=d.id,l.name=d.name),o.push(l)}else for(let e=0;e<t.length;e+=1){const i=t[e],a=await mh({y:i,seriesIndex:e,category:s}),u=kn(n,i),l={...a,id:i,name:u,x:s},d=r.series.find((e=>i===e.y));void 0!==d&&(!r.colorMatch&&"fillSymbol"in d&&(l.fillSymbol=d.fillSymbol,c=!0),l.id=d.id,l.name=d.name),o.push(l)}return 1===r.series.length&&1===o.length&&!r.colorMatch&&"fillSymbol"in r.series[0]&&(o[0].fillSymbol=r.series[0].fillSymbol,c=!0),r.colorMatch=!c,o}const bh=e=>e?.query?.where?.split("=")[1].trim().replace(/'/gu,"")??"";function wh(e){const{formerSeries:t,newSeries:r,showMean:i}=e;let a=r;const n=e=>e.type===(i?Uc:Hc),o=t.filter(n).map((e=>e.id)),s=r.filter(n).map((e=>e.id));return o.length===s.length&&JSON.stringify(o)!==JSON.stringify(s)&&(a=a.sort(((e,t)=>o.findIndex((t=>t===e.id))-o.findIndex((e=>e===t.id))))),a}const xh=async e=>{const{splitByField:t,numericFields:r,category:i,config:a,layerInfo:n}=e,o=!(r.length>1&&i!==ki)&&""!==t;Ih(!!o&&a.showMean,a),a.series=o?await async function(e){const{config:t,layerInfo:r,splitByField:i,numericFields:a,category:n}=e,{layer:o,layerFieldsInfo:s}=r,{fetchNullValues:c}=Cn(t)?.query??{},u=n??fh(t),{categoriesArray:l,splitByFieldType:d}=await cu({config:t,layer:o,layerFieldsInfo:s,xAxisField:u!==ki?u:void 0,aggregationFields:a,splitByField:i,fetchNullValues:c});let f=[],h=!1;const v=(e=>e.series.some((e=>e.type===Uc))&&e.series.some((e=>e.type===Hc)))(t);if(0===l.length){f=await gh({numericFields:a,category:u,config:t,layerInfo:r});for(const e of f)e.query&&(e.query.where=`${i}=''`)}else for(let e=0;e<l.length;e+=1){const r=l[e],n={y:a,seriesIndex:e,category:u},o=v?await ph(n):await mh(n),s=`${r}`,c={...o,id:s,name:s,x:void 0===u||""===u?ki:u,query:{...o.query,where:`${i}=${d===Lc&&null!==r?`'${r}'`:r}`}},m=t.series.find((e=>bh(e)===s));void 0!==m&&(t.colorMatch||(c.type===Hc?c.fillSymbol=oc(m)?m.fillSymbol:{...qi(),color:m.lineSymbol?.color}:oc(m)?(c.lineSymbol={...Li({width:2}),...void 0!==m.fillSymbol?{color:m.fillSymbol.color}:{}},c.markerSymbol={...Ri(),...void 0!==m.fillSymbol?{color:m.fillSymbol.color}:{}}):(c.lineSymbol=m.lineSymbol,c.markerSymbol=m.markerSymbol),h=!0),c.id=m.id,c.name=m.name),f.push(c)}if(f=wh({formerSeries:t.series,newSeries:f,showMean:Th(t)}),t.colorMatch=!h,Th(t)){const e=t.series.find((e=>e.type===Hc)),r=await yh({x:u,y:a,seriesTemplate:e});f.unshift(r)}return f}({config:a,layerInfo:n,splitByField:t,numericFields:r,category:i}):await gh({numericFields:r,config:a,layerInfo:n,category:i})},Sh=e=>e?.standardizeValues??!1;async function jh(e,t){const{layerFieldsInfo:r}=t,i=Sh(e),a=await pu();let n=i?a.axisLabels.standardizedValues:a.axisLabels.values,o=e?.series?.map((e=>e.y)).flat();return o=[...new Set(o)],1===o.length&&(n=kn(r,o[0])),n}async function Fh(e,t){const{layerFieldsInfo:r}=t,i=fh(e),a=vh(e),n=hh(e),o=a.map((e=>kn(r??[],e))).join(", "),s=kn(r??[],i);let c="";const u=await pu();return a.length>0&&(c=i!==ki&&""!==n?fi(u.titleLabels.distributionOfFieldsByCategoryAndSplitBy,{valueFields:o,category:s,splitByField:n}):i!==ki?fi(u.titleLabels.distributionOfFieldsByCategory,{valueFields:o,category:s}):""!==n?fi(u.titleLabels.distributionOfFieldsByCategory,{valueFields:o,category:n}):fi(u.titleLabels.distributionOfField,{valueField:o})),c}const kh=(e,t,r,i)=>{let a="string"==typeof e.y?kn(r.layerFieldsInfo,e.y):i.axisLabels.values;return af(t)||(a=bh(e)),a??e.id},Eh=e=>{let t=pf.xAxisAsc;const r=e.orderOptions?.data?.orderType??ru,i=e.orderOptions?.data?.orderBy??Kc;switch(r){case ru:t=Array.isArray(i)?pf.customSort:i===Kc?pf.xAxisAsc:pf.xAxisDesc;break;case eu:t=i===Kc?pf.meanAsc:pf.meanDesc;break;case tu:t=i===Kc?pf.medianAsc:pf.medianDesc}return t},Oh=(e,t,r)=>{let i=ru,a=Kc;if(t.orderOptions=t.orderOptions??{},e===pf.customSort&&void 0!==r)t.orderOptions.data={orderType:ru,orderBy:r};else{switch(e){case pf.xAxisAsc:i=ru,a=Kc;break;case pf.xAxisDesc:i=ru,a=Zc;break;case pf.meanAsc:i=eu,a=Kc;break;case pf.meanDesc:i=eu,a=Zc;break;case pf.medianAsc:i=tu,a=Kc;break;case pf.medianDesc:i=tu,a=Zc}t.orderOptions.data={orderType:i,orderBy:a}}},Th=e=>e.showMean??!1,Ih=async(e=!1,t,r)=>{const i=e?r:sh(t),a=(e??!1)!==(t.showMean??!1);if(t.showMean=e,a){let r;r=e?function(e){return e.every(oc)}(t.series)?await async function(e){const t=[];return e.forEach((e=>{if(e.type===Hc){const{type:r,fillSymbol:i,...a}=e;t.push({...a,type:Uc,lineSymbol:{...Li({width:2}),...void 0!==i?{color:i.color}:{}},markerSymbol:{...Ri(),...void 0!==i?{color:i.color}:{}}})}})),t.unshift(await yh({x:e[0].x,y:e[0].y,seriesTemplate:void 0})),t}(t.series):t.series:function(e){const t=e.slice(1),r=[];return t.forEach((e=>{if(e.type===Uc){const{type:t,lineSymbol:i,markerSymbol:a,...n}=e,o=qi();r.push({...n,type:Hc,fillSymbol:{...o,color:i?.color}})}})),r}(t.series),r&&(r=wh({formerSeries:t.series,newSeries:r,showMean:e}),t.series=r)}return e&&void 0!==r&&ch(r,t),{previousMeanLinesBoxColor:i}},Ah=e=>{let t=[];const r=e.orderOptions?.data?.orderType;return Eh(e)===pf.customSort&&r===ru&&(t=e.orderOptions?.data?.orderBy),t},Dh=(e,t)=>{t.orderOptions??={};const r=t.orderOptions?.data?.orderType;Eh(t)===pf.customSort&&r===ru&&(t.orderOptions.data={orderType:ru,orderBy:e})},Ch=e=>e.lineSymbol?.style,_h=(e,t)=>{t.lineSymbol??=Gi(),t.lineSymbol.style=e},Lh=e=>e.lineSymbol?.width,Ph=(e,t)=>{t.lineSymbol??=Gi(),t.lineSymbol.width=e};class $h extends _c{constructor(){super(...arguments),this._chartType=Hc}async setup(e){await this.loadConfigFromLayer(e),this.commonStrings=await pu(),void 0!==e.config&&await this.updateSeriesFromLayerFilter(),this.resolveSetup()}getCategory(){return fh(this._config)}async setCategory(e){await(async(e,t,r)=>{const{layerFieldsInfo:i}=r,a=fh(t),n=hh(t),o=vh(t),s=ec(i);let c;!s.includes(a)&&s.includes(e)?c={type:"date",intlOptions:{}}:s.includes(a)&&!s.includes(e)&&(c={type:"category",characterLimit:11}),void 0!==c&&Tu(t,c),await xh({splitByField:n,numericFields:o,category:e,config:t,layerInfo:r}),yu(t,0,e!==ki?kn(i,e):""),yu(t,1,await jh(t,r)),void 0!==t?.title&&(t.title.content.text=await Fh(t,r)),Fu(t,null),ju(t,null)})(e,this._config,this.layerInfo),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setCategory")}async getCustomSortValues(){const e=fh(this._config),t=this.getXAxisValueFormat()?.type,r=this.getNumericFields();let i=[];return t===Vc&&(i=e===ki?r.map((e=>kn(this.layerInfo.layerFieldsInfo,e))):await fu({layerInfo:this.layerInfo,config:this._config,category:e})),i}getNumericFields(){return vh(this._config)}async setNumericFields(e){const{layerFieldsInfo:t}=this.layerInfo;"string"==typeof e&&(e=[e]),lu(t,e)?(await(async(e,t,r)=>{const i=fh(t),a=hh(t);await xh({splitByField:a,numericFields:e,category:i,config:t,layerInfo:r}),yu(t,1,await jh(t,r)),void 0!==t?.title&&(t.title.content.text=await Fh(t,r)),Fu(t,null),ju(t,null)})(e,this._config,this.layerInfo),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setNumericFields")):console.log("Invalid numericFields")}getSplitByField(){return hh(this._config)}async setSplitByField(e){uu(this.layerInfo.layerFieldsInfo,e)?(await(async(e,t,r)=>{const i=fh(t),a=vh(t);await xh({splitByField:e,numericFields:a,category:i,config:t,layerInfo:r}),yu(t,1,await jh(t,r)),void 0!==t?.title&&(t.title.content.text=await Fh(t,r)),Fu(t,null),ju(t,null)})(e,this._config,this.layerInfo),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setSplitByField")):console.log("Invalid splitByField")}getShowOutliers(){return e=this._config,e?.showOutliers??!1;var e}async setShowOutliers(e){await(async(e,t,r)=>{t.showOutliers=e,yu(t,1,await jh(t,r))})(e,this._config,this.layerInfo),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setShowOutliers")}getStandardizeValues(){return Sh(this._config)}async setStandardizeValues(e){await(async(e,t,r)=>{t.standardizeValues=e,yu(t,1,await jh(t,r))})(e,this._config,this.layerInfo),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setStandardizeValues")}getSortOrder(){return Eh(this._config)}setSortOrder(e,t){Oh(e,this._config,t),this.emitConfigUpdate("setSortOrder")}getOrderByList(){return Ah(this._config)}setOrderByList(e){Dh(e,this._config),this.emitConfigUpdate("setOrderByList")}async updateSeriesFromLayerFilter(){await xh({splitByField:this.getSplitByField(),numericFields:this.getNumericFields(),category:this.getCategory(),config:this._config,layerInfo:this.layerInfo}),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("updateSeriesFromLayerFilter")}getDataFilter(){return this._config.dataFilters}async setDataFilter(e){var t,r;r=this._config,void 0!==(t=e)?r.dataFilters=t:delete r.dataFilters;const i=Eh(this._config);if(i===pf.customSort){const e=await(async(e,t)=>{const r=fh(e),i=Ou(e)?.type,a=vh(e);let n=[];return i===Vc&&(r===ki?n=a:""!==r.trim()&&r!==ki&&(n=await fu({layerInfo:t,config:e,category:r}))),n})(this._config,this.layerInfo);Oh(i,this._config,e)}this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setDataFilter")}getShowMeanLines(){return Th(this._config)}async setShowMeanLines(e){const{previousMeanLinesBoxColor:t}=await Ih(e,this._config,this.previousMeanLinesBoxColor);this.previousMeanLinesBoxColor=t,this.emitConfigUpdate("setShowMeanLines")}getMeanLinesBoxColor(){return sh(this._config)}setMeanLinesBoxColor(e){ch(e,this._config),this.emitConfigUpdate("setMeanLinesBoxColor")}async generateDefaultConfig(){const t=await async function(t=zi()){return{version:e,type:j,id:t,rotated:!1,colorMatch:!0,orderOptions:{data:{orderType:Y,orderBy:N}},title:_i({text:await Vi(),visible:!0,font:Di(Z)}),subTitle:_i(),footer:_i({text:"",visible:!0,font:Di(re)}),background:[255,255,255,255],series:[],legend:Mi(),axes:await Yi(L),standardizeValues:!0,showOutliers:!1}}();return t.series=[await Qi()],t}getSeriesName(e){return((e,t)=>t?.series?.[e]?.name)(e,this._config)}setSeriesName(e,t){oh(e,t,this._config),this.emitConfigUpdate("setSeriesName")}getSeriesColor(e){return((e,t)=>{let r;const i=t.series?.[e];return i?.type===Hc?r=i.fillSymbol?.color:i?.type===Uc&&(r=i.lineSymbol?.color),r})(e,this._config)}setSeriesColor(e,t){uh(e,t,this._config),this.emitConfigUpdate("setSeriesColor")}getSeriesLineStyle(e){const t=this._config.series[e];return!0===this.getShowMeanLines()&&sc(t)?Ch(t):void 0}setSeriesLineStyle(e,t){const r=this._config.series[t];!0===this.getShowMeanLines()&&sc(r)&&_h(e,r),this.emitConfigUpdate("setSeriesLineStyle")}getSeriesLineWidth(e){const t=this._config.series[e];return!0===this.getShowMeanLines()&&sc(t)?Lh(t):void 0}setSeriesLineWidth(e,t){const r=this._config.series[t];!0===this.getShowMeanLines()&&sc(r)&&Ph(e,r),this.emitConfigUpdate("setSeriesLineWidth")}getOrderOfSeries(){return lh(this._config)}setOrderOfSeries(e){dh(e,this._config),this.emitConfigUpdate("setOrderOfSeries")}moveSeries(e,t){((e,t,r)=>{const i=lh(r),[a]=i.splice(e,1);i.splice(t,0,a),dh(i,r)})(e,t,this._config),this.emitConfigUpdate("moveSeries")}getBoxPlotSeriesIndexWhenMeanLinesShown(){return Th(e=this._config)?e.series.findIndex((e=>e.type===Hc)):-1;var e}moveCustomSortValuesInOrderByList(e,t){const r=Ah(this._config),[i]=r.splice(e,1);r.splice(t,0,i),Dh(r,this._config),this.emitConfigUpdate("moveCustomSortValuesInOrderByList")}resetSeriesStyling(){const e=this.getSeriesLength(),t=this.getShowMeanLines();for(let r=!0===t?1:0;r<e;r+=1){const e=this.getSeriesId(r),i=Ti({colorIndex:r,opacity:wi}),a=this._config.series[r];uh(i,r,this._config);const n=kh(a,this.getSplitByField(),this.layerInfo,this.commonStrings);oh(n??e,r,this._config),!0===t&&sc(a)&&(_h(ji,a),Ph(2,a))}!0===t&&ch(sa,this._config),this._config.colorMatch=!0,this.emitConfigUpdate("resetSeriesStyling")}resetAvailable(){const e=!this.getColorMatch(),t=this.getShowMeanLines(),r=!0===t&&this.getMeanLinesBoxColor()!==sa;let i=!1,a=!1;if(!e){const e=this.getSeriesLength();for(let r=!0===t?1:0;r<e;r+=1){const e=this._config.series[r],n=kh(e,this.getSplitByField(),this.layerInfo,this.commonStrings),o=this.getSeriesName(r);if(void 0!==n&&n!==o){i=!0;break}if(!0===t&&sc(e)){const e=this.getSeriesLineStyle(r),t=this.getSeriesLineWidth(r);if(e!==ji||2!==t){a=!0;break}}}}return e||r||i||a}}du($h,[ff,mu,hu,hf,vf,Af]);const Nh=e=>e.series[0]?.featureIndex,Mh=async(e,t,r)=>{const i=qh(t),a=Vh(t);null===e?delete t.series[0].featureIndex:void 0!==t.series[0]&&(t.series[0].featureIndex=e),await Bh({config:t,layerInfo:r,field:i,aggregationType:a})},Bh=async e=>{const{config:t,field:r,aggregationType:i}=e;void 0===t.series[0]&&(t.series=[ra({})]);const a=zh(t.series[0]?.featureIndex);let n=a?r:`${i}_${r}`;a&&r.startsWith(`${i}_`)&&(n=r.replace(`${i}_`,"")),t.series[0].x=n,(e=>{const{config:t,field:r,aggregationType:i}=e,a=Nh(t),n=zh(a)?{}:{outStatistics:[{statisticType:i,onStatisticField:r,outStatisticFieldName:`${i}_${r}`}]};t.series[0].query=n})({config:t,field:r,aggregationType:i}),await(async e=>{const{config:t,layerInfo:r,field:i,aggregationType:a}=e;t.title&&(t.title.content.text=await gu({config:t,layerInfo:r,numericFields:[i],aggregationType:a}))})(e)},Vh=e=>e.series[0]?.query?.outStatistics?.[0]?.statisticType??Pc,zh=e=>"number"==typeof e&&e>=0,qh=e=>zh(e.series[0]?.featureIndex)?e.series[0]?.x:e.series[0]?.query?.outStatistics?.[0]?.onStatisticField??"";class Rh extends _c{constructor(){super(...arguments),this._chartType=Gc}async setup(e){await this.loadConfigFromLayer(e),this.resolveSetup()}getField(){return qh(this._config)}async setField(e){await(async(e,t,r)=>{const i=Vh(t);await Bh({config:t,layerInfo:r,field:e,aggregationType:i})})(e,this._config,this.layerInfo),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setField")}getAggregationType(){return Vh(this._config)}async setAggregationType(e){await(async(e,t,r)=>{const i=qh(t);await Bh({config:t,layerInfo:r,field:i,aggregationType:e})})(e,this._config,this.layerInfo),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setAggregationType")}getInnerRadius(){return this._config.innerRadius??50}setInnerRadius(e){(e=>{this._config.innerRadius=e})(e),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setInnerRadius")}getStartAngle(){return this._config.startAngle??-90}setStartAngle(e){(e=>{this._config.startAngle=e})(e),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setStartAngle")}getEndAngle(){return this._config.endAngle??270}setEndAngle(e){(e=>{this._config.endAngle=e})(e),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setEndAngle")}getValueConversion(){return e=this._config,e.series[0]?.valueConversion;var e}setValueConversion(e){((e,t)=>{void 0!==t.series[0]&&(t.series[0].valueConversion=e)})(e,this._config),this.emitConfigUpdate("setValueConversion")}getFeatureIndex(){return Nh(this._config)}async setFeatureIndex(e){await Mh(e,this._config,this.layerInfo),this.emitConfigUpdate("setFeatureIndex")}removeFeatureIndex(){Mh(null,this._config,this.layerInfo),this.emitConfigUpdate("removeFeatureIndex")}getGaugeSubType(){return this._config.subType??"statisticGauge"}getNeedleVisibility(){return e=this._config,e.axes[0].needle?.visible??!0;var e}setNeedleVisibility(e){var t,r;t=e,void 0===(r=this._config).axes[0].needle&&(r.axes[0].needle=Hi()),r.axes[0].needle.visible=t,this.emitConfigUpdate("setNeedleVisibility")}getNeedleSymbol(){return e=this._config,e.axes[0].needle?.symbol;var e}setNeedleSymbol(e){var t,r;t=e,void 0===(r=this._config).axes[0].needle&&(r.axes[0].needle=Hi()),r.axes[0].needle.symbol=t,this.emitConfigUpdate("setNeedleSymbol")}getNeedleStartWidth(){return e=this._config,e.axes[0].needle?.startWidth;var e}setNeedleStartWidth(e){var t,r;t=e,void 0===(r=this._config).axes[0].needle&&(r.axes[0].needle=Hi()),r.axes[0].needle.startWidth=t,this.emitConfigUpdate("setNeedleStartWidth")}getNeedleEndWidth(){return e=this._config,e.axes[0].needle?.endWidth;var e}setNeedleEndWidth(e){var t,r;t=e,void 0===(r=this._config).axes[0].needle&&(r.axes[0].needle=Hi()),r.axes[0].needle.endWidth=t,this.emitConfigUpdate("setNeedleEndWidth")}getNeedleInnerRadius(){return e=this._config,e.axes[0].needle?.innerRadius;var e}setNeedleInnerRadius(e){var t,r;t=e,void 0===(r=this._config).axes[0].needle&&(r.axes[0].needle=Hi()),r.axes[0].needle.innerRadius=t,this.emitConfigUpdate("setNeedleInnerRadius")}getNeedleDisplayPin(){return e=this._config,e.axes[0].needle?.displayPin??!1;var e}setNeedleDisplayPin(e){var t,r;t=e,void 0===(r=this._config).axes[0].needle&&(r.axes[0].needle=Hi()),r.axes[0].needle.displayPin=t,this.emitConfigUpdate("setNeedleDisplayPin")}getInnerLabelVisible(){return e=this._config,e.axes[0].innerLabel?.visible??!0;var e}setInnerLabelVisibility(e){var t,r;t=e,void 0===(r=this._config).axes[0].innerLabel&&(r.axes[0].innerLabel=_i()),r.axes[0].innerLabel.visible=t,this.emitConfigUpdate("setInnerLabelVisibility")}getInnerLabelContent(){return e=this._config,e.axes[0].innerLabel?.content;var e}setInnerLabelContent(e){var t,r;t=e,void 0===(r=this._config).axes[0].innerLabel&&(r.axes[0].innerLabel=_i()),void 0!==t&&(r.axes[0].innerLabel.content=t),this.emitConfigUpdate("setInnerLabelContent")}getAxisTickVisibility(){return e=this._config,e.axes[0].ticks?.visible??!0;var e}setAxisTickVisibility(e){var t,r;t=e,void 0===(r=this._config).axes[0].ticks&&(r.axes[0].ticks={type:"gaugeAxisTick"}),r.axes[0].ticks.visible=t,this.emitConfigUpdate("setAxisTickVisibility")}getLabelsIncrement(){return this._config.axes[0].labelsIncrement}setLabelsIncrement(e){this._config.axes[0].labelsIncrement=e,this.emitConfigUpdate("setLabelsIncrement")}getOnlyShowFirstAndLastLabels(){return this._config.axes[0].onlyShowFirstAndLastLabels??!1}setOnlyShowFirstAndLastLabels(e){this._config.axes[0].onlyShowFirstAndLastLabels=e,this.emitConfigUpdate("setOnlyShowFirstAndLastLabels")}async generateDefaultConfig(){const t=await async function(t=zi()){return{version:e,type:j,id:t,colorMatch:!0,title:_i({text:await Vi(),visible:!0,font:Di(Z)}),series:[],axes:await Wi()}}();return t.series=[ra({objectIDField:this.layerInfo?.objectIdField})],t}}du(Rh,[df,If]);const Gh=e=>{Eu(e,null),ku(e,null),Fu(e,null),ju(e,null)},Uh=e=>e.series[0]?.overlays?.comparisonDistribution?.symbol??na().overlays.comparisonDistribution?.symbol??Li(),Xh=e=>e.series[0]?.overlays?.mean?.symbol??na().overlays.mean?.symbol??Li(),Yh=e=>e.series[0]?.overlays?.median?.symbol??na().overlays.median?.symbol??Li(),Hh=e=>e.series[0]?.overlays?.standardDeviation?.symbol??na().overlays.standardDeviation?.symbol??Li();class Wh extends _c{constructor(){super(...arguments),this._chartType=Yc}async setup(e){await this.loadConfigFromLayer(e),this.resolveSetup()}getNumericField(){return e=this._config,e.series[0]?.x??"";var e}async setNumericField(e){await(async(e,t,r)=>{const{layerFieldsInfo:i}=r;Gh(t),t?.series?.[0]&&(t.series[0].x=e);const a=kn(i,e);yu(t,0,a);const n=fi((await pu()).titleLabels.distributionOfField,{valueField:a});t?.title&&(t.title.content.text=n)})(e,this._config,this.layerInfo),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setNumericField")}getBinCount(){return e=this._config,e.series[0]?.binCount??32;var e}setBinCount(e){((e,t)=>{Gh(t),t?.series?.[0]&&(t.series[0].binCount=e)})(e,this._config),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setBinCount")}getBinColor(){return e=this._config,e.series[0]?.fillSymbol??na().fillSymbol;var e}setBinColor(e){((e,t)=>{t?.series?.[0]&&(t.series[0].fillSymbol={...t.series[0].fillSymbol,...e})})(e,this._config),this.emitConfigUpdate("setBinColor")}getDataTransformationType(){return e=this._config,e.series[0]?.dataTransformationType??"none";var e}setDataTransformationType(e){((e,t)=>{Gh(t),t?.series?.[0]&&(t.series[0].dataTransformationType=e)})(e,this._config),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setDataTransformationType")}getMeanColor(){return Xh(this._config)}setMeanColor(e){((e,t)=>{t.series[0].overlays??=aa(),t.series[0].overlays.mean??=Bi(1),t.series[0].overlays.mean.symbol={...t.series[0].overlays.mean.symbol,...e}})(e,this._config),this.emitConfigUpdate("setMeanColor")}getMedianColor(){return Yh(this._config)}setMedianColor(e){((e,t)=>{t.series[0].overlays??=aa(),t.series[0].overlays.median??=Bi(2),t.series[0].overlays.median.symbol={...t.series[0].overlays.median.symbol,...e}})(e,this._config),this.emitConfigUpdate("setMedianColor")}getNormalDistColor(){return Uh(this._config)}setNormalDistColor(e){((e,t)=>{t.series[0].overlays??=aa(),t.series[0].overlays.comparisonDistribution??=Bi(4),t.series[0].overlays.comparisonDistribution.symbol={...t.series[0].overlays.comparisonDistribution.symbol,...e}})(e,this._config),this.emitConfigUpdate("setNormalDistColor")}getStandardDevColor(){return Hh(this._config)}setStandardDevColor(e){((e,t)=>{t.series[0].overlays??=aa(),t.series[0].overlays.standardDeviation??=Bi(3),t.series[0].overlays.standardDeviation.symbol={...t.series[0].overlays.standardDeviation.symbol,...e}})(e,this._config),this.emitConfigUpdate("setStandardDevColor")}getShowNormalDistOverlay(){return e=this._config,e.series[0]?.overlays?.comparisonDistribution?.created??!1;var e}setShowNormalDistOverlay(e){((e,t)=>{const r=Bi(0);r.created=e,r.visible=e,r.symbol=Uh(t),t?.series?.[0]?.overlays&&(t.series[0].overlays.comparisonDistribution=r)})(e,this._config),this.emitConfigUpdate("setShowNormalDistOverlay")}getShowMeanOverlay(){return e=this._config,e.series[0]?.overlays?.mean?.created??!1;var e}setShowMeanOverlay(e){((e,t)=>{const r=Bi(1);r.created=e,r.visible=e,r.symbol=Xh(t),t?.series?.[0]?.overlays&&(t.series[0].overlays.mean=r)})(e,this._config),this.emitConfigUpdate("setShowMeanOverlay")}getShowMedianOverlay(){return e=this._config,e.series[0]?.overlays?.median?.created??!1;var e}setShowMedianOverlay(e){((e,t)=>{const r=Bi(2);r.created=e,r.visible=e,r.symbol=Yh(t),t?.series?.[0]?.overlays&&(t.series[0].overlays.median=r)})(e,this._config),this.emitConfigUpdate("setShowMedianOverlay")}getShowStandardDevOverlay(){return e=this._config,e.series[0]?.overlays?.standardDeviation?.created??!1;var e}setShowStandardDevOverlay(e){((e,t)=>{const r=Bi(3);r.created=e,r.visible=e,r.symbol=Hh(t),t?.series?.[0]?.overlays&&(t.series[0].overlays.standardDeviation=r)})(e,this._config),this.emitConfigUpdate("setShowStandardDevOverlay")}getSeriesOverlay(){return e=this._config,e?.series?.[0]?.overlays;var e}setSeriesOverlays(e){var t,r;t=e,r=this._config,void 0!==r?.series?.[0]&&(r.series[0].overlays=t),this.emitConfigUpdate("setSeriesOverlay")}async generateDefaultConfig(){return await async function(t=zi()){return{version:e,type:j,id:t,colorMatch:!0,title:_i({text:await Vi(),visible:!0,font:Di(Z)}),subTitle:_i(),footer:_i({text:"",visible:!0,font:Di(re)}),background:[255,255,255,255],axes:await Yi(_),series:[na()],legend:Mi()}}()}}du(Wh,[ff,mu,hu,vf,Af]);const Jh=(e,t)=>void 0!==t.series[e]?Ch(t.series[e]):void 0,Kh=(e,t,r)=>{void 0!==r.series[t]&&_h(e,r.series[t])},Zh=(e,t)=>void 0!==t.series[e]?Lh(t.series[e]):void 0,Qh=(e,t,r)=>{void 0!==r.series[t]&&Ph(e,r.series[t])},ev=(e,t)=>t.series?.[e]?.markerSymbol?.color,tv=(e,t,r)=>{if(void 0!==r.series?.[t]){const i=r.series[t];void 0===i.markerSymbol&&(i.markerSymbol=Ri()),i.markerSymbol.color=e}},rv=(e,t)=>t.series?.[e]?.markerSymbol?.style,iv=(e,t,r)=>{if(void 0!==r.series?.[t]){const i=r.series[t];void 0===i.markerSymbol&&(i.markerSymbol=Ri()),i.markerSymbol.style=e}},av=(e,t)=>t.series?.[e]?.markerSymbol?.size,nv=(e,t,r)=>{if(void 0!==r.series?.[t]){const i=r.series[t];void 0===i.markerSymbol&&(i.markerSymbol=Ri()),i.markerSymbol.size=e}},ov=(e,t)=>t.series?.[e]?.lineSmoothed??!1,sv=e=>{const{smoothed:t,seriesIndex:r,config:i}=e;i.series?.[r]&&(i.series[r].lineSmoothed=t)},cv=(e,t)=>t.series?.[e]?.showArea??!1,uv=e=>{const{visible:t,seriesIndex:r,config:i}=e;i.series?.[r]&&(i.series[r].showArea=t)},lv=(e,t)=>t.series?.[e]?.markerVisible??!0,dv=e=>{const{visible:t,seriesIndex:r,config:i}=e;i.series?.[r]&&(i.series[r].markerVisible=t)},fv=(e,t)=>t.series?.[e]?.areaColor,hv=(e,t)=>t.series?.[e]?.stackNegativeValuesToBaseline??!0,vv=e=>{const{stackNegativeValuesToBaseline:t,seriesIndex:r,config:i}=e;i.series?.[r]&&(i.series[r].stackNegativeValuesToBaseline=t)};class mv extends ah{constructor(){super(...arguments),this._chartType=Uc}async setup(e){await this.loadConfigFromLayer(e),void 0!==e.config&&this.updateSeriesFromLayerFilter(),await this.initDefaultSeries(),this.resolveSetup()}async generateDefaultConfig(){const t=await async function(t=zi()){return{version:e,type:j,id:t,colorMatch:!0,rotated:!1,orderOptions:{data:{orderType:Y,orderBy:N}},title:_i({text:await Vi(),visible:!0,font:Di(Z)}),subTitle:_i(),footer:_i({text:"",visible:!0,font:Di(re)}),background:[255,255,255,255],axes:await Yi(D),series:[],legend:Mi()}}();return t.series=[await Ji({objectIDField:this.layerInfo?.objectIdField})],t}async initDefaultSeries(){this.defaultSeries=await Ji({objectIDField:this.layerInfo?.objectIdField})}getSeriesLineStyle(e){return Jh(e,this._config)}setSeriesLineStyle(e,t){Kh(e,t,this._config),this.emitConfigUpdate("setSeriesLineStyle")}getSeriesLineWidth(e){return Zh(e,this._config)}setSeriesLineWidth(e,t){Qh(e,t,this._config),this.emitConfigUpdate("setSeriesLineWidth")}getSeriesMarkerColor(e){return ev(e,this._config)}setSeriesMarkerColor(e,t){tv(e,t,this._config),this.emitConfigUpdate("setSeriesMarkerColor")}getSeriesMarkerStyle(e){return rv(e,this._config)}setSeriesMarkerStyle(e,t){iv(e,t,this._config),this.emitConfigUpdate("setSeriesMarkerStyle")}getSeriesMarkerSize(e){return av(e,this._config)}setSeriesMarkerSize(e,t){nv(e,t,this._config),this.emitConfigUpdate("setSeriesMarkerSize")}isLineSmoothed(e){return ov(e,this._config)}setLineSmoothed(e,t){sv({smoothed:e,seriesIndex:t,config:this._config}),this.emitConfigUpdate("setLineSmoothed")}isAreaVisible(e){return cv(e,this._config)}setAreaVisible(e,t){uv({visible:e,seriesIndex:t,config:this._config}),this.emitConfigUpdate("setAreaVisible")}isMarkerVisible(e){return lv(e,this._config)}setMarkerVisible(e,t){dv({visible:e,seriesIndex:t,config:this._config}),this.emitConfigUpdate("setMarkerVisible")}getAreaColor(e){return fv(e,this._config)}setAreaColor(e,t){uv({visible:!0,seriesIndex:t,config:this._config}),ih(e,t,this._config),this.emitConfigUpdate("setAreaColor")}isNegativeValuesStackedToBaseline(e){return hv(e,this._config)}setNegativeValuesStackedToBaseline(e,t){vv({stackNegativeValuesToBaseline:e,seriesIndex:t,config:this._config}),this.emitConfigUpdate("setNegativeValuesStackedToBaseline")}async resetSeriesStyling(){const e=this.getSeriesLength();for(let t=0;t<e;t+=1){const e=Ti({colorIndex:t,opacity:wi});if(ih(e,t,this._config),tv(e,t,this._config),void 0!==this.layerInfo){const e=this.getSeriesId(t),r=await Qf(this._config,t,this.layerInfo);r!==this.layerInfo.objectIdField&&rh(r??e,t,this._config)}Kh(this.defaultSeries?.lineSymbol?.style,t,this._config),Qh(this.defaultSeries?.lineSymbol?.width,t,this._config),iv(this.defaultSeries?.markerSymbol?.style,t,this._config),nv(this.defaultSeries?.markerSymbol?.size,t,this._config)}this._config.colorMatch=!0,this.emitConfigUpdate("resetSeriesStyling")}async resetAvailable(){const e=!this.getColorMatch();let t=!1;if(!e){const e=this.getSeriesLength();for(let r=0;r<e;r+=1){if(void 0!==this.layerInfo){const e=await Qf(this._config,r,this.layerInfo),i=this.getSeriesName(r);void 0!==e&&e!==this.layerInfo.objectIdField&&e!==i&&(t=!0)}if(void 0!==this.defaultSeries?.lineSymbol?.style&&this.defaultSeries?.lineSymbol.style!==this.getSeriesLineStyle(r)||void 0!==this.defaultSeries?.lineSymbol?.width&&this.defaultSeries?.lineSymbol.width!==this.getSeriesLineWidth(r)||void 0!==this.defaultSeries?.markerSymbol?.style&&this.defaultSeries?.markerSymbol?.style!==this.getSeriesMarkerStyle(r)||void 0!==this.defaultSeries?.markerSymbol?.size&&this.defaultSeries?.markerSymbol?.size!==this.getSeriesMarkerSize(r)){t=!0;break}}}return e||t}}du(mv,[ff,mu,hu,hf,vf,If,Af,Mf]);const pv=(e,t)=>{t.series?.[0]?.slices?.sort(((t,r)=>e.findIndex((e=>t.sliceId===e))-e.findIndex((e=>r.sliceId===e))))},yv=(e,t)=>{t.series?.[0]&&(t.series[0].sliceGrouping=e)},gv=e=>e.series?.[0]?.sliceGrouping?.percentageThreshold,bv=(e,t)=>{t.series?.[0]&&(t.series[0].slices=e)},wv=e=>e.series?.[0]?.x??"",xv=(e,t)=>{let r=yf.valueDesc;const i=e.orderOptions?.data?.orderType??function(e,t){const r=e.series?.[0];return[`${t===gf.Category?r.y:au} ${Zc}`]}(e,t),a=e.orderOptions?.data?.orderBy??Zc;return r=i===ru&&Array.isArray(a)?yf.customSort:i===ru?a===Kc?yf.labelAsc:yf.labelDesc:a===Kc?yf.valueAsc:yf.valueDesc,r},Sv=Jl((e=>{let t=[];return t=e.series?.[0]?.query?.outStatistics?.map((e=>e.onStatisticField))??[e.series?.[0]?.y??""],[...new Set(t.filter((e=>""!==e)))]}),(e=>e.series)),jv=(e,t)=>{const r=Sv(e);let i;return i=t===gf.Fields&&0===r.length?$c:e.series?.[0]?.query?.outStatistics?.[0]?.statisticType??Nc,i};async function Fv(e){const{config:t,layerInfo:r,mode:i}=e,{objectIdField:a}=r??{},n=await ta(a),o=wv(t),s=t.series[0]?.dataLabels?.visible??!1,c={...n,x:i===gf.Category?o:iu,slices:t.series?.[0]?.slices,dataLabels:{...n.dataLabels,visible:s},innerRadiusSize:t.series?.[0]?.innerRadius,sliceGrouping:t.series?.[0]?.sliceGrouping,dataLabelsCharacterLimit:t.series?.[0]?.dataLabelsCharacterLimit,numericValueFormat:t.series?.[0]?.numericValueFormat,percentValueFormat:t.series?.[0]?.percentValueFormat,displayNumericValueOnDataLabel:t.series?.[0]?.displayNumericValueOnDataLabel,displayPercentageOnDataLabel:t.series?.[0]?.displayPercentageOnDataLabel},u=jv(t,i);if(u!==Nc&&void 0!==a){const e=`${u}_${a}_0`.toUpperCase();c.y=i===gf.Category?e:au,c.query={outStatistics:i===gf.Category?[{statisticType:u,onStatisticField:a,outStatisticFieldName:e}]:[]}}return i===gf.Category&&void 0!==c.query?c.query.groupByFieldsForStatistics=[o]:delete c.query?.groupByFieldsForStatistics,qd(c)}async function kv(e,t,r){const{layerFieldsInfo:i,objectIdField:a}=t,n=wv(e),o=Sv(e),s=jv(e,r),c=0===o.length||o.includes(a),u=await oa(s),l=c?"":o.map((e=>kn(i??[],e))).join(", "),d=kn(i??[],n);let f="";const h=await pu();let v;return v=r===gf.Fields?0===o.length:""===n,v?f=h.chartType.pieChart:s===Nc?f=fi(h.titleLabels.aggrFieldsByCategory,{aggregationFields:c?a:l,category:d}):s===Pc?f=fi(h.titleLabels.aggrTypeCategory,{aggregationType:u,category:d}):o.length>0&&(f=d===iu||af(d)||null===d?fi(h.titleLabels.aggrTypeOfAggrFields,{aggregationType:u,aggregationFields:l}):fi(h.titleLabels.aggrTypeOfAggrFieldsByCategory,{aggregationType:u,aggregationFields:l,category:d})),f}const Ev=e=>{const{newSortOrderKind:t,config:r,orderByList:i}=e;r.orderOptions??={},r.orderOptions.data=t===yf.customSort&&void 0!==i?{orderType:ru,orderBy:[...i]}:{orderType:t===yf.labelAsc||t===yf.labelDesc?ru:Qc,orderBy:t===yf.labelAsc||t===yf.valueAsc?Kc:Zc}};async function Ov(e){const{numericFields:t,aggregationType:r,config:i,layerInfo:a,mode:n}=e,o=xv(i,n),s=[],c=await Fv({config:i,layerInfo:a,mode:n}),u={...c,query:{...c.query}};if(t.length<=1?u.query.where=c.query?.where:delete u.query.where,r!==Nc)if(n===gf.Category){if(t.length>0){const e=t[0],i=`${r}_${t[0]}_0`.toUpperCase();u.y=i,u.query.outStatistics=[{...c.query?.outStatistics?.[0]??{},onStatisticField:e,outStatisticFieldName:i,statisticType:r}]}}else{u.y=au;for(let e=0;e<t.length;e+=1)u.query.outStatistics?.push({onStatisticField:t[e],outStatisticFieldName:t[e],statisticType:r})}else u.y=t[0],u.query={};const l=Iv(i,n);Ev({newSortOrderKind:o,config:i,orderByList:l}),s.push(u),i.series=s}const Tv=async e=>{let{newNumericFields:t}=e;const{config:r,layerInfo:i,mode:a}=e,{objectIdField:n}=i??{};let o=jv(r,a);t=""===t?[]:t,t="string"==typeof t?[t]:t,void 0!==n&&(0===t.length&&a===gf.Category?(t.push(n),o=Pc):o===Pc&&t.length>=1&&!t.includes(n)&&(o=$c)),void 0!==i?(await Ov({config:r,layerInfo:i,numericFields:t,aggregationType:o,mode:a}),yu(r,1,await gu({config:r,layerInfo:i,numericFields:Sv(r),aggregationType:jv(r,a)})),r.title&&(r.title.content.text=await kv(r,i,a))):r.series.forEach((e=>{delete e.query,e.y=t[0]}))},Iv=(e,t)=>{let r=[];const i=e.orderOptions?.data?.orderType,a=xv(e,t),n=e.orderOptions?.data?.orderBy;return a===yf.customSort&&i===ru&&Array.isArray(n)&&(r=n),r},Av=e=>{const{values:t,config:r,mode:i}=e;r.orderOptions??={};const a=r.orderOptions?.data?.orderType;xv(r,i)===yf.customSort&&a===ru&&(r.orderOptions.data={orderType:ru,orderBy:[...t]})};class Dv extends _c{constructor(){super(...arguments),this._chartType=Rc,this._mode=gf.Category,this._groupedSliceIds=[]}async setup(e){await this.loadConfigFromLayer(e);const{config:t}=e;if(void 0!==t){const e=$n(t.series);this._mode=e!==vn?gf.Category:gf.Fields}this.resolveSetup()}getCategory(){return wv(this._config)}async setCategory(e){(!nc(this._config)||""!==e.trim())&&(await(async e=>{const{newCategory:t,config:r,layerInfo:i,mode:a}=e,n=r.series?.length??0,o=xv(r,a);if(r.series.forEach((e=>{e.x=a===gf.Category?t:iu,void 0!==e.query&&t!==iu?e.query.groupByFieldsForStatistics=[t]:delete e.query?.groupByFieldsForStatistics})),0===n){const e=[await Fv({config:r,layerInfo:i,mode:a})];r.series=e}if(void 0!==o){const e=Iv(r,a);Ev({newSortOrderKind:o,config:r,orderByList:e})}if(void 0!==i){yu(r,1,await gu({config:r,layerInfo:i,numericFields:Sv(r),aggregationType:jv(r,a)})),r.title&&(r.title.content.text=await kv(r,i,a));const e=a===gf.Fields?Sv(r).filter((e=>e!==i.objectIdField)):Sv(r);await Tv({newNumericFields:e,config:r,layerInfo:i,mode:a})}})({newCategory:e,config:this._config,layerInfo:this.layerInfo,mode:this._mode}),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setCategory"))}getNumericFields(){return Sv(this._config)}async setNumericFields(e){"string"==typeof e&&(e=[e]),void 0===this.layerInfo||lu(this.layerInfo.layerFieldsInfo,e)?(await Tv({newNumericFields:e,config:this._config,layerInfo:this.layerInfo,mode:this._mode}),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setNumericFields")):console.log("Invalid numericFields")}getAggregationType(){return jv(this._config,this._mode)}async setAggregationType(e){await(async e=>{const{newAggregationType:t,config:r,layerInfo:i,mode:a}=e,n=Sv(r);await Ov({config:r,layerInfo:i,numericFields:n,aggregationType:t,mode:a}),yu(r,1,await gu({config:r,layerInfo:i,numericFields:Sv(r),aggregationType:jv(r,a)})),r.title&&(r.title.content.text=await kv(r,i,a));const o=r.series?.[0]?.displayNumericValueOnDataLabel,s=r.series?.[0]?.displayPercentageOnDataLabel;r.legend={...r.legend??Mi(),displayNumericValue:o,displayPercentage:s}})({newAggregationType:e,config:this._config,layerInfo:this.layerInfo,mode:this._mode}),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setAggregationType")}getSortOrder(){return xv(this._config,this._mode)}setSortOrder(e,t){Ev({newSortOrderKind:e,config:this._config,orderByList:t}),this.emitConfigUpdate("setSortOrder")}getOrderByList(){return Iv(this._config,this._mode)}setOrderByList(e){Av({values:e,config:this._config,mode:this._mode}),this.emitConfigUpdate("setOrderByList")}getMode(){return this._mode}setMode(e){this._mode=e,this.emitConfigUpdate("setMode")}async getCustomSortValues(){const e=wv(this._config),t=$n(this._config.series),r=this.getNumericFields();let i=[];return t===vn?i=r:""!==e.trim()&&t===hn&&(i=await fu({category:e,config:this._config,layerInfo:this.layerInfo})),i}moveCustomSortValuesInOrderByList(e,t){const r=Iv(this._config,this._mode),[i]=r.splice(e,1);r.splice(t,0,i),Av({values:r,config:this._config,mode:this._mode}),this.emitConfigUpdate("moveCustomSortValuesInOrderByList")}getLeaderLinesSymbol(){return(e=>{for(const t of e.series)if(void 0!==t.ticks?.lineSymbol)return t.ticks.lineSymbol})(this._config)}setLeaderLinesSymbol(e){((e,t)=>{for(const r of t.series)void 0!==r.ticks&&void 0!==e||(r.ticks=ea()),void 0!==e&&(r.ticks.lineSymbol=qd(e))})(e,this._config),this.emitConfigUpdate("setLeaderLinesSymbol")}getSlices(){return e=this._config,e.series?.[0]?.slices;var e}setSlices(e){bv(e,this._config),this.emitConfigUpdate("setSlices")}getGroupedSliceIds(){return this._groupedSliceIds}setGroupedSliceIds(e){this._groupedSliceIds=e,this.emitConfigUpdate("setGroupedSliceIds")}getSliceGrouping(){return e=this._config,e.series?.[0]?.sliceGrouping;var e}setSliceGrouping(e){yv(e,this._config),this.emitConfigUpdate("setSliceGrouping")}getInnerRadiusSize(){return e=this._config,e.series?.[0]?.innerRadius??0;var e}setInnerRadiusSize(e){((e,t)=>{t.series?.[0]&&(t.series[0].innerRadius=e)})(e,this._config),this.emitConfigUpdate("setInnerRadiusSize")}getGroupingThreshold(){return gv(this._config)??0}setGroupingThreshold(e){((e,t)=>{void 0!==t.series?.[0]?.sliceGrouping?t.series[0].sliceGrouping.percentageThreshold=e:t.series[0].sliceGrouping={sliceId:Fi,percentageThreshold:e}})(e,this._config),this.emitConfigUpdate("setGroupingThreshold")}getLabelCharacterLimit(){return e=this._config,e.series?.[0]?.dataLabelsCharacterLimit??null;var e}setLabelCharacterLimit(e){((e,t)=>{t.series?.[0]&&(t.series[0].dataLabelsCharacterLimit=e)})(e,this._config),this.emitConfigUpdate("setLabelCharacterLimit")}getDecimalPlaces(){return e=this._config,e.series?.[0]?.numericValueFormat?.intlOptions?.minimumFractionDigits??1;var e}setDecimalPlaces(e){((e,t)=>{void 0!==t.series?.[0]?.numericValueFormat?(t.series[0].numericValueFormat.intlOptions.minimumFractionDigits=e,t.series[0].numericValueFormat.intlOptions.maximumFractionDigits=e):t.series[0].numericValueFormat={...Pi(),intlOptions:{minimumFractionDigits:e,maximumFractionDigits:e}},void 0!==t.series?.[0]?.percentValueFormat?(t.series[0].percentValueFormat.intlOptions.minimumFractionDigits=e,t.series[0].percentValueFormat.intlOptions.maximumFractionDigits=e):t.series[0].percentValueFormat={...Pi(),intlOptions:{minimumFractionDigits:e,maximumFractionDigits:e}}})(e,this._config),this.emitConfigUpdate("setDecimalPlaces")}getDisplayType(){return(e=>{let t;const r=e.series?.[0];return t=!0===r?.displayNumericValueOnDataLabel&&!0===r?.displayPercentageOnDataLabel?bf.Both:!0===r?.displayNumericValueOnDataLabel?bf.Value:bf.Percentage,t})(this._config)}setDisplayType(e){((e,t)=>{const r=e===bf.Value||e===bf.Both,i=e===bf.Percentage||e===bf.Both;t.series?.[0]&&(t.series[0].displayNumericValueOnDataLabel=r,t.series[0].displayPercentageOnDataLabel=i),t.legend&&(t.legend={...t.legend,displayNumericValue:r,displayPercentage:i})})(e,this._config),this.emitConfigUpdate("setDisplayType")}async generateDefaultConfig(){const t=await async function(t=zi()){return{version:e,type:j,id:t,colorMatch:!0,orderOptions:{data:{orderType:G,orderBy:M}},title:_i({text:await Vi(),visible:!0,font:Di(Z)}),subTitle:_i(),footer:_i({text:"",visible:!0,font:Di(re)}),background:[255,255,255,255],series:[],legend:{...Mi(),displayNumericValue:!1,displayPercentage:!0}}}();return t.series=[await ta(this.layerInfo?.objectIdField)],t}getOriginalSliceName(e){return((e,t)=>t.series?.[0]?.slices?.[e]?.originalLabel)(e,this._config)}getSliceName(e){return((e,t)=>t.series?.[0]?.slices?.[e]?.label)(e,this._config)}setSliceName(e,t){((e,t,r)=>{r.series?.[0]?.slices?.[t]&&(r.series[0].slices[t].label=e)})(e,t,this._config),this.emitConfigUpdate("setSliceName")}getSliceColor(e){return((e,t)=>t.series?.[0]?.slices?.[e]?.fillSymbol?.color)(e,this._config)}setSliceColor(e,t){((e,t,r)=>{const i=r.series?.[0]?.slices?.[t]?.fillSymbol;void 0!==i?(i.color=e,void 0!==i.outline?i.outline.color=e:i.outline={type:Mc,color:e}):void 0!==r.series?.[0]?.slices?.[t]&&(r.series[0].slices[t].fillSymbol={type:Bc,color:e,outline:{type:Mc,color:e}})})(e,t,this._config),this.emitConfigUpdate("setSliceColor")}getOrderOfSlices(){return e=this._config,e.series?.[0]?.slices?.map((e=>e.sliceId));var e}setOrderOfSlices(e){pv(e,this._config),this.emitConfigUpdate("setOrderOfSlices")}moveSeries(e,t){const r=this.getOrderOfSlices();if(void 0!==r){const[i]=r.splice(e,1);r.splice(t,0,i),pv(r,this._config),this.emitConfigUpdate("moveSeries")}}getSliceId(e){return((e,t)=>t.series[0]?.slices?.[e]?.sliceId)(e,this._config)}getSliceIndex(e){return((e,t)=>t.series[0]?.slices?.findIndex((t=>t.sliceId===e)))(e,this._config)}getSlicesLength(){return e=this._config,e.series[0]?.slices?.length??0;var e}resetSlices(){var e;bv(void 0,e=this._config),yv({sliceId:Fi,percentageThreshold:gv(e)??0},e),this.emitConfigUpdate("resetSlices")}resetAvailable(){const e=!this.getColorMatch();let t=!1;const r=this.getSlices()?.length??0;for(let e=0;e<r;e+=1){const r=this.getOriginalSliceName(e),i=this.getSliceName(e);if(void 0!==r&&r?.toString()!==i?.toString()){t=!0;break}}const i=this.getSliceGrouping();return void 0!==i?.originalLabel&&i?.label!==i.originalLabel&&(t=!0),e||t}}du(Dv,[mu,hu,vf]);const Cv=e=>{Eu(e,null),ku(e,null),Fu(e,null),ju(e,null)},_v=e=>{const{name:t,axisIndex:r,config:i,layerInfo:a}=e,{layerFieldsInfo:n}=a,o=n.find((e=>e.name===t)),s=void 0!==o&&Qs(o);Iu(i,r,s)},Lv=async e=>{const{x:t,y:r,config:i,layerInfo:a}=e,{layerFieldsInfo:n}=a,o=kn(n,t),s=kn(n,r);if(af(t)||yu(i,0,o),af(r)||yu(i,1,s),!af(t)&&!af(r)){const e=fi((await pu()).titleLabels.xAndY,{x:o,y:s});i.title?.content&&(i.title.content.text=e)}},Pv=e=>e.series[0]?.x??"",$v=e=>e.series[0]?.y??"",Nv=e=>e.series[0]?.sizePolicy??{type:"sizeScale",field:"",scaleType:"linear",minSize:5,maxSize:30};class Mv extends _c{constructor(){super(...arguments),this._chartType=qc}async setup(e){await this.loadConfigFromLayer(e),this.resolveSetup()}getXAxisField(){return Pv(this._config)}async setXAxisField(e){await(async(e,t,r)=>{Cv(t),t.series[0]&&(t.series[0].x=e),await Lv({x:e,y:$v(t),config:t,layerInfo:r}),_v({name:e,axisIndex:0,config:t,layerInfo:r})})(e,this._config,this.layerInfo),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setXAxisField")}getYAxisField(){return $v(this._config)}async setYAxisField(e){await(async(e,t,r)=>{Cv(t),t.series[0]&&(t.series[0].y=e),await Lv({x:Pv(t),y:e,config:t,layerInfo:r}),_v({name:e,axisIndex:1,config:t,layerInfo:r})})(e,this._config,this.layerInfo),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setYAxisField")}getShowLinearTrend(){return e=this._config,(e.series[0]?.overlays?.trendLine?.visible&&e.series[0]?.overlays?.trendLine?.created)??!1;var e}setShowLinearTrend(e){((e,t)=>{!t.series[0]?.overlays?.trendLine?.created&&e&&(t.series[0].overlays??=Xi(),t.series[0].overlays.trendLine??=Xi().trendLine,t.series[0].overlays.trendLine.created=e),((e,t)=>{t.series[0].overlays??=Xi(),t.series[0].overlays.trendLine??=Xi().trendLine,t.series[0].overlays.trendLine.visible=e})(e,t)})(e,this._config),this.emitConfigUpdate("setShowLinearTrend")}getLinearTrendSymbol(){return e=this._config,e.series[0]?.overlays?.trendLine?.symbol??{};var e}setLinearTrendSymbol(e){((e,t)=>{t.series[0].overlays??=Xi(),t.series[0].overlays.trendLine??=Xi().trendLine,t.series[0].overlays.trendLine.symbol=e})(e,this._config),this.emitConfigUpdate("setLinearTrendSymbol")}getFixedMarkerSymbol(){return e=this._config,e.series[0]?.markerSymbol??{};var e}setFixedMarkerSymbol(e){((e,t)=>{t.series[0]&&(t.series[0].markerSymbol=e)})(e,this._config),this.emitConfigUpdate("setFixedMarkerSymbol")}getSizePolicy(){return Nv(this._config)}setSizePolicy(e){nf(Nv(this._config),e)||(((e,t)=>{t.series[0]&&(t.series[0].sizePolicy=void 0!==e&&""!==e.field?.trim()?{...t.series[0].sizePolicy,...e}:void 0)})(e,this._config),this.emitConfigUpdate("setSizePolicy"))}getSeriesOverlays(){return e=this._config,e?.series?.[0]?.overlays;var e}setSeriesOverlays(e){var t,r;t=e,r=this._config,void 0!==r?.series[0]&&(r.series[0].overlays=t),this.emitConfigUpdate("setSeriesOverlays")}async generateDefaultConfig(){return await async function(t=zi()){return{version:e,type:j,id:t,colorMatch:!0,title:_i({text:await Vi(),visible:!0,font:Di(Z)}),subTitle:_i(),footer:_i({text:"",visible:!0,font:Di(re)}),background:[255,255,255,255],axes:await Yi(T),series:[{type:T,id:T,name:T,x:"",y:"",markerSymbol:Ui(),overlays:Xi(),dataLabels:_i({text:"",visible:!1,font:Di(Q)})}],legend:Mi()}}()}}function Bv(e){return void 0!==e&&"getConfig"in e}function Vv(e){return void 0!==e&&e.getChartType()===Xc}function zv(e){return void 0!==e&&e.getChartType()===Uc}function qv(e){return void 0!==e&&e.getChartType()===Rc}function Rv(e){return void 0!==e&&e.getChartType()===qc}function Gv(e){return void 0!==e&&"getXAxisTitleText"in e}function Uv(e){return void 0!==e&&[Xc,Hc,Yc,qc,Uc,Wc].includes(e.getChartType())&&"getYAxisTitleText"in e}function Xv(e){return void 0!==e&&"getRotatedState"in e}function Yv(e){return void 0!==e&&"getDataLabelsVisibility"in e}function Hv(e){return void 0!==e&&"getGuideVisibility"in e}function Wv(e){return void 0!==e&&"addXAxisGuide"in e}function Jv(e){return void 0!==e&&"addYAxisGuide"in e}function Kv(e){return void 0!==e&&"getLegendVisibility"in e}async function Zv(e){const{config:t,layer:r}=e,i=e.chartType;let a;switch(i){case Xc:a=new nh;break;case Uc:a=new mv;break;case Rc:a=new Dv;break;case Yc:a=new Wh;break;case qc:a=new Mv;break;case Hc:a=new $h;break;case Gc:a=new Rh;break;default:a=void 0}return await(a?.setup({layer:r,config:t})),void 0!==i&&function(e,t){return void 0!==e&&e.getChartType()===t}(a,i)?a:void 0}du(Mv,[ff,mu,hu,vf,If,Af]),du(class extends ah{constructor(){super(...arguments),this._chartType=Wc}getConfig(){return this._config}async setup(e){await this.loadConfigFromLayer(e),void 0!==e.config&&(uc(e.config?.series)&&await this.initDefaultSeries(),await this.updateSeriesFromLayerFilter()),this.resolveSetup()}async generateDefaultConfig(){const e=await ia();return e.series=[await Zi({objectIDField:this.layerInfo?.objectIdField})],e}async initDefaultSeries(){this.defaultSeries=await Ji({objectIDField:this.layerInfo?.objectIdField})}getSeriesLineStyle(e){return Jh(e,this._config)}setSeriesLineStyle(e,t){const r=this._config.series?.[t];sc(r)&&(Kh(e,t,this._config),this.emitConfigUpdate("setSeriesLineStyle"))}getSeriesLineWidth(e){return Zh(e,this._config)}setSeriesLineWidth(e,t){const r=this._config.series?.[t];sc(r)&&(Qh(e,t,this._config),this.emitConfigUpdate("setSeriesLineWidth"))}getSeriesMarkerColor(e){return ev(e,this._config)}setSeriesMarkerColor(e,t){const r=this._config.series?.[t];sc(r)&&(tv(e,t,this._config),this.emitConfigUpdate("setSeriesMarkerColor"))}getSeriesMarkerStyle(e){return rv(e,this._config)}setSeriesMarkerStyle(e,t){const r=this._config.series?.[t];sc(r)&&(iv(e,t,this._config),this.emitConfigUpdate("setSeriesMarkerStyle"))}getSeriesMarkerSize(e){return av(e,this._config)}setSeriesMarkerSize(e,t){const r=this._config.series?.[t];sc(r)&&(nv(e,t,this._config),this.emitConfigUpdate("setSeriesMarkerSize"))}isLineSmoothed(e){return ov(e,this._config)}setLineSmoothed(e,t){const r=this._config.series?.[t];sc(r)&&(sv({smoothed:e,seriesIndex:t,config:this._config}),this.emitConfigUpdate("setLineSmoothed"))}isAreaVisible(e){return cv(e,this._config)}setAreaVisible(e,t){const r=this._config.series?.[t];sc(r)&&(uv({visible:e,seriesIndex:t,config:this._config}),this.emitConfigUpdate("setAreaVisible"))}isMarkerVisible(e){return lv(e,this._config)}setMarkerVisible(e,t){const r=this._config.series?.[t];sc(r)&&(dv({visible:e,seriesIndex:t,config:this._config}),this.emitConfigUpdate("setMarkerVisible"))}getAreaColor(e){return fv(e,this._config)}setAreaColor(e,t){const r=this._config.series?.[t];sc(r)&&(uv({visible:!0,seriesIndex:t,config:this._config}),ih(e,t,this._config),this.emitConfigUpdate("setAreaColor"))}isNegativeValuesStackedToBaseline(e){return hv(e,this._config)}setNegativeValuesStackedToBaseline(e,t){const r=this._config.series?.[t];sc(r)&&(vv({stackNegativeValuesToBaseline:e,seriesIndex:t,config:this._config}),this.emitConfigUpdate("setNegativeValuesStackedToBaseline"))}getSeriesHideOversizedStackedLabels(e){return ou(e,this._config)}setSeriesHideOversizedStackedLabels(e,t){const r=this._config.series?.[t];cc(r)&&(su(e,t,this._config),this.emitConfigUpdate("setSeriesHideOversizedStackedLabels"))}},[ff,mu,hu,hf,vf,If,Af,Mf]);export{Xv as $,Hv as B,Uv as D,Bv as E,zv as I,mf as J,Gv as L,Kv as M,Jv as N,qv as O,Wv as R,Rv as T,Yv as U,pf as Z,xf as a,yf as e,wf as i,Vv as k,jf as n,Sf as o,Zv as q,bf as r,gf as t}