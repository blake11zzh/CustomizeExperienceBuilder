/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See LICENSE.md for details.
 * v4.32.1
 */
import{d as e,f as t}from"./p-ccd1c88c.js";const s=e=>!("isConnected"in e)||e.isConnected,o=(()=>{let e;return(...t)=>{e&&clearTimeout(e),e=setTimeout((()=>{e=0,(e=>{for(let t of e.keys())e.set(t,e.get(t).filter(s))})(...t)}),2e3)}})(),n=e=>"function"==typeof e?e():e,r=(()=>{const s=((e,t=((e,t)=>e!==t))=>{const s=n(e);let o=new Map(Object.entries(null!=s?s:{}));const r={dispose:[],get:[],set:[],reset:[]},c=()=>{var t;o=new Map(Object.entries(null!==(t=n(e))&&void 0!==t?t:{})),r.reset.forEach((e=>e()))},a=e=>(r.get.forEach((t=>t(e))),o.get(e)),i=(e,s)=>{const n=o.get(e);t(s,n,e)&&(o.set(e,s),r.set.forEach((t=>t(e,s,n))))},u="undefined"==typeof Proxy?{}:new Proxy(s,{get:(e,t)=>a(t),ownKeys:()=>Array.from(o.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,t)=>o.has(t),set:(e,t,s)=>(i(t,s),!0)}),d=(e,t)=>(r[e].push(t),()=>{((e,t)=>{const s=e.indexOf(t);s>=0&&(e[s]=e[e.length-1],e.length--)})(r[e],t)});return{state:u,get:a,set:i,on:d,onChange:(t,s)=>{const o=d("set",((e,o)=>{e===t&&s(o)})),r=d("reset",(()=>s(n(e)[t])));return()=>{o(),r()}},use:(...e)=>{const t=e.reduce(((e,t)=>(t.set&&e.push(d("set",t.set)),t.get&&e.push(d("get",t.get)),t.reset&&e.push(d("reset",t.reset)),t.dispose&&e.push(d("dispose",t.dispose)),e)),[]);return()=>t.forEach((e=>e()))},dispose:()=>{r.dispose.forEach((e=>e())),c()},reset:c,forceUpdate:e=>{const t=o.get(e);r.set.forEach((s=>s(e,t,t)))}}})({selectedChartId:"",chartAxesBoundDataMap:{},scatterPlotData:{}},void 0);return s.use((()=>{if("function"!=typeof e)return{};const s=new Map;return{dispose:()=>s.clear(),get:t=>{const o=e();o&&((e,t,s)=>{const o=e.get(t);o?o.includes(s)||o.push(s):e.set(t,[s])})(s,t,o)},set:e=>{const n=s.get(e);n&&s.set(e,n.filter(t)),o(s)},reset:()=>{s.forEach((e=>e.forEach(t))),o(s)}}})()),s})(),{state:c}=r,a=e=>{const{chartId:t,isXAxis:s,isLogarithmic:o}=e;return`${t}_${s?"x":"y"}${o?"_log":""}`},i=e=>{e.chartAxesBoundDataMap[e.selectedChartId]=void 0};export{i as d,a as g,c as s}