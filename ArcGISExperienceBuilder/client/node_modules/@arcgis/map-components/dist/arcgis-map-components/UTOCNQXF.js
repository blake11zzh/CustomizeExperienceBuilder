/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.1 */
import{a as i}from"./TZZWLXCB.js";import{a as f}from"./JUTUDMMN.js";import{B as u,C as s,E as r,G as $,H as v,a as b,g,s as l}from"./ODG4MF52.js";var{watch:y}=await $arcgis.l("core/reactiveUtils");function B(e){return e.portalItem?.type==="Web Scene"||e.referenceLayers.some(a=>a.type==="scene")}function C(e){return!!e?.portalItem?.tags?.some(a=>a.toLowerCase()==="beta")}var o=class extends u{constructor(){super(...arguments),this._itemState="loading",this._isThumbnailLoaded=!1,this._isActive=!1}static{this.properties={_itemState:16,_isThumbnailLoaded:16,_isActive:16,disabled:5,item:0,itemIndex:9,viewModel:0,messages:0}}static{this.shadowRootOptions=g}loaded(){this.manager.onLifecycle(()=>[y(()=>this.item.state,a=>{this._itemState=a},{sync:!0}),y(()=>this.viewModel.activeBasemap,a=>{this._isActive=this.item.basemap.id===a?.id,this._isActive&&(this.el.childElem?.focus(),this.el.scrollIntoView({block:"nearest"}))},{initial:!0,sync:!0})])}render(){let{disabled:a,item:t,itemIndex:n,viewModel:c,messages:_}=this,I=t.basemap.thumbnailUrl||v("assets/basemap-gallery/images/basemap-toggle-64.svg"),d=t.basemap.title,w=t.basemap.portalItem?.snippet,L=t.error?.message||w||d,{activeBasemapIndex:p}=c,m=p===n,T=m||p===-1&&n===0?0:-1,x={[i.selectedItem]:m,[i.itemError]:t.state==="error"},h=`basemapgallery-item-${t.uid}`;return l`<div .ariaChecked=${m} .ariaDisabled=${a} aria-labelledby=${h??r} class=${s(b(i.item,x))} role=radio tabindex=${T??r} title=${L??r} @click=${()=>{t.state==="ready"&&(c.activeBasemap=t.basemap)}}><img alt class=${s(i.itemThumbnail)} src=${I??r} @load=${()=>{t.state!=="loading"&&(this._isThumbnailLoaded=!0)}}><div class=${s(i.itemContent)}><div class=${s(i.itemTitle)}><span id=${h??r}>${d}</span></div>${B(t.basemap)?S(t.basemap,_):null}</div>${t.state!=="loading"&&this._isThumbnailLoaded?null:l`<calcite-scrim><span aria-hidden=true class=${s(f.loaderAnimation)} role=presentation></span></calcite-scrim>`}</div>`}};function S(e,a){return l`<div class=${s(i.itemTagsContainer)}>${A(a)}${C(e)?D(a):null}</div>`}function A(e){return l`<calcite-chip scale=s .label=${e.tag3D}>${e.tag3D}</calcite-chip>`}function D(e){return l`<calcite-chip appearance=outline-fill scale=s .label=${e.tagBeta}>${e.tagBeta}</calcite-chip>`}$("arcgis-basemap-gallery-item",o);export{o as ArcgisBasemapGalleryItem};
