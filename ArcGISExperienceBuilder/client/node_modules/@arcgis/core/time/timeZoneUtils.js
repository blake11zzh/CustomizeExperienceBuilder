/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
*/
import{legacyTimeZoneMap as t}from"./legacyTimeZoneMap.js";import{DateTime as e,FixedOffsetZone as n}from"luxon";const o="system",r="unknown",i="UTC",s=Intl.DateTimeFormat().resolvedOptions().timeZone,m="shortOffset";function u(t){return"timeZoneIANA"in t}function a(t){return t.startsWith("UTC")}function f(t,e=!1){return{json:{read:{source:t,reader:(e,n)=>n[t]?c(n[t]):null},write:!!e&&{allowNull:!0,writer(e,n){n[t]=e?l(e):null}}}}}function c(t,e=o){return t?u(t)?t.timeZoneIANA:Z(t,e):e}function l(t){return{timeZoneIANA:t}}function Z(e,n=o){if(!e||!t.has(e.timeZone))return n;const r=t.get(e.timeZone);return a(e.timeZone)||e.respectsDaylightSaving?r:h(r)}function h(t){const o=e.local().setZone(t),r=Math.min(o.set({month:1,day:1}).offset,o.set({month:5}).offset);if(0===r)return"Etc/UTC";return`Etc/GMT${n.instance(-r).formatOffset(0,"narrow")}`}function p(t,e,n,o,s){if(e&&"date"===s)return{timeZone:i,timeZoneName:void 0};const u=o.timeStyle||o.hour,a=n===r;return{timeZone:a?"timestamp-offset"===s?void 0:t??i:n,timeZoneName:a&&u?m:void 0}}function w(t){const e=new Set(["etc/utc","etc/gmt","gmt"]),n=new Set(Intl.supportedValuesOf("timeZone").map((t=>t.toLowerCase())));return t===o||t===r||e.has(t.toLowerCase())||n.has(t.toLowerCase())}export{Z as convertLegacyTimeZone,c as fromTimeReference,p as getTimeZoneFormattingOptions,w as isTimeZoneValid,m as shortTimeZoneName,o as system,s as systemTimeZone,f as timeZoneProperty,l as toTimeReference,r as unknown,i as utc};
